!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(b,t){function e(t,e){return e.toUpperCase()}var i=[],T=b.document,l=i.slice,_=i.concat,a=i.push,n=i.indexOf,r={},s=r.toString,f=r.hasOwnProperty,m={},o="2.2.4",P=function(t,e){return new P.fn.init(t,e)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,c=/-([\da-z])/gi;function p(t){var e=!!t&&"length"in t&&t.length,i=P.type(t);return"function"!==i&&!P.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}P.fn=P.prototype={jquery:o,constructor:P,selector:"",length:0,toArray:function(){return l.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:l.call(this)},pushStack:function(t){t=P.merge(this.constructor(),t);return t.prevObject=this,t.context=this.context,t},each:function(t){return P.each(this,t)},map:function(i){return this.pushStack(P.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},P.extend=P.fn.extend=function(){var t,e,i,r,n,s=arguments[0]||{},o=1,a=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[o]||{},o++),"object"==typeof s||P.isFunction(s)||(s={}),o===a&&(s=this,o--);o<a;o++)if(null!=(t=arguments[o]))for(e in t)n=s[e],i=t[e],s!==i&&(h&&i&&(P.isPlainObject(i)||(r=P.isArray(i)))?(n=r?(r=!1,n&&P.isArray(n)?n:[]):n&&P.isPlainObject(n)?n:{},s[e]=P.extend(h,n,i)):void 0!==i&&(s[e]=i));return s},P.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===P.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!P.isArray(t)&&0<=e-parseFloat(e)+1},isPlainObject:function(t){if("object"!==P.type(t)||t.nodeType||P.isWindow(t))return!1;if(t.constructor&&!f.call(t,"constructor")&&!f.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(var e in t);return void 0===e||f.call(t,e)},isEmptyObject:function(t){for(var e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[s.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=P.trim(t))&&(1===t.indexOf("use strict")?((e=T.createElement("script")).text=t,T.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(u,"ms-").replace(c,e)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(p(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(h,"")},makeArray:function(t,e){e=e||[];return null!=t&&(p(Object(t))?P.merge(e,"string"==typeof t?[t]:t):a.call(e,t)),e},inArray:function(t,e,i){return null==e?-1:n.call(e,t,i)},merge:function(t,e){for(var i=+e.length,r=0,n=t.length;r<i;r++)t[n++]=e[r];return t.length=n,t},grep:function(t,e,i){for(var r=[],n=0,s=t.length,o=!i;n<s;n++)!e(t[n],n)!=o&&r.push(t[n]);return r},map:function(t,e,i){var r,n,s=0,o=[];if(p(t))for(r=t.length;s<r;s++)null!=(n=e(t[s],s,i))&&o.push(n);else for(s in t)n=e(t[s],s,i),null!=n&&o.push(n);return _.apply([],o)},guid:1,proxy:function(t,e){var i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),P.isFunction(t)?(i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||P.guid++,r):void 0},now:Date.now,support:m}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=i[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){r["[object "+e+"]"]=e.toLowerCase()});var d=function(i){function c(t,e,i){var r="0x"+e-65536;return r!=r||i?e:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function e(){T()}var t,f,x,s,r,_,p,m,b,h,u,T,P,n,w,g,o,a,y,E="sizzle"+ +new Date,v=i.document,S=0,l=0,d=nt(),I=nt(),A=nt(),C=function(t,e){return t===e&&(u=!0),0},O={}.hasOwnProperty,L=[],M=L.pop,D=L.push,R=L.push,N=L.slice,B=function(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",G="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U="\\["+F+"*("+G+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+F+"*\\]",X=":("+G+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",j=new RegExp(F+"+","g"),W=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),z=new RegExp("^"+F+"*,"+F+"*"),H=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),Y=new RegExp(X),V=new RegExp("^"+G+"$"),$={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),TAG:new RegExp("^("+G+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,it=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig");try{R.apply(L=N.call(v.childNodes),v.childNodes),L[v.childNodes.length].nodeType}catch(t){R={apply:L.length?function(t,e){D.apply(t,N.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}function rt(t,e,i,r){var n,s,o,a,h,u,l,c,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return i;if(!r&&((e?e.ownerDocument||e:v)!==P&&T(e),e=e||P,w)){if(11!==d&&(u=J.exec(t)))if(n=u[1]){if(9===d){if(!(o=e.getElementById(n)))return i;if(o.id===n)return i.push(o),i}else if(p&&(o=p.getElementById(n))&&y(e,o)&&o.id===n)return i.push(o),i}else{if(u[2])return R.apply(i,e.getElementsByTagName(t)),i;if((n=u[3])&&f.getElementsByClassName&&e.getElementsByClassName)return R.apply(i,e.getElementsByClassName(n)),i}if(f.qsa&&!A[t+" "]&&(!g||!g.test(t))){if(1!==d)p=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(et,"\\$&"):e.setAttribute("id",a=E),s=(l=_(t)).length,h=V.test(a)?"#"+a:"[id='"+a+"']";s--;)l[s]=h+" "+pt(l[s]);c=l.join(","),p=tt.test(t)&&lt(e.parentNode)||e}if(c)try{return R.apply(i,p.querySelectorAll(c)),i}catch(t){}finally{a===E&&e.removeAttribute("id")}}}return m(t.replace(W,"$1"),e,i,r)}function nt(){var i=[];function r(t,e){return i.push(t+" ")>x.cacheLength&&delete r[i.shift()],r[t+" "]=e}return r}function st(t){return t[E]=!0,t}function ot(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function at(t,e){for(var i=t.split("|"),r=i.length;r--;)x.attrHandle[i[r]]=e}function ht(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ut(o){return st(function(s){return s=+s,st(function(t,e){for(var i,r=o([],t.length,s),n=r.length;n--;)t[i=r[n]]&&(t[i]=!(e[i]=t[i]))})})}function lt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=rt.support={},r=rt.isXML=function(t){t=t&&(t.ownerDocument||t).documentElement;return!!t&&"HTML"!==t.nodeName},T=rt.setDocument=function(t){var t=t?t.ownerDocument||t:v;return t!==P&&9===t.nodeType&&t.documentElement&&(n=(P=t).documentElement,w=!r(P),(t=P.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",e,!1):t.attachEvent&&t.attachEvent("onunload",e)),f.attributes=ot(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=ot(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=Q.test(P.getElementsByClassName),f.getById=ot(function(t){return n.appendChild(t).id=E,!P.getElementsByName||!P.getElementsByName(E).length}),f.getById?(x.find.ID=function(t,e){if(void 0!==e.getElementById&&w){t=e.getElementById(t);return t?[t]:[]}},x.filter.ID=function(t){var e=t.replace(it,c);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(it,c);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}}),x.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,r=[],n=0,s=e.getElementsByTagName(t);if("*"!==t)return s;for(;i=s[n++];)1===i.nodeType&&r.push(i);return r},x.find.CLASS=f.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&w?e.getElementsByClassName(t):void 0},o=[],g=[],(f.qsa=Q.test(P.querySelectorAll))&&(ot(function(t){n.appendChild(t).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+k+")"),t.querySelectorAll("[id~="+E+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+E+"+*").length||g.push(".#.+[+~]")}),ot(function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(f.matchesSelector=Q.test(a=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&ot(function(t){f.disconnectedMatch=a.call(t,"div"),a.call(t,"[s!='']:x"),o.push("!=",X)}),g=g.length&&new RegExp(g.join("|")),o=o.length&&new RegExp(o.join("|")),t=Q.test(n.compareDocumentPosition),y=t||Q.test(n.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(i.contains?i.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=t?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===i?t===P||t.ownerDocument===v&&y(v,t)?-1:e===P||e.ownerDocument===v&&y(v,e)?1:h?B(h,t)-B(h,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,r=0,n=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!n||!s)return t===P?-1:e===P?1:n?-1:s?1:h?B(h,t)-B(h,e):0;if(n===s)return ht(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[r]===a[r];)r++;return r?ht(o[r],a[r]):o[r]===v?-1:a[r]===v?1:0}),P},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==P&&T(t),e=e.replace(q,"='$1']"),f.matchesSelector&&w&&!A[e+" "]&&(!o||!o.test(e))&&(!g||!g.test(e)))try{var i=a.call(t,e);if(i||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<rt(e,P,null,[t]).length},rt.contains=function(t,e){return(t.ownerDocument||t)!==P&&T(t),y(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==P&&T(t);var i=x.attrHandle[e.toLowerCase()],i=i&&O.call(x.attrHandle,e.toLowerCase())?i(t,e,!w):void 0;return void 0!==i?i:f.attributes||!w?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],r=0,n=0;if(u=!f.detectDuplicates,h=!f.sortStable&&t.slice(0),t.sort(C),u){for(;e=t[n++];)e===t[n]&&(r=i.push(n));for(;r--;)t.splice(i[r],1)}return h=null,t},s=rt.getText=function(t){var e,i="",r=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[r++];)i+=s(e);return i},(x=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,c),t[3]=(t[3]||t[4]||t[5]||"").replace(it,c),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=_(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,c).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=d[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&d(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(t){t=rt.attr(t,e);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(j," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,_,m){var g="nth"!==f.slice(0,3),y="last"!==f.slice(-4),v="of-type"===t;return 1===_&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var r,n,s,o,a,h,u=g!=y?"nextSibling":"previousSibling",l=t.parentNode,c=v&&t.nodeName.toLowerCase(),p=!i&&!v,d=!1;if(l){if(g){for(;u;){for(o=t;o=o[u];)if(v?o.nodeName.toLowerCase()===c:1===o.nodeType)return!1;h=u="only"===f&&!h&&"nextSibling"}return!0}if(h=[y?l.firstChild:l.lastChild],y&&p){for(d=(a=(r=(n=(s=(o=l)[E]||(o[E]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===S&&r[1])&&r[2],o=a&&l.childNodes[a];o=++a&&o&&o[u]||(d=a=0)||h.pop();)if(1===o.nodeType&&++d&&o===t){n[f]=[S,a,d];break}}else if(!1===(d=p?a=(r=(n=(s=(o=t)[E]||(o[E]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===S&&r[1]:d))for(;(o=++a&&o&&o[u]||(d=a=0)||h.pop())&&((v?o.nodeName.toLowerCase()!==c:1!==o.nodeType)||!++d||(p&&((n=(s=o[E]||(o[E]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]=[S,d]),o!==t)););return(d-=m)===_||d%_==0&&0<=d/_}}},PSEUDO:function(t,s){var e,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return o[E]?o(s):1<o.length?(e=[t,t,"",s],x.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,e){for(var i,r=o(t,s),n=r.length;n--;)t[i=B(t,r[n])]=!(e[i]=r[n])}):function(t){return o(t,0,e)}):o}},pseudos:{not:st(function(t){var r=[],n=[],a=p(t.replace(W,"$1"));return a[E]?st(function(t,e,i,r){for(var n,s=a(t,null,r,[]),o=t.length;o--;)(n=s[o])&&(t[o]=!(e[o]=n))}):function(t,e,i){return r[0]=t,a(r,null,i,n),r[0]=null,!n.pop()}}),has:st(function(e){return function(t){return 0<rt(e,t).length}}),contains:st(function(e){return e=e.replace(it,c),function(t){return-1<(t.textContent||t.innerText||s(t)).indexOf(e)}}),lang:st(function(i){return V.test(i||"")||rt.error("unsupported lang: "+i),i=i.replace(it,c).toLowerCase(),function(t){var e;do{if(e=w?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===n},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:ut(function(){return[0]}),last:ut(function(t,e){return[e-1]}),eq:ut(function(t,e,i){return[i<0?i+e:i]}),even:ut(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ut(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ut(function(t,e,i){for(var r=i<0?i+e:i;0<=--r;)t.push(r);return t}),gt:ut(function(t,e,i){for(var r=i<0?i+e:i;++r<e;)t.push(r);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})x.pseudos[t]=function(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}(t);function ct(){}function pt(t){for(var e=0,i=t.length,r="";e<i;e++)r+=t[e].value;return r}function dt(o,t,e){var a=t.dir,h=e&&"parentNode"===a,u=l++;return t.first?function(t,e,i){for(;t=t[a];)if(1===t.nodeType||h)return o(t,e,i)}:function(t,e,i){var r,n,s=[S,u];if(i){for(;t=t[a];)if((1===t.nodeType||h)&&o(t,e,i))return!0}else for(;t=t[a];)if(1===t.nodeType||h){if((n=(r=(n=t[E]||(t[E]={}))[t.uniqueID]||(n[t.uniqueID]={}))[a])&&n[0]===S&&n[1]===u)return s[2]=n[2];if((r[a]=s)[2]=o(t,e,i))return!0}}}function ft(n){return 1<n.length?function(t,e,i){for(var r=n.length;r--;)if(!n[r](t,e,i))return!1;return!0}:n[0]}function _t(t,e,i,r,n){for(var s,o=[],a=0,h=t.length,u=null!=e;a<h;a++)(s=t[a])&&(i&&!i(s,r,n)||(o.push(s),u&&e.push(a)));return o}function mt(d,f,_,m,g,t){return m&&!m[E]&&(m=mt(m)),g&&!g[E]&&(g=mt(g,t)),st(function(t,e,i,r){var n,s,o,a=[],h=[],u=e.length,l=t||function(t,e,i){for(var r=0,n=e.length;r<n;r++)rt(t,e[r],i);return i}(f||"*",i.nodeType?[i]:i,[]),c=!d||!t&&f?l:_t(l,a,d,i,r),p=_?g||(t?d:u||m)?[]:e:c;if(_&&_(c,p,i,r),m)for(n=_t(p,h),m(n,[],i,r),s=n.length;s--;)(o=n[s])&&(p[h[s]]=!(c[h[s]]=o));if(t){if(g||d){if(g){for(n=[],s=p.length;s--;)(o=p[s])&&n.push(c[s]=o);g(null,p=[],n,r)}for(s=p.length;s--;)(o=p[s])&&-1<(n=g?B(t,o):a[s])&&(t[n]=!(e[n]=o))}}else p=_t(p===e?p.splice(u,p.length):p),g?g(null,e,p,r):R.apply(e,p)})}function gt(m,g){function t(t,e,i,r,n){var s,o,a,h=0,u="0",l=t&&[],c=[],p=b,d=t||v&&x.find.TAG("*",n),f=S+=null==p?1:Math.random()||.1,_=d.length;for(n&&(b=e===P||e||n);u!==_&&null!=(s=d[u]);u++){if(v&&s){for(o=0,e||s.ownerDocument===P||(T(s),i=!w);a=m[o++];)if(a(s,e||P,i)){r.push(s);break}n&&(S=f)}y&&((s=!a&&s)&&h--,t&&l.push(s))}if(h+=u,y&&u!==h){for(o=0;a=g[o++];)a(l,c,e,i);if(t){if(0<h)for(;u--;)l[u]||c[u]||(c[u]=M.call(r));c=_t(c)}R.apply(r,c),n&&!t&&0<c.length&&1<h+g.length&&rt.uniqueSort(r)}return n&&(S=f,b=p),l}var y=0<g.length,v=0<m.length;return y?st(t):t}return ct.prototype=x.filters=x.pseudos,x.setFilters=new ct,_=rt.tokenize=function(t,e){var i,r,n,s,o,a,h,u=I[t+" "];if(u)return e?0:u.slice(0);for(o=t,a=[],h=x.preFilter;o;){for(s in i&&!(r=z.exec(o))||(r&&(o=o.slice(r[0].length)||o),a.push(n=[])),i=!1,(r=H.exec(o))&&(i=r.shift(),n.push({value:i,type:r[0].replace(W," ")}),o=o.slice(i.length)),x.filter)!(r=$[s].exec(o))||h[s]&&!(r=h[s](r))||(i=r.shift(),n.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return e?o.length:o?rt.error(t):I(t,a).slice(0)},p=rt.compile=function(t,e){var i,r=[],n=[],s=A[t+" "];if(!s){for(i=(e=e||_(t)).length;i--;)((s=function t(e){for(var r,i,n,s=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],h=o?1:0,u=dt(function(t){return t===r},a,!0),l=dt(function(t){return-1<B(r,t)},a,!0),c=[function(t,e,i){return i=!o&&(i||e!==b)||((r=e).nodeType?u:l)(t,e,i),r=null,i}];h<s;h++)if(i=x.relative[e[h].type])c=[dt(ft(c),i)];else{if((i=x.filter[e[h].type].apply(null,e[h].matches))[E]){for(n=++h;n<s&&!x.relative[e[n].type];n++);return mt(1<h&&ft(c),1<h&&pt(e.slice(0,h-1).concat({value:" "===e[h-2].type?"*":""})).replace(W,"$1"),i,h<n&&t(e.slice(h,n)),n<s&&t(e=e.slice(n)),n<s&&pt(e))}c.push(i)}return ft(c)}(e[i]))[E]?r:n).push(s);(s=A(t,gt(n,r))).selector=t}return s},m=rt.select=function(t,e,i,r){var n,s,o,a,h,u="function"==typeof t&&t,l=!r&&_(t=u.selector||t);if(i=i||[],1===l.length){if(2<(s=l[0]=l[0].slice(0)).length&&"ID"===(o=s[0]).type&&f.getById&&9===e.nodeType&&w&&x.relative[s[1].type]){if(!(e=(x.find.ID(o.matches[0].replace(it,c),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(n=$.needsContext.test(t)?0:s.length;n--&&(o=s[n],!x.relative[a=o.type]);)if((h=x.find[a])&&(r=h(o.matches[0].replace(it,c),tt.test(s[0].type)&&lt(e.parentNode)||e))){if(s.splice(n,1),!(t=r.length&&pt(s)))return R.apply(i,r),i;break}}return(u||p(t,l))(r,e,!w,i,!e||tt.test(t)&&lt(e.parentNode)||e),i},f.sortStable=E.split("").sort(C).join("")===E,f.detectDuplicates=!!u,T(),f.sortDetached=ot(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),ot(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||at("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&ot(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||at("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),ot(function(t){return null==t.getAttribute("disabled")})||at(k,function(t,e,i){return i?void 0:!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),rt}(b);P.find=d,P.expr=d.selectors,P.expr[":"]=P.expr.pseudos,P.uniqueSort=P.unique=d.uniqueSort,P.text=d.getText,P.isXMLDoc=d.isXML,P.contains=d.contains;function g(t,e,i){for(var r=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&P(t).is(i))break;r.push(t)}return r}function y(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var v=P.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function E(t,i,r){if(P.isFunction(i))return P.grep(t,function(t,e){return!!i.call(t,e,t)!==r});if(i.nodeType)return P.grep(t,function(t){return t===i!==r});if("string"==typeof i){if(w.test(i))return P.filter(i,t,r);i=P.filter(i,t)}return P.grep(t,function(t){return-1<n.call(i,t)!==r})}P.filter=function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?P.find.matchesSelector(r,t)?[r]:[]:P.find.matches(t,P.grep(e,function(t){return 1===t.nodeType}))},P.fn.extend({find:function(t){var e,i=this.length,r=[],n=this;if("string"!=typeof t)return this.pushStack(P(t).filter(function(){for(e=0;e<i;e++)if(P.contains(n[e],this))return!0}));for(e=0;e<i;e++)P.find(t,n[e],r);return(r=this.pushStack(1<i?P.unique(r):r)).selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&v.test(t)?P(t):t||[],!1).length}});var S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(P.fn.init=function(t,e,i){if(!t)return this;if(i=i||I,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):P.isFunction(t)?void 0!==i.ready?i.ready(t):t(P):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),P.makeArray(t,this));if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:S.exec(t))||!r[1]&&e)return(!e||e.jquery?e||i:this.constructor(e)).find(t);if(r[1]){if(e=e instanceof P?e[0]:e,P.merge(this,P.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:T,!0)),x.test(r[1])&&P.isPlainObject(e))for(var r in e)P.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=T.getElementById(r[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=T,this.selector=t,this}).prototype=P.fn;var I=P(T),A=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}P.fn.extend({has:function(t){var e=P(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(P.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,r=0,n=this.length,s=[],o=v.test(t)||"string"!=typeof t?P(t,e||this.context):0;r<n;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&P.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?P.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?n.call(P(t),this[0]):n.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),P.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return g(t,"parentNode")},parentsUntil:function(t,e,i){return g(t,"parentNode",i)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return g(t,"nextSibling")},prevAll:function(t){return g(t,"previousSibling")},nextUntil:function(t,e,i){return g(t,"nextSibling",i)},prevUntil:function(t,e,i){return g(t,"previousSibling",i)},siblings:function(t){return y((t.parentNode||{}).firstChild,t)},children:function(t){return y(t.firstChild)},contents:function(t){return t.contentDocument||P.merge([],t.childNodes)}},function(r,n){P.fn[r]=function(t,e){var i=P.map(this,n,t);return(e="Until"!==r.slice(-5)?t:e)&&"string"==typeof e&&(i=P.filter(e,i)),1<this.length&&(C[r]||P.uniqueSort(i),A.test(r)&&i.reverse()),this.pushStack(i)}});var L,M=/\S+/g;function D(){T.removeEventListener("DOMContentLoaded",D),b.removeEventListener("load",D),P.ready()}P.Callbacks=function(r){var t,i;r="string"==typeof r?(t=r,i={},P.each(t.match(M)||[],function(t,e){i[e]=!0}),i):P.extend({},r);function n(){for(a=r.once,o=s=!0;u.length;l=-1)for(e=u.shift();++l<h.length;)!1===h[l].apply(e[0],e[1])&&r.stopOnFalse&&(l=h.length,e=!1);r.memory||(e=!1),s=!1,a&&(h=e?[]:"")}var s,e,o,a,h=[],u=[],l=-1,c={add:function(){return h&&(e&&!s&&(l=h.length-1,u.push(e)),function i(t){P.each(t,function(t,e){P.isFunction(e)?r.unique&&c.has(e)||h.push(e):e&&e.length&&"string"!==P.type(e)&&i(e)})}(arguments),e&&!s&&n()),this},remove:function(){return P.each(arguments,function(t,e){for(var i;-1<(i=P.inArray(e,h,i));)h.splice(i,1),i<=l&&l--}),this},has:function(t){return t?-1<P.inArray(t,h):0<h.length},empty:function(){return h=h&&[],this},disable:function(){return a=u=[],h=e="",this},disabled:function(){return!h},lock:function(){return a=u=[],e||(h=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),s||n()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},P.extend({Deferred:function(t){var s=[["resolve","done",P.Callbacks("once memory"),"resolved"],["reject","fail",P.Callbacks("once memory"),"rejected"],["notify","progress",P.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return P.Deferred(function(r){P.each(s,function(t,e){var i=P.isFunction(n[t])&&n[t];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&P.isFunction(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this===o?r.promise():this,i?[t]:arguments)})}),n=null}).promise()},promise:function(t){return null!=t?P.extend(t,o):o}},a={};return o.pipe=o.then,P.each(s,function(t,e){var i=e[2],r=e[3];o[e[1]]=i.add,r&&i.add(function(){n=r},s[1^t][2].disable,s[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?o:this,arguments),this},a[e[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(t){function e(e,i,r){return function(t){i[e]=this,r[e]=1<arguments.length?l.call(arguments):t,r===n?u.notifyWith(i,r):--h||u.resolveWith(i,r)}}var n,i,r,s=0,o=l.call(arguments),a=o.length,h=1!==a||t&&P.isFunction(t.promise)?a:0,u=1===h?t:P.Deferred();if(1<a)for(n=new Array(a),i=new Array(a),r=new Array(a);s<a;s++)o[s]&&P.isFunction(o[s].promise)?o[s].promise().progress(e(s,i,n)).done(e(s,r,o)).fail(u.reject):--h;return h||u.resolveWith(r,o),u.promise()}}),P.fn.ready=function(t){return P.ready.promise().done(t),this},P.extend({isReady:!1,readyWait:1,holdReady:function(t){t?P.readyWait++:P.ready(!0)},ready:function(t){(!0===t?--P.readyWait:P.isReady)||((P.isReady=!0)!==t&&0<--P.readyWait||(L.resolveWith(T,[P]),P.fn.triggerHandler&&(P(T).triggerHandler("ready"),P(T).off("ready"))))}}),P.ready.promise=function(t){return L||(L=P.Deferred(),"complete"===T.readyState||"loading"!==T.readyState&&!T.documentElement.doScroll?b.setTimeout(P.ready):(T.addEventListener("DOMContentLoaded",D),b.addEventListener("load",D))),L.promise(t)},P.ready.promise();function R(t,e,i,r,n,s,o){var a=0,h=t.length,u=null==i;if("object"===P.type(i))for(a in n=!0,i)R(t,e,a,i[a],!0,s,o);else if(void 0!==r&&(n=!0,P.isFunction(r)||(o=!0),e=u?o?(e.call(t,r),null):(u=e,function(t,e,i){return u.call(P(t),i)}):e))for(;a<h;a++)e(t[a],i,o?r:r.call(t[a],a,e(t[a],i)));return n?t:u?e.call(t):h?e(t[0],i):s}function N(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function B(){this.expando=P.expando+B.uid++}B.uid=1,B.prototype={register:function(t,e){e=e||{};return t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!N(t))return{};var e=t[this.expando];return e||(e={},N(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var r,n=this.cache(t);if("string"==typeof e)n[e]=i;else for(r in e)n[r]=e[r];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var r;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(r=this.get(t,e))?r:this.get(t,P.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,r,n,s=t[this.expando];if(void 0!==s){if(void 0===e)this.register(t);else{i=(r=P.isArray(e)?e.concat(e.map(P.camelCase)):(n=P.camelCase(e),e in s?[e,n]:(r=n)in s?[r]:r.match(M)||[])).length;for(;i--;)delete s[r[i]]}void 0!==e&&!P.isEmptyObject(s)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var k=new B,F=new B,G=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function X(t,e,i){var r;if(void 0===i&&1===t.nodeType)if(r="data-"+e.replace(U,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:G.test(i)?P.parseJSON(i):i)}catch(t){}F.set(t,e,i)}else i=void 0;return i}P.extend({hasData:function(t){return F.hasData(t)||k.hasData(t)},data:function(t,e,i){return F.access(t,e,i)},removeData:function(t,e){F.remove(t,e)},_data:function(t,e,i){return k.access(t,e,i)},_removeData:function(t,e){k.remove(t,e)}}),P.fn.extend({data:function(r,t){var e,i,n,s=this[0],o=s&&s.attributes;if(void 0!==r)return"object"==typeof r?this.each(function(){F.set(this,r)}):R(this,function(e){var t,i;return s&&void 0===e?void 0!==(t=F.get(s,r)||F.get(s,r.replace(U,"-$&").toLowerCase()))?t:(i=P.camelCase(r),void 0!==(t=F.get(s,i))?t:void 0!==(t=X(s,i,void 0))?t:void 0):(i=P.camelCase(r),void this.each(function(){var t=F.get(this,i);F.set(this,i,e),-1<r.indexOf("-")&&void 0!==t&&F.set(this,r,e)}))},null,t,1<arguments.length,null,!0);if(this.length&&(n=F.get(s),1===s.nodeType&&!k.get(s,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&(0===(i=o[e].name).indexOf("data-")&&(i=P.camelCase(i.slice(5)),X(s,i,n[i])));k.set(s,"hasDataAttrs",!0)}return n},removeData:function(t){return this.each(function(){F.remove(this,t)})}}),P.extend({queue:function(t,e,i){var r;return t?(r=k.get(t,e=(e||"fx")+"queue"),i&&(!r||P.isArray(i)?r=k.access(t,e,P.makeArray(i)):r.push(i)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=P.queue(t,e),r=i.length,n=i.shift(),s=P._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===e&&i.unshift("inprogress"),delete s.stop,n.call(t,function(){P.dequeue(t,e)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return k.get(t,i)||k.access(t,i,{empty:P.Callbacks("once memory").add(function(){k.remove(t,[e+"queue",i])})})}}),P.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?P.queue(this[0],e):void 0===i?this:this.each(function(){var t=P.queue(this,e,i);P._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&P.dequeue(this,e)})},dequeue:function(t){return this.each(function(){P.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--n||s.resolveWith(o,[o])}var r,n=1,s=P.Deferred(),o=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(r=k.get(o[a],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(i));return i(),s.promise(e)}});function j(t,e){return"none"===P.css(t=e||t,"display")||!P.contains(t.ownerDocument,t)}var o=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=new RegExp("^(?:([+-])=|)("+o+")([a-z%]*)$","i"),z=["Top","Right","Bottom","Left"];function H(t,e,i,r){var n,s=1,o=20,a=r?function(){return r.cur()}:function(){return P.css(t,e,"")},h=a(),u=i&&i[3]||(P.cssNumber[e]?"":"px"),l=(P.cssNumber[e]||"px"!==u&&+h)&&W.exec(P.css(t,e));if(l&&l[3]!==u)for(u=u||l[3],i=i||[],l=+h||1;P.style(t,e,(l/=s=s||".5")+u),s!==(s=a()/h)&&1!==s&&--o;);return i&&(l=+l||+h||0,n=i[1]?l+(i[1]+1)*i[2]:+i[2],r&&(r.unit=u,r.start=l,r.end=n)),n}var q=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,V=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&P.nodeName(t,e)?P.merge([t],i):i}function K(t,e){for(var i=0,r=t.length;i<r;i++)k.set(t[i],"globalEval",!e||k.get(e[i],"globalEval"))}$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;var Q=/<|&#?\w+;/;function J(t,e,i,r,n){for(var s,o,a,h,u,l=e.createDocumentFragment(),c=[],p=0,d=t.length;p<d;p++)if((s=t[p])||0===s)if("object"===P.type(s))P.merge(c,s.nodeType?[s]:s);else if(Q.test(s)){for(o=o||l.appendChild(e.createElement("div")),a=(Y.exec(s)||["",""])[1].toLowerCase(),a=$[a]||$._default,o.innerHTML=a[1]+P.htmlPrefilter(s)+a[2],u=a[0];u--;)o=o.lastChild;P.merge(c,o.childNodes),(o=l.firstChild).textContent=""}else c.push(e.createTextNode(s));for(l.textContent="",p=0;s=c[p++];)if(r&&-1<P.inArray(s,r))n&&n.push(s);else if(h=P.contains(s.ownerDocument,s),o=Z(l.appendChild(s),"script"),h&&K(o),i)for(u=0;s=o[u++];)V.test(s.type||"")&&i.push(s);return l}i=T.createDocumentFragment().appendChild(T.createElement("div")),(d=T.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),i.appendChild(d),m.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue;var tt=/^key/,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;function rt(){return!0}function nt(){return!1}function st(){try{return T.activeElement}catch(t){}}function ot(t,e,i,r,n,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(r=r||i,i=void 0),e)ot(t,a,i,r,e[a],s);return t}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),!1===n)n=nt;else if(!n)return t;return 1===s&&(o=n,(n=function(t){return P().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=P.guid++)),t.each(function(){P.event.add(this,e,n,r,i)})}P.event={global:{},add:function(e,t,i,r,n){var s,o,a,h,u,l,c,p,d,f=k.get(e);if(f)for(i.handler&&(i=(s=i).handler,n=s.selector),i.guid||(i.guid=P.guid++),(a=f.events)||(a=f.events={}),(o=f.handle)||(o=f.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(M)||[""]).length;h--;)c=d=(u=it.exec(t[h])||[])[1],p=(u[2]||"").split(".").sort(),c&&(l=P.event.special[c]||{},c=(n?l.delegateType:l.bindType)||c,l=P.event.special[c]||{},u=P.extend({type:c,origType:d,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&P.expr.match.needsContext.test(n),namespace:p.join(".")},s),(d=a[c])||((d=a[c]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,p,o)||e.addEventListener&&e.addEventListener(c,o)),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,u):d.push(u),P.event.global[c]=!0)},remove:function(t,e,i,r,n){var s,o,a,h,u,l,c,p,d,f,_,m=k.hasData(t)&&k.get(t);if(m&&(h=m.events)){for(u=(e=(e||"").match(M)||[""]).length;u--;)if(d=_=(a=it.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),d){for(c=P.event.special[d]||{},p=h[d=(r?c.delegateType:c.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)l=p[s],!n&&_!==l.origType||i&&i.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(s,1),l.selector&&p.delegateCount--,c.remove&&c.remove.call(t,l));o&&!p.length&&(c.teardown&&!1!==c.teardown.call(t,f,m.handle)||P.removeEvent(t,d,m.handle),delete h[d])}else for(d in h)P.event.remove(t,d+e[u],i,r,!0);P.isEmptyObject(h)&&k.remove(t,"handle events")}},dispatch:function(t){t=P.event.fix(t);var e,i,r,n,s,o=l.call(arguments),a=(k.get(this,"events")||{})[t.type]||[],h=P.event.special[t.type]||{};if((o[0]=t).delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,t)){for(s=P.event.handlers.call(this,t,a),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(n=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(n.namespace)||(t.handleObj=n,t.data=n.data,void 0!==(n=((P.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,o))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,r,n,s,o=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(!0!==h.disabled||"click"!==t.type)){for(r=[],i=0;i<a;i++)void 0===r[n=(s=e[i]).selector+" "]&&(r[n]=s.needsContext?-1<P(n,this).index(h):P.find(n,this,null,[h]).length),r[n]&&r.push(s);r.length&&o.push({elem:h,handlers:r})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,r,n=e.button;return null==t.pageX&&null!=e.clientX&&(i=(r=t.target.ownerDocument||T).documentElement,r=r.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===n||(t.which=1&n?1:2&n?3:4&n?2:0),t}},fix:function(t){if(t[P.expando])return t;var e,i,r,n=t.type,s=t,o=this.fixHooks[n];for(o||(this.fixHooks[n]=o=et.test(n)?this.mouseHooks:tt.test(n)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,t=new P.Event(s),e=r.length;e--;)t[i=r[e]]=s[i];return t.target||(t.target=T),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==st()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===st()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&P.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return P.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},P.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},P.Event=function(t,e){return this instanceof P.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?rt:nt):this.type=t,e&&P.extend(this,e),this.timeStamp=t&&t.timeStamp||P.now(),void(this[P.expando]=!0)):new P.Event(t,e)},P.Event.prototype={constructor:P.Event,isDefaultPrevented:nt,isPropagationStopped:nt,isImmediatePropagationStopped:nt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=rt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=rt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=rt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){P.event.special[t]={delegateType:n,bindType:n,handle:function(t){var e,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||P.contains(this,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=n),e}}}),P.fn.extend({on:function(t,e,i,r){return ot(this,t,e,i,r)},one:function(t,e,i,r){return ot(this,t,e,i,r,1)},off:function(t,e,i){var r,n;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,P(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=nt),this.each(function(){P.event.remove(this,t,i,e)});for(n in t)this.off(n,e,t[n]);return this}});var at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ht=/<script|<style|<link/i,ut=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^true\/(.*)/,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pt(t,e){return P.nodeName(t,"table")&&P.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ft(t){var e=lt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _t(t,e){var i,r,n,s,o,a;if(1===e.nodeType){if(k.hasData(t)&&(s=k.access(t),o=k.set(e,s),a=s.events))for(n in delete o.handle,o.events={},a)for(i=0,r=a[n].length;i<r;i++)P.event.add(e,n,a[n][i]);F.hasData(t)&&(t=F.access(t),t=P.extend({},t),F.set(e,t))}}function mt(i,r,n,s){r=_.apply([],r);var t,e,o,a,h,u,l=0,c=i.length,p=c-1,d=r[0],f=P.isFunction(d);if(f||1<c&&"string"==typeof d&&!m.checkClone&&ut.test(d))return i.each(function(t){var e=i.eq(t);f&&(r[0]=d.call(this,t,e.html())),mt(e,r,n,s)});if(c&&(e=(t=J(r,i[0].ownerDocument,!1,i,s)).firstChild,1===t.childNodes.length&&(t=e),e||s)){for(a=(o=P.map(Z(t,"script"),dt)).length;l<c;l++)h=t,l!==p&&(h=P.clone(h,!0,!0),a&&P.merge(o,Z(h,"script"))),n.call(i[l],h,l);if(a)for(u=o[o.length-1].ownerDocument,P.map(o,ft),l=0;l<a;l++)h=o[l],V.test(h.type||"")&&!k.access(h,"globalEval")&&P.contains(u,h)&&(h.src?P._evalUrl&&P._evalUrl(h.src):P.globalEval(h.textContent.replace(ct,"")))}return i}function gt(t,e,i){for(var r,n=e?P.filter(e,t):t,s=0;null!=(r=n[s]);s++)i||1!==r.nodeType||P.cleanData(Z(r)),r.parentNode&&(i&&P.contains(r.ownerDocument,r)&&K(Z(r,"script")),r.parentNode.removeChild(r));return t}P.extend({htmlPrefilter:function(t){return t.replace(at,"<$1></$2>")},clone:function(t,e,i){var r,n,s,o,a,h,u,l=t.cloneNode(!0),c=P.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||P.isXMLDoc(t)))for(o=Z(l),r=0,n=(s=Z(t)).length;r<n;r++)a=s[r],h=o[r],u=void 0,"input"===(u=h.nodeName.toLowerCase())&&q.test(a.type)?h.checked=a.checked:"input"!==u&&"textarea"!==u||(h.defaultValue=a.defaultValue);if(e)if(i)for(s=s||Z(t),o=o||Z(l),r=0,n=s.length;r<n;r++)_t(s[r],o[r]);else _t(t,l);return 0<(o=Z(l,"script")).length&&K(o,!c&&Z(t,"script")),l},cleanData:function(t){for(var e,i,r,n=P.event.special,s=0;void 0!==(i=t[s]);s++)if(N(i)){if(e=i[k.expando]){if(e.events)for(r in e.events)n[r]?P.event.remove(i,r):P.removeEvent(i,r,e.handle);i[k.expando]=void 0}i[F.expando]&&(i[F.expando]=void 0)}}}),P.fn.extend({domManip:mt,detach:function(t){return gt(this,t,!0)},remove:function(t){return gt(this,t)},text:function(t){return R(this,function(t){return void 0===t?P.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return mt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pt(this,t).appendChild(t)})},prepend:function(){return mt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=pt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(P.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return P.clone(this,t,e)})},html:function(t){return R(this,function(t){var e=this[0]||{},i=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ht.test(t)&&!$[(Y.exec(t)||["",""])[1].toLowerCase()]){t=P.htmlPrefilter(t);try{for(;i<r;i++)1===(e=this[i]||{}).nodeType&&(P.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return mt(this,arguments,function(t){var e=this.parentNode;P.inArray(this,i)<0&&(P.cleanData(Z(this)),e&&e.replaceChild(t,this))},i)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){P.fn[t]=function(t){for(var e,i=[],r=P(t),n=r.length-1,s=0;s<=n;s++)e=s===n?this:this.clone(!0),P(r[s])[o](e),a.apply(i,e.get());return this.pushStack(i)}});var yt,vt={HTML:"block",BODY:"block"};function xt(t,e){t=P(e.createElement(t)).appendTo(e.body),e=P.css(t[0],"display");return t.detach(),e}function bt(t){var e=T,i=vt[t];return i||("none"!==(i=xt(t,e))&&i||((e=(yt=(yt||P("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=xt(t,e),yt.detach()),vt[t]=i),i}function Tt(t){var e=t.ownerDocument.defaultView;return(e=!e||!e.opener?b:e).getComputedStyle(t)}function Pt(t,e,i,r){var n,s={};for(n in e)s[n]=t.style[n],t.style[n]=e[n];for(n in r=i.apply(t,r||[]),e)t.style[n]=s[n];return r}var wt,Et,St,It,At,Ct,Ot=/^margin/,Lt=new RegExp("^("+o+")(?!px)[a-z%]+$","i"),Mt=T.documentElement;function Dt(){Ct.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Ct.innerHTML="",Mt.appendChild(At);var t=b.getComputedStyle(Ct);wt="1%"!==t.top,It="2px"===t.marginLeft,Et="4px"===t.width,Ct.style.marginRight="50%",St="4px"===t.marginRight,Mt.removeChild(At)}function Rt(t,e,i){var r,n,s=t.style;return""!==(n=(i=i||Tt(t))?i.getPropertyValue(e)||i[e]:void 0)&&void 0!==n||P.contains(t.ownerDocument,t)||(n=P.style(t,e)),i&&!m.pixelMarginRight()&&Lt.test(n)&&Ot.test(e)&&(r=s.width,t=s.minWidth,e=s.maxWidth,s.minWidth=s.maxWidth=s.width=n,n=i.width,s.width=r,s.minWidth=t,s.maxWidth=e),void 0!==n?n+"":n}function Nt(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}At=T.createElement("div"),(Ct=T.createElement("div")).style&&(Ct.style.backgroundClip="content-box",Ct.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Ct.style.backgroundClip,At.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",At.appendChild(Ct),P.extend(m,{pixelPosition:function(){return Dt(),wt},boxSizingReliable:function(){return null==Et&&Dt(),Et},pixelMarginRight:function(){return null==Et&&Dt(),St},reliableMarginLeft:function(){return null==Et&&Dt(),It},reliableMarginRight:function(){var t,e=Ct.appendChild(T.createElement("div"));return e.style.cssText=Ct.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",Ct.style.width="1px",Mt.appendChild(At),t=!parseFloat(b.getComputedStyle(e).marginRight),Mt.removeChild(At),Ct.removeChild(e),t}}));var Bt=/^(none|table(?!-c[ea]).+)/,kt={position:"absolute",visibility:"hidden",display:"block"},Ft={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"],Ut=T.createElement("div").style;function Xt(t){if(t in Ut)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Gt.length;i--;)if((t=Gt[i]+e)in Ut)return t}function jt(t,e,i){var r=W.exec(e);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):e}function Wt(t,e,i,r,n){for(var s=i===(r?"border":"content")?4:"width"===e?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=P.css(t,i+z[s],!0,n)),r?("content"===i&&(o-=P.css(t,"padding"+z[s],!0,n)),"margin"!==i&&(o-=P.css(t,"border"+z[s]+"Width",!0,n))):(o+=P.css(t,"padding"+z[s],!0,n),"padding"!==i&&(o+=P.css(t,"border"+z[s]+"Width",!0,n)));return o}function zt(t,e,i){var r=!0,n="width"===e?t.offsetWidth:t.offsetHeight,s=Tt(t),o="border-box"===P.css(t,"boxSizing",!1,s);if(n<=0||null==n){if(((n=Rt(t,e,s))<0||null==n)&&(n=t.style[e]),Lt.test(n))return n;r=o&&(m.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+Wt(t,e,i||(o?"border":"content"),r,s)+"px"}function Ht(t,e){for(var i,r,n,s=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(s[o]=k.get(r,"olddisplay"),i=r.style.display,e?(s[o]||"none"!==i||(r.style.display=""),""===r.style.display&&j(r)&&(s[o]=k.access(r,"olddisplay",bt(r.nodeName)))):(n=j(r),"none"===i&&n||k.set(r,"olddisplay",n?i:P.css(r,"display"))));for(o=0;o<a;o++)(r=t[o]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?s[o]||"":"none"));return t}function qt(t,e,i,r,n){return new qt.prototype.init(t,e,i,r,n)}P.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=Rt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,o,a=P.camelCase(e),h=t.style;return e=P.cssProps[a]||(P.cssProps[a]=Xt(a)||a),o=P.cssHooks[e]||P.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(n=o.get(t,!1,r))?n:h[e]:("string"===(s=typeof i)&&(n=W.exec(i))&&n[1]&&(i=H(t,e,n),s="number"),void(null!=i&&i==i&&("number"===s&&(i+=n&&n[3]||(P.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,r))||(h[e]=i))))}},css:function(t,e,i,r){var n,s=P.camelCase(e);return e=P.cssProps[s]||(P.cssProps[s]=Xt(s)||s),"normal"===(n=void 0===(n=(s=P.cssHooks[e]||P.cssHooks[s])&&"get"in s?s.get(t,!0,i):n)?Rt(t,e,r):n)&&e in Ft&&(n=Ft[e]),""===i||i?(e=parseFloat(n),!0===i||isFinite(e)?e||0:n):n}}),P.each(["height","width"],function(t,s){P.cssHooks[s]={get:function(t,e,i){return e?Bt.test(P.css(t,"display"))&&0===t.offsetWidth?Pt(t,kt,function(){return zt(t,s,i)}):zt(t,s,i):void 0},set:function(t,e,i){var r,n=i&&Tt(t),n=i&&Wt(t,s,i,"border-box"===P.css(t,"boxSizing",!1,n),n);return n&&(r=W.exec(e))&&"px"!==(r[3]||"px")&&(t.style[s]=e,e=P.css(t,s)),jt(0,e,n)}}}),P.cssHooks.marginLeft=Nt(m.reliableMarginLeft,function(t,e){return e?(parseFloat(Rt(t,"marginLeft"))||t.getBoundingClientRect().left-Pt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),P.cssHooks.marginRight=Nt(m.reliableMarginRight,function(t,e){return e?Pt(t,{display:"inline-block"},Rt,[t,"marginRight"]):void 0}),P.each({margin:"",padding:"",border:"Width"},function(n,s){P.cssHooks[n+s]={expand:function(t){for(var e=0,i={},r="string"==typeof t?t.split(" "):[t];e<4;e++)i[n+z[e]+s]=r[e]||r[e-2]||r[0];return i}},Ot.test(n)||(P.cssHooks[n+s].set=jt)}),P.fn.extend({css:function(t,e){return R(this,function(t,e,i){var r,n,s={},o=0;if(P.isArray(e)){for(r=Tt(t),n=e.length;o<n;o++)s[e[o]]=P.css(t,e[o],!1,r);return s}return void 0!==i?P.style(t,e,i):P.css(t,e)},t,e,1<arguments.length)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){j(this)?P(this).show():P(this).hide()})}}),((P.Tween=qt).prototype={constructor:qt,init:function(t,e,i,r,n,s){this.elem=t,this.prop=i,this.easing=n||P.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=s||(P.cssNumber[i]?"":"px")},cur:function(){var t=qt.propHooks[this.prop];return(t&&t.get?t:qt.propHooks._default).get(this)},run:function(t){var e,i=qt.propHooks[this.prop];return this.options.duration?this.pos=e=P.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:qt.propHooks._default).set(this),this}}).init.prototype=qt.prototype,(qt.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=P.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){P.fx.step[t.prop]?P.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[P.cssProps[t.prop]]&&!P.cssHooks[t.prop]?t.elem[t.prop]=t.now:P.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},P.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},P.fx=qt.prototype.init,P.fx.step={};var Yt,Vt,$t=/^(?:toggle|show|hide)$/,Zt=/queueHooks$/;function Kt(){return b.setTimeout(function(){Yt=void 0}),Yt=P.now()}function Qt(t,e){var i,r=0,n={height:t};for(e=e?1:0;r<4;r+=2-e)n["margin"+(i=z[r])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function Jt(t,e,i){for(var r,n=(te.tweeners[e]||[]).concat(te.tweeners["*"]),s=0,o=n.length;s<o;s++)if(r=n[s].call(i,e,t))return r}function te(n,t,e){var i,s,r=0,o=te.prefilters.length,a=P.Deferred().always(function(){delete h.elem}),h=function(){if(s)return!1;for(var t=Yt||Kt(),t=Math.max(0,u.startTime+u.duration-t),e=1-(t/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(e);return a.notifyWith(n,[u,e,t]),e<1&&r?t:(a.resolveWith(n,[u]),!1)},u=a.promise({elem:n,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},e),originalProperties:t,originalOptions:e,startTime:Yt||Kt(),duration:e.duration,tweens:[],createTween:function(t,e){t=P.Tween(n,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(t),t},stop:function(t){var e=0,i=t?u.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)u.tweens[e].run(1);return t?(a.notifyWith(n,[u,1,0]),a.resolveWith(n,[u,t])):a.rejectWith(n,[u,t]),this}}),l=u.props;for(function(t,e){var i,r,n,s,o;for(i in t)if(r=P.camelCase(i),n=e[r],s=t[i],P.isArray(s)&&(n=s[1],s=t[i]=s[0]),i!==r&&(t[r]=s,delete t[i]),o=P.cssHooks[r],o&&"expand"in o)for(i in s=o.expand(s),delete t[r],s)i in t||(t[i]=s[i],e[i]=n);else e[r]=n}(l,u.opts.specialEasing);r<o;r++)if(i=te.prefilters[r].call(u,n,l,u.opts))return P.isFunction(i.stop)&&(P._queueHooks(u.elem,u.opts.queue).stop=P.proxy(i.stop,i)),i;return P.map(l,Jt,u),P.isFunction(u.opts.start)&&u.opts.start.call(n,u),P.fx.timer(P.extend(h,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}P.Animation=P.extend(te,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return H(i.elem,t,W.exec(e),i),i}]},tweener:function(t,e){for(var i,r=0,n=(t=P.isFunction(t)?(e=t,["*"]):t.match(M)).length;r<n;r++)i=t[r],te.tweeners[i]=te.tweeners[i]||[],te.tweeners[i].unshift(e)},prefilters:[function(e,t,i){var r,n,s,o,a,h,u,l=this,c={},p=e.style,d=e.nodeType&&j(e),f=k.get(e,"fxshow");for(r in i.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(u=P.css(e,"display"))?k.get(e,"olddisplay")||bt(e.nodeName):u)&&"none"===P.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),t)if(n=t[r],$t.exec(n)){if(delete t[r],s=s||"toggle"===n,n===(d?"hide":"show")){if("show"!==n||!f||void 0===f[r])continue;d=!0}c[r]=f&&f[r]||P.style(e,r)}else u=void 0;if(P.isEmptyObject(c))"inline"===("none"===u?bt(e.nodeName):u)&&(p.display=u);else for(r in f?"hidden"in f&&(d=f.hidden):f=k.access(e,"fxshow",{}),s&&(f.hidden=!d),d?P(e).show():l.done(function(){P(e).hide()}),l.done(function(){for(var t in k.remove(e,"fxshow"),c)P.style(e,t,c[t])}),c)o=Jt(d?f[r]:0,r,l),r in f||(f[r]=o.start,d&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}],prefilter:function(t,e){e?te.prefilters.unshift(t):te.prefilters.push(t)}}),P.speed=function(t,e,i){var r=t&&"object"==typeof t?P.extend({},t):{complete:i||!i&&e||P.isFunction(t)&&t,duration:t,easing:i&&e||e&&!P.isFunction(e)&&e};return r.duration=P.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in P.fx.speeds?P.fx.speeds[r.duration]:P.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){P.isFunction(r.old)&&r.old.call(this),r.queue&&P.dequeue(this,r.queue)},r},P.fn.extend({fadeTo:function(t,e,i,r){return this.filter(j).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(e,t,i,r){var n=P.isEmptyObject(e),s=P.speed(t,i,r),r=function(){var t=te(this,P.extend({},e),s);(n||k.get(this,"finish"))&&t.stop(!0)};return r.finish=r,n||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(n,t,s){function o(t){var e=t.stop;delete t.stop,e(s)}return"string"!=typeof n&&(s=t,t=n,n=void 0),t&&!1!==n&&this.queue(n||"fx",[]),this.each(function(){var t=!0,e=null!=n&&n+"queueHooks",i=P.timers,r=k.get(this);if(e)r[e]&&r[e].stop&&o(r[e]);else for(e in r)r[e]&&r[e].stop&&Zt.test(e)&&o(r[e]);for(e=i.length;e--;)i[e].elem!==this||null!=n&&i[e].queue!==n||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||P.dequeue(this,n)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=k.get(this),i=e[o+"queue"],r=e[o+"queueHooks"],n=P.timers,s=i?i.length:0;for(e.finish=!0,P.queue(this,o,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===o&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),P.each(["toggle","show","hide"],function(t,r){var n=P.fn[r];P.fn[r]=function(t,e,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Qt(r,!0),t,e,i)}}),P.each({slideDown:Qt("show"),slideUp:Qt("hide"),slideToggle:Qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){P.fn[t]=function(t,e,i){return this.animate(r,t,e,i)}}),P.timers=[],P.fx.tick=function(){var t,e=0,i=P.timers;for(Yt=P.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||P.fx.stop(),Yt=void 0},P.fx.timer=function(t){P.timers.push(t),t()?P.fx.start():P.timers.pop()},P.fx.interval=13,P.fx.start=function(){Vt=Vt||b.setInterval(P.fx.tick,P.fx.interval)},P.fx.stop=function(){b.clearInterval(Vt),Vt=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(r,t){return r=P.fx&&P.fx.speeds[r]||r,this.queue(t=t||"fx",function(t,e){var i=b.setTimeout(t,r);e.stop=function(){b.clearTimeout(i)}})},d=T.createElement("input"),i=T.createElement("select"),o=i.appendChild(T.createElement("option")),d.type="checkbox",m.checkOn=""!==d.value,m.optSelected=o.selected,i.disabled=!0,m.optDisabled=!o.disabled,(d=T.createElement("input")).value="t",d.type="radio",m.radioValue="t"===d.value;var ee,ie=P.expr.attrHandle;P.fn.extend({attr:function(t,e){return R(this,P.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){P.removeAttr(this,t)})}}),P.extend({attr:function(t,e,i){var r,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?P.prop(t,e,i):(1===s&&P.isXMLDoc(t)||(e=e.toLowerCase(),n=P.attrHooks[e]||(P.expr.match.bool.test(e)?ee:void 0)),void 0!==i?null===i?void P.removeAttr(t,e):n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):n&&"get"in n&&null!==(r=n.get(t,e))?r:null==(r=P.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&P.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,r,n=0,s=e&&e.match(M);if(s&&1===t.nodeType)for(;i=s[n++];)r=P.propFix[i]||i,P.expr.match.bool.test(i)&&(t[r]=!1),t.removeAttribute(i)}}),ee={set:function(t,e,i){return!1===e?P.removeAttr(t,i):t.setAttribute(i,i),i}},P.each(P.expr.match.bool.source.match(/\w+/g),function(t,e){var s=ie[e]||P.find.attr;ie[e]=function(t,e,i){var r,n;return i||(n=ie[e],ie[e]=r,r=null!=s(t,e,i)?e.toLowerCase():null,ie[e]=n),r}});var re=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;P.fn.extend({prop:function(t,e){return R(this,P.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[P.propFix[t]||t]})}}),P.extend({prop:function(t,e,i){var r,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&P.isXMLDoc(t)||(e=P.propFix[e]||e,n=P.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:t[e]=i:n&&"get"in n&&null!==(r=n.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=P.find.attr(t,"tabindex");return e?parseInt(e,10):re.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(P.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;function oe(t){return t.getAttribute&&t.getAttribute("class")||""}P.fn.extend({addClass:function(e){var t,i,r,n,s,o,a=0;if(P.isFunction(e))return this.each(function(t){P(this).addClass(e.call(this,t,oe(this)))});if("string"==typeof e&&e)for(t=e.match(M)||[];i=this[a++];)if(o=oe(i),r=1===i.nodeType&&(" "+o+" ").replace(se," ")){for(s=0;n=t[s++];)r.indexOf(" "+n+" ")<0&&(r+=n+" ");o!==(o=P.trim(r))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,r,n,s,o,a=0;if(P.isFunction(e))return this.each(function(t){P(this).removeClass(e.call(this,t,oe(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(M)||[];i=this[a++];)if(o=oe(i),r=1===i.nodeType&&(" "+o+" ").replace(se," ")){for(s=0;n=t[s++];)for(;-1<r.indexOf(" "+n+" ");)r=r.replace(" "+n+" "," ");o!==(o=P.trim(r))&&i.setAttribute("class",o)}return this},toggleClass:function(n,e){var s=typeof n;return"boolean"==typeof e&&"string"==s?e?this.addClass(n):this.removeClass(n):P.isFunction(n)?this.each(function(t){P(this).toggleClass(n.call(this,t,oe(this),e),e)}):this.each(function(){var t,e,i,r;if("string"==s)for(e=0,i=P(this),r=n.match(M)||[];t=r[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==n&&"boolean"!=s||((t=oe(this))&&k.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==n&&k.get(this,"__className__")||""))})},hasClass:function(t){for(var e,i=0,r=" "+t+" ";e=this[i++];)if(1===e.nodeType&&-1<(" "+oe(e)+" ").replace(se," ").indexOf(r))return!0;return!1}});var ae=/\r/g,he=/[\x20\t\r\n\f]+/g;P.fn.extend({val:function(e){var i,t,r,n=this[0];return arguments.length?(r=P.isFunction(e),this.each(function(t){1===this.nodeType&&(null==(t=r?e.call(this,t,P(this).val()):e)?t="":"number"==typeof t?t+="":P.isArray(t)&&(t=P.map(t,function(t){return null==t?"":t+""})),(i=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):n?(i=P.valHooks[n.type]||P.valHooks[n.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(n,"value"))?t:"string"==typeof(t=n.value)?t.replace(ae,""):null==t?"":t:void 0}}),P.extend({valHooks:{option:{get:function(t){var e=P.find.attr(t,"value");return null!=e?e:P.trim(P.text(t)).replace(he," ")}},select:{get:function(t){for(var e,i=t.options,r=t.selectedIndex,n="select-one"===t.type||r<0,s=n?null:[],o=n?r+1:i.length,a=r<0?o:n?r:0;a<o;a++)if(((e=i[a]).selected||a===r)&&(m.optDisabled?!e.disabled:null===e.getAttribute("disabled"))&&(!e.parentNode.disabled||!P.nodeName(e.parentNode,"optgroup"))){if(e=P(e).val(),n)return e;s.push(e)}return s},set:function(t,e){for(var i,r,n=t.options,s=P.makeArray(e),o=n.length;o--;)((r=n[o]).selected=-1<P.inArray(P.valHooks.option.get(r),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(t,e){return P.isArray(e)?t.checked=-1<P.inArray(P(t).val(),e):void 0}},m.checkOn||(P.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ue=/^(?:focusinfocus|focusoutblur)$/;P.extend(P.event,{trigger:function(t,e,i,r){var n,s,o,a,h,u,l=[i||T],c=f.call(t,"type")?t.type:t,p=f.call(t,"namespace")?t.namespace.split("."):[],d=s=i=i||T;if(3!==i.nodeType&&8!==i.nodeType&&!ue.test(c+P.event.triggered)&&(-1<c.indexOf(".")&&(c=(p=c.split(".")).shift(),p.sort()),a=c.indexOf(":")<0&&"on"+c,(t=t[P.expando]?t:new P.Event(c,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:P.makeArray(e,[t]),u=P.event.special[c]||{},r||!u.trigger||!1!==u.trigger.apply(i,e))){if(!r&&!u.noBubble&&!P.isWindow(i)){for(o=u.delegateType||c,ue.test(o+c)||(d=d.parentNode);d;d=d.parentNode)l.push(d),s=d;s===(i.ownerDocument||T)&&l.push(s.defaultView||s.parentWindow||b)}for(n=0;(d=l[n++])&&!t.isPropagationStopped();)t.type=1<n?o:u.bindType||c,(h=(k.get(d,"events")||{})[t.type]&&k.get(d,"handle"))&&h.apply(d,e),(h=a&&d[a])&&h.apply&&N(d)&&(t.result=h.apply(d,e),!1===t.result&&t.preventDefault());return t.type=c,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(l.pop(),e)||!N(i)||a&&P.isFunction(i[c])&&!P.isWindow(i)&&((s=i[a])&&(i[a]=null),i[P.event.triggered=c](),P.event.triggered=void 0,s&&(i[a]=s)),t.result}},simulate:function(t,e,i){t=P.extend(new P.Event,i,{type:t,isSimulated:!0});P.event.trigger(t,null,e)}}),P.fn.extend({trigger:function(t,e){return this.each(function(){P.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?P.event.trigger(t,e,i,!0):void 0}}),P.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,i){P.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),P.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),m.focusin="onfocusin"in b,m.focusin||P.each({focus:"focusin",blur:"focusout"},function(i,r){function n(t){P.event.simulate(r,t.target,P.event.fix(t))}P.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=k.access(t,r);e||t.addEventListener(i,n,!0),k.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=k.access(t,r)-1;e?k.access(t,r,e):(t.removeEventListener(i,n,!0),k.remove(t,r))}}});var le=b.location,ce=P.now(),pe=/\?/;P.parseJSON=function(t){return JSON.parse(t+"")},P.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new b.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||P.error("Invalid XML: "+t),e};var de=/#.*$/,fe=/([?&])_=[^&]*/,_e=/^(.*?):[ \t]*([^\r\n]*)$/gm,me=/^(?:GET|HEAD)$/,ge=/^\/\//,ye={},ve={},xe="*/".concat("*"),be=T.createElement("a");function Te(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,r=0,n=t.toLowerCase().match(M)||[];if(P.isFunction(e))for(;i=n[r++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function Pe(e,r,n,s){var o={},a=e===ve;function h(t){var i;return o[t]=!0,P.each(e[t]||[],function(t,e){e=e(r,n,s);return"string"!=typeof e||a||o[e]?a?!(i=e):void 0:(r.dataTypes.unshift(e),h(e),!1)}),i}return h(r.dataTypes[0])||!o["*"]&&h("*")}function we(t,e){var i,r,n=P.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:r=r||{})[i]=e[i]);return r&&P.extend(!0,t,r),t}be.href=le.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":P.parseJSON,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?we(we(t,P.ajaxSettings),e):we(P.ajaxSettings,t)},ajaxPrefilter:Te(ye),ajaxTransport:Te(ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var h,u,l,i,c,p,r,d=P.ajaxSetup({},e=e||{}),f=d.context||d,_=d.context&&(f.nodeType||f.jquery)?P(f):P.event,m=P.Deferred(),g=P.Callbacks("once memory"),y=d.statusCode||{},n={},s={},v=0,o="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===v){if(!i)for(i={};e=_e.exec(l);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===v?l:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return v||(t=s[i]=s[i]||t,n[t]=e),this},overrideMimeType:function(t){return v||(d.mimeType=t),this},statusCode:function(t){if(t)if(v<2)for(var e in t)y[e]=[y[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){t=t||o;return h&&h.abort(t),a(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||le.href)+"").replace(de,"").replace(ge,le.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=P.trim(d.dataType||"*").toLowerCase().match(M)||[""],null==d.crossDomain){t=T.createElement("a");try{t.href=d.url,t.href=t.href,d.crossDomain=be.protocol+"//"+be.host!=t.protocol+"//"+t.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=P.param(d.data,d.traditional)),Pe(ye,d,e,x),2===v)return x;for(r in(p=P.event&&d.global)&&0==P.active++&&P.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!me.test(d.type),u=d.url,d.hasContent||(d.data&&(u=d.url+=(pe.test(u)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=fe.test(u)?u.replace(fe,"$1_="+ce++):u+(pe.test(u)?"&":"?")+"_="+ce++)),d.ifModified&&(P.lastModified[u]&&x.setRequestHeader("If-Modified-Since",P.lastModified[u]),P.etag[u]&&x.setRequestHeader("If-None-Match",P.etag[u])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xe+"; q=0.01":""):d.accepts["*"]),d.headers)x.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===v))return x.abort();for(r in o="abort",{success:1,error:1,complete:1})x[r](d[r]);if(h=Pe(ve,d,e,x)){if(x.readyState=1,p&&_.trigger("ajaxSend",[x,d]),2===v)return x;d.async&&0<d.timeout&&(c=b.setTimeout(function(){x.abort("timeout")},d.timeout));try{v=1,h.send(n,a)}catch(t){if(!(v<2))throw t;a(-1,t)}}else a(-1,"No Transport");function a(t,e,i,r){var n,s,o,a=e;2!==v&&(v=2,c&&b.clearTimeout(c),h=void 0,l=r||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,i&&(o=function(t,e,i){for(var r,n,s,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){h.unshift(n);break}if(h[0]in i)s=h[0];else{for(n in i){if(!h[0]||t.converters[n+" "+h[0]]){s=n;break}o=o||n}s=s||o}return s?(s!==h[0]&&h.unshift(s),i[s]):void 0}(d,x,i)),o=function(t,e,i,r){var n,s,o,a,h,u={},l=t.dataTypes.slice();if(l[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(s=l.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=l.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(!(o=u[h+" "+s]||u["* "+s]))for(n in u)if(a=n.split(" "),a[1]===s&&(o=u[h+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[n]:!0!==u[n]&&(s=a[0],l.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}(d,o,x,r),r?(d.ifModified&&((i=x.getResponseHeader("Last-Modified"))&&(P.lastModified[u]=i),(i=x.getResponseHeader("etag"))&&(P.etag[u]=i)),204===t||"HEAD"===d.type?a="nocontent":304===t?a="notmodified":(a=o.state,n=o.data,r=!(s=o.error))):(s=a,!t&&a||(a="error",t<0&&(t=0))),x.status=t,x.statusText=(e||a)+"",r?m.resolveWith(f,[n,a,x]):m.rejectWith(f,[x,a,s]),x.statusCode(y),y=void 0,p&&_.trigger(r?"ajaxSuccess":"ajaxError",[x,d,r?n:s]),g.fireWith(f,[x,a]),p&&(_.trigger("ajaxComplete",[x,d]),--P.active||P.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return P.get(t,e,i,"json")},getScript:function(t,e){return P.get(t,void 0,e,"script")}}),P.each(["get","post"],function(t,n){P[n]=function(t,e,i,r){return P.isFunction(e)&&(r=r||i,i=e,e=void 0),P.ajax(P.extend({url:t,type:n,dataType:r,data:e,success:i},P.isPlainObject(t)&&t))}}),P._evalUrl=function(t){return P.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},P.fn.extend({wrapAll:function(e){var t;return P.isFunction(e)?this.each(function(t){P(this).wrapAll(e.call(this,t))}):(this[0]&&(t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(i){return P.isFunction(i)?this.each(function(t){P(this).wrapInner(i.call(this,t))}):this.each(function(){var t=P(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=P.isFunction(e);return this.each(function(t){P(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){P.nodeName(this,"body")||P(this).replaceWith(this.childNodes)}).end()}}),P.expr.filters.hidden=function(t){return!P.expr.filters.visible(t)},P.expr.filters.visible=function(t){return 0<t.offsetWidth||0<t.offsetHeight||0<t.getClientRects().length};var Ee=/%20/g,Se=/\[\]$/,Ie=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;P.param=function(t,e){function i(t,e){e=P.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}var r,n=[];if(void 0===e&&(e=P.ajaxSettings&&P.ajaxSettings.traditional),P.isArray(t)||t.jquery&&!P.isPlainObject(t))P.each(t,function(){i(this.name,this.value)});else for(r in t)!function i(r,t,n,s){if(P.isArray(t))P.each(t,function(t,e){n||Se.test(r)?s(r,e):i(r+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,s)});else if(n||"object"!==P.type(t))s(r,t);else for(var e in t)i(r+"["+e+"]",t[e],n,s)}(r,t[r],e,i);return n.join("&").replace(Ee,"+")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=P.prop(this,"elements");return t?P.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!P(this).is(":disabled")&&Ce.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!q.test(t))}).map(function(t,e){var i=P(this).val();return null==i?null:P.isArray(i)?P.map(i,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:i.replace(Ie,"\r\n")}}).get()}}),P.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(t){}};var Oe={0:200,1223:204},Le=P.ajaxSettings.xhr();m.cors=!!Le&&"withCredentials"in Le,m.ajax=Le=!!Le,P.ajaxTransport(function(n){var s,o;return m.cors||Le&&!n.crossDomain?{send:function(t,e){var i,r=n.xhr();if(r.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(i in n.xhrFields)r[i]=n.xhrFields[i];for(i in n.mimeType&&r.overrideMimeType&&r.overrideMimeType(n.mimeType),n.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(i,t[i]);s=function(t){return function(){s&&(s=o=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e(Oe[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=s(),o=r.onerror=s("error"),void 0!==r.onabort?r.onabort=o:r.onreadystatechange=function(){4===r.readyState&&b.setTimeout(function(){s&&o()})},s=s("abort");try{r.send(n.hasContent&&n.data||null)}catch(t){if(s)throw t}},abort:function(){s&&s()}}:void 0}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return P.globalEval(t),t}}}),P.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),P.ajaxTransport("script",function(i){var r,n;if(i.crossDomain)return{send:function(t,e){r=P("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",n=function(t){r.remove(),n=null,t&&e("error"===t.type?404:200,t.type)}),T.head.appendChild(r[0])},abort:function(){n&&n()}}});var Me=[],De=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||P.expando+"_"+ce++;return this[t]=!0,t}}),P.ajaxPrefilter("json jsonp",function(t,e,i){var r,n,s,o=!1!==t.jsonp&&(De.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=P.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(De,"$1"+r):!1!==t.jsonp&&(t.url+=(pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||P.error(r+" was not called"),s[0]},t.dataTypes[0]="json",n=b[r],b[r]=function(){s=arguments},i.always(function(){void 0===n?P(b).removeProp(r):b[r]=n,t[r]&&(t.jsonpCallback=e.jsonpCallback,Me.push(r)),s&&P.isFunction(n)&&n(s[0]),s=n=void 0}),"script"):void 0}),P.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||T;var r=x.exec(t),i=!i&&[];return r?[e.createElement(r[1])]:(r=J([t],e,i),i&&i.length&&P(i).remove(),P.merge([],r.childNodes))};var Re=P.fn.load;function Ne(t){return P.isWindow(t)?t:9===t.nodeType&&t.defaultView}P.fn.load=function(t,e,i){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var r,n,s,o=this,a=t.indexOf(" ");return-1<a&&(r=P.trim(t.slice(a)),t=t.slice(0,a)),P.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),0<o.length&&P.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(r?P("<div>").append(P.parseHTML(t)).find(r):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){P.fn[e]=function(t){return this.on(e,t)}}),P.expr.filters.animated=function(e){return P.grep(P.timers,function(t){return e===t.elem}).length},P.offset={setOffset:function(t,e,i){var r,n,s,o,a=P.css(t,"position"),h=P(t),u={};"static"===a&&(t.style.position="relative"),s=h.offset(),r=P.css(t,"top"),o=P.css(t,"left"),o=("absolute"===a||"fixed"===a)&&-1<(r+o).indexOf("auto")?(n=(a=h.position()).top,a.left):(n=parseFloat(r)||0,parseFloat(o)||0),null!=(e=P.isFunction(e)?e.call(t,i,P.extend({},s)):e).top&&(u.top=e.top-s.top+n),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):h.css(u)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){P.offset.setOffset(this,e,t)});var t,i=this[0],r={top:0,left:0},n=i&&i.ownerDocument;return n?(t=n.documentElement,P.contains(t,i)?(r=i.getBoundingClientRect(),n=Ne(n),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,i=this[0],r={top:0,left:0};return"fixed"===P.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),(r=!P.nodeName(t[0],"html")?t.offset():r).top+=P.css(t[0],"borderTopWidth",!0),r.left+=P.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-P.css(i,"marginTop",!0),left:e.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===P.css(t,"position");)t=t.offsetParent;return t||Mt})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var s="pageYOffset"===n;P.fn[e]=function(t){return R(this,function(t,e,i){var r=Ne(t);return void 0===i?r?r[n]:t[e]:void(r?r.scrollTo(s?r.pageXOffset:i,s?i:r.pageYOffset):t[e]=i)},e,t,arguments.length)}}),P.each(["top","left"],function(t,i){P.cssHooks[i]=Nt(m.pixelPosition,function(t,e){return e?(e=Rt(t,i),Lt.test(e)?P(t).position()[i]+"px":e):void 0})}),P.each({Height:"height",Width:"width"},function(s,o){P.each({padding:"inner"+s,content:o,"":"outer"+s},function(r,t){P.fn[t]=function(t,e){var i=arguments.length&&(r||"boolean"!=typeof t),n=r||(!0===t||!0===e?"margin":"border");return R(this,function(t,e,i){var r;return P.isWindow(t)?t.document.documentElement["client"+s]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+s],r["scroll"+s],t.body["offset"+s],r["offset"+s],r["client"+s])):void 0===i?P.css(t,e,n):P.style(t,e,i,n)},o,i?t:void 0,i,null)}})}),P.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),P.fn.andSelf=P.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return P});var Be=b.jQuery,ke=b.$;return P.noConflict=function(t){return b.$===P&&(b.$=ke),t&&b.jQuery===P&&(b.jQuery=Be),P},t||(b.jQuery=b.$=P),P});var PIXI=function(W){"use strict";var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e,i=t(function(t,w){!function(t){var e,i=t.Promise,r=i&&"resolve"in i&&"reject"in i&&"all"in i&&"race"in i&&(new i(function(t){e=t}),"function"==typeof e);w?(w.Promise=r?i:P,w.Polyfill=P):r||(t.Promise=P);function n(){}var s="pending",o="sealed",a="fulfilled",h="rejected";function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,p=[];function d(){for(var t=0;t<p.length;t++)p[t][0](p[t][1]);l=!(p=[])}function f(t,e){p.push([t,e]),l||(l=!0,c(d,0))}function _(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],e=t.then;if("function"==typeof n){i=a;try{r=n(r)}catch(t){v(e,t)}}m(e,r)||(i===a&&g(e,r),i===h&&v(e,r))}function m(e,i){var r;try{if(e===i)throw new TypeError("A promises callback cannot return that same promise.");if(i&&("function"==typeof i||"object"==typeof i)){var t=i.then;if("function"==typeof t)return t.call(i,function(t){r||(r=!0,(i!==t?g:y)(e,t))},function(t){r||(r=!0,v(e,t))}),1}}catch(i){return r||v(e,i),1}}function g(t,e){t!==e&&m(t,e)||y(t,e)}function y(t,e){t.state_===s&&(t.state_=o,t.data_=e,f(b,t))}function v(t,e){t.state_===s&&(t.state_=o,t.data_=e,f(T,t))}function x(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)_(e[i])}function b(t){t.state_=a,x(t)}function T(t){t.state_=h,x(t)}function P(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof P==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){v(e,t)}try{t(function(t){g(e,t)},i)}catch(t){i(t)}}(t,this)}P.prototype={constructor:P,state_:s,then_:null,data_:void 0,then:function(t,e){e={owner:this,then:new this.constructor(n),fulfilled:t,rejected:e};return this.state_===a||this.state_===h?f(_,e):this.then_.push(e),e.then},catch:function(t){return this.then(null,t)}},P.all=function(o){if(!u(o))throw new TypeError("You must pass an array to Promise.all().");return new this(function(i,t){var r=[],n=0;for(var e,s=0;s<o.length;s++)(e=o[s])&&"function"==typeof e.then?e.then(function(e){return n++,function(t){r[e]=t,--n||i(r)}}(s),t):r[s]=e;n||i(r)})},P.race=function(n){if(!u(n))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,e){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(t,e):t(i)})},P.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},P.reject=function(i){return new this(function(t,e){e(i)})}}("undefined"!=typeof window?window:C)}),r=(i.Promise,i.Polyfill),u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,n=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return}}()?Object.assign:function(t,e){for(var i,r=arguments,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var o in i=Object(r[s]))l.call(i,o)&&(n[o]=i[o]);if(u)for(var a=u(i),h=0;h<a.length;h++)c.call(i,a[h])&&(n[a[h]]=i[a[h]])}return n};window.Promise||(window.Promise=r),Object.assign||(Object.assign=n),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),window.performance&&window.performance.now||(e=Date.now(),window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-e});for(var s=Date.now(),o=["ms","moz","webkit","o"],a=0;a<o.length&&!window.requestAnimationFrame;++a){var h=o[a];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+s-e;return i<0&&(i=0),s=e,window.setTimeout(function(){s=Date.now(),t(performance.now())},i)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);function p(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var d=/iPhone/i,f=/iPod/i,_=/iPad/i,m=/\biOS-universal(?:.+)Mac\b/i,g=/\bAndroid(?:.+)Mobile\b/i,y=/Android/i,v=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,x=/Silk/i,b=/Windows Phone/i,T=/\bWindows(?:.+)ARM\b/i,P=/BlackBerry/i,w=/BB10/i,E=/Opera Mini/i,S=/\b(CriOS|Chrome)(?:.+)Mobile/i,I=/Mobile(?:.+)Firefox\b/i,A=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,t=i.split("[FBAN");void 0!==(t=(i=void 0!==t[1]?t[0]:i).split("Twitter"))[1]&&(i=t[0]);var r,i=(r=i,function(t){return t.test(r)}),i={apple:{phone:i(d)&&!i(b),ipod:i(f),tablet:!i(d)&&(i(_)||p(e))&&!i(b),universal:i(m),device:(i(d)||i(f)||i(_)||i(m)||p(e))&&!i(b)},amazon:{phone:i(v),tablet:!i(v)&&i(x),device:i(v)||i(x)},android:{phone:!i(b)&&i(v)||!i(b)&&i(g),tablet:!i(b)&&!i(v)&&!i(g)&&(i(x)||i(y)),device:!i(b)&&(i(v)||i(x)||i(g)||i(y))||i(/\bokhttp\b/i)},windows:{phone:i(b),tablet:i(T),device:i(b)||i(T)},other:{blackberry:i(P),blackberry10:i(w),opera:i(E),firefox:i(I),chrome:i(S),device:i(P)||i(w)||i(E)||i(I)||i(S)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}(window.navigator),O={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(mi=!0,(A.tablet||A.phone)&&(A.apple.device&&(ui=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(ui[1],10)<11&&(mi=!1),A.android.device&&(ui=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(ui[1],10)<7&&(mi=!1)),mi?32:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:A.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!A.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},L=t(function(t){var r=Object.prototype.hasOwnProperty,f="~";function i(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function n(t,e,i,r,n){if("function"!=typeof i)throw new TypeError("The listener must be a function");n=new s(i,r||t,n),e=f?f+e:e;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],n]:t._events[e].push(n):(t._events[e]=n,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function e(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(f=!1)),e.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},e.prototype.listeners=function(t){var t=f?f+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var i=0,r=e.length,n=new Array(r);i<r;i++)n[i]=e[i].fn;return n},e.prototype.listenerCount=function(t){t=f?f+t:t,t=this._events[t];return t?t.fn?1:t.length:0},e.prototype.emit=function(t,e,i,r,n,s){var o=arguments,a=f?f+t:t;if(!this._events[a])return!1;var h,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,n),!0;case 6:return u.fn.call(u.context,e,i,r,n,s),!0}for(d=1,h=new Array(l-1);d<l;d++)h[d-1]=o[d];u.fn.apply(u.context,h)}else for(var c,p=u.length,d=0;d<p;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,e);break;case 3:u[d].fn.call(u[d].context,e,i);break;case 4:u[d].fn.call(u[d].context,e,i,r);break;default:if(!h)for(c=1,h=new Array(l-1);c<l;c++)h[c-1]=o[c];u[d].fn.apply(u[d].context,h)}return!0},e.prototype.on=function(t,e,i){return n(this,t,e,i,!1)},e.prototype.once=function(t,e,i){return n(this,t,e,i,!0)},e.prototype.removeListener=function(t,e,i,r){t=f?f+t:t;if(!this._events[t])return this;if(!e)return h(this,t),this;var n=this._events[t];if(n.fn)n.fn!==e||r&&!n.once||i&&n.context!==i||h(this,t);else{for(var s=0,o=[],a=n.length;s<a;s++)(n[s].fn!==e||r&&!n[s].once||i&&n[s].context!==i)&&o.push(n[s]);o.length?this._events[t]=1===o.length?o[0]:o:h(this,t)}return this},e.prototype.removeAllListeners=function(t){return t?(t=f?f+t:t,this._events[t]&&h(this,t)):(this._events=new i,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prefixed=f,t.exports=e.EventEmitter=e}),M=R,D=R;function R(t,e,i){i=i||2;var r,n,s,o,a,h=e&&e.length,u=h?e[0]*i:t.length,l=N(t,0,u,i,!0),c=[];if(!l||l.next===l.prev)return c;if(h&&(l=function(t,e,i,r){for(var n,s,o,a=[],h=0,u=e.length;h<u;h++)(n=N(t,e[h]*r,h<u-1?e[h+1]*r:t.length,r,!1))===n.next&&(n.steiner=!0),a.push(function(t){var e=t,i=t;for(;(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next,e!==t;);return i}(n));for(a.sort(F),h=0;h<a.length;h++)s=a[h],(o=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&o<a){if((o=a)===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}}while((r=r.next)!==e);if(!i)return null;if(n===o)return i;for(var h,u,l,c=i,p=i.x,d=i.y,f=1/0,r=i;n>=r.x&&r.x>=p&&n!==r.x&&U(s<d?n:o,s,p,d,s<d?o:n,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(n-r.x),Y(r,t)&&(h<f||h===f&&(r.x>i.x||r.x===i.x&&(l=r,X((u=i).prev,u,l.prev)<0&&X(l.next,u,u.next)<0)))&&(i=r,f=h)),(r=r.next)!==c;);return i}(s,o=i))&&(s=V(o,s),B(o,o.next),B(s,s.next)),i=B(i,i.next);return i}(t,e,l,i)),t.length>80*i){for(var p=r=t[0],d=n=t[1],f=i;f<u;f+=i)(s=t[f])<p&&(p=s),(o=t[f+1])<d&&(d=o),r<s&&(r=s),n<o&&(n=o);a=0!==(a=Math.max(r-p,n-d))?1/a:0}return k(l,c,i,p,d,a),c}function N(t,e,i,r,n){var s,o;if(n===0<Q(t,e,i,r))for(s=e;s<i;s+=r)o=$(s,t[s],t[s+1],o);else for(s=i-r;e<=s;s-=r)o=$(s,t[s],t[s+1],o);return o&&j(o,o.next)&&(Z(o),o=o.next),o}function B(t,e){if(!t)return t;e=e||t;var i,r=t;do{if(i=!1,r.steiner||!j(r,r.next)&&0!==X(r.prev,r,r.next))r=r.next;else{if(Z(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function k(t,e,i,r,n,s,o){if(t){!o&&s&&function(t,e,i,r){for(var n=t;null===n.z&&(n.z=G(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,(n=n.next)!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,h,u=1;do{for(i=t,s=t=null,o=0;i;){for(o++,r=i,e=a=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;0<a||0<h&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(i=(n=i).nextZ,a--):(r=(n=r).nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}}while(s.nextZ=null,u*=2,1<o)}(n)}(t,r,n,s);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,s?function(t,e,i,r){var n=t.prev,s=t,o=t.next;if(0<=X(n,s,o))return!1;for(var a=(n.x<s.x?n.x<o.x?n:o:s.x<o.x?s:o).x,h=(n.y<s.y?n.y<o.y?n:o:s.y<o.y?s:o).y,u=(n.x>s.x?n.x>o.x?n:o:s.x>o.x?s:o).x,l=(n.y>s.y?n.y>o.y?n:o:s.y>o.y?s:o).y,c=G(a,h,e,i,r),p=G(u,l,e,i,r),d=t.prevZ,f=t.nextZ;d&&d.z>=c&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=X(d.prev,d,d.next))return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=X(f.prev,f,f.next))return!1;f=f.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=X(d.prev,d,d.next))return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=X(f.prev,f,f.next))return!1;f=f.nextZ}return!0}(t,r,n,s):function(t){var e=t.prev,i=t,r=t.next;if(0<=X(e,i,r))return!1;for(var n=t.next.next;n!==t.prev;){if(U(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=X(n.prev,n,n.next))return!1;n=n.next}return!0}(t))e.push(a.i/i),e.push(t.i/i),e.push(h.i/i),Z(t),t=h.next,u=h.next;else if((t=h)===u){o?1===o?k(t=function(t,e,i){var r=t;do{var n=r.prev,s=r.next.next}while(!j(n,s)&&z(n,r,r.next,s)&&Y(n,s)&&Y(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),Z(r),Z(r.next),r=t=s),r=r.next,r!==t);return B(r)}(B(t),e,i),e,i,r,n,s,2):2===o&&function(t,e,i,r,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&z(i,i.next,t,e))return 1}while((i=i.next)!==t)}(t,e)&&(Y(t,e)&&Y(e,t)&&function(t,e){for(var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),(i=i.next)!==t;);return r}(t,e)&&(X(t.prev,t,e.prev)||X(t,e.prev,e))||j(t,e)&&0<X(t.prev,t,t.next)&&0<X(e.prev,e,e.next))}(o,a)){var h=V(o,a);return o=B(o,o.next),h=B(h,h.next),k(o,e,i,r,n,s),k(h,e,i,r,n,s)}a=a.next}}while(o=o.next,o!==t)}(t,e,i,r,n,s):k(B(t),e,i,r,n,s,1);break}}}function F(t,e){return t.x-e.x}function G(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function U(t,e,i,r,n,s,o,a){return 0<=(n-o)*(e-a)-(t-o)*(s-a)&&0<=(t-o)*(r-a)-(i-o)*(e-a)&&0<=(i-o)*(s-a)-(n-o)*(r-a)}function X(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function j(t,e){return t.x===e.x&&t.y===e.y}function z(t,e,i,r){var n=q(X(t,e,i)),s=q(X(t,e,r)),o=q(X(i,r,t)),a=q(X(i,r,e));return n!==s&&o!==a||0===n&&H(t,i,e)||0===s&&H(t,r,e)||0===o&&H(i,t,r)||0===a&&H(i,e,r)}function H(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function q(t){return 0<t?1:t<0?-1:0}function Y(t,e){return X(t.prev,t,t.next)<0?0<=X(t,e,t.next)&&0<=X(t,t.prev,e):X(t,e,t.prev)<0||X(t,t.next,e)<0}function V(t,e){var i=new K(t.i,t.x,t.y),r=new K(e.i,e.x,e.y),n=t.next,s=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(s.next=r).prev=s,r}function $(t,e,i,r){i=new K(t,e,i);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Z(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function K(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Q(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}R.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,o=Math.abs(Q(t,0,s,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;o-=Math.abs(Q(t,u,l,i))}for(var c=0,a=0;a<r.length;a+=3){var p=r[a]*i,d=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[p]-t[f])*(t[1+d]-t[1+p])-(t[p]-t[d])*(t[1+f]-t[1+p]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},R.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[n][s][o]);0<n&&(r+=t[n-1].length,i.holes.push(r))}return i},M.default=D;var J=t(function(I,A){!function(t){var e=A&&!A.nodeType&&A,i=I&&!I.nodeType&&I,r="object"==typeof C&&C;r.global!==r&&r.window!==r&&r.self!==r||(t=r);var n,s,m=2147483647,g=36,y=26,o=38,a=700,h=/^xn--/,u=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=g-1,v=Math.floor,x=String.fromCharCode;function b(t){throw RangeError(c[t])}function d(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function f(t,e){var i=t.split("@"),r="";return 1<i.length&&(r=i[0]+"@",t=i[1]),r+d((t=t.replace(l,".")).split("."),e).join(".")}function T(t){for(var e,i,r=[],n=0,s=t.length;n<s;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function _(t){return d(t,function(t){var e="";return 65535<t&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+x(t)}).join("")}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,i){var r=0;for(t=i?v(t/a):t>>1,t+=v(t/e);p*y>>1<t;r+=g)t=v(t/p);return v(r+(p+1)*t/(t+o))}function E(t){var e,i,r,n,s,o,a,h,u=[],l=t.length,c=0,p=128,d=72;for((i=t.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)128<=t.charCodeAt(r)&&b("not-basic"),u.push(t.charCodeAt(r));for(n=0<i?i+1:0;n<l;){for(s=c,o=1,a=g;l<=n&&b("invalid-input"),((h=(h=t.charCodeAt(n++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:g)>=g||h>v((m-c)/o))&&b("overflow"),c+=h*o,!(h<(h=a<=d?1:d+y<=a?y:a-d));a+=g)o>v(m/(h=g-h))&&b("overflow"),o*=h;d=w(c-s,e=u.length+1,0==s),v(c/e)>m-p&&b("overflow"),p+=v(c/e),c%=e,u.splice(c++,0,p)}return _(u)}function S(t){for(var e,i,r,n,s,o,a,h,u,l=[],c=(t=T(t)).length,p=128,d=0,f=72,_=0;_<c;++_)(o=t[_])<128&&l.push(x(o));for(e=i=l.length,i&&l.push("-");e<c;){for(r=m,_=0;_<c;++_)(o=t[_])>=p&&o<r&&(r=o);for(r-p>v((m-d)/(a=e+1))&&b("overflow"),d+=(r-p)*a,p=r,_=0;_<c;++_)if((o=t[_])<p&&++d>m&&b("overflow"),o==p){for(n=d,s=g;!(n<(h=s<=f?1:f+y<=s?y:s-f));s+=g)l.push(x(P(h+(u=n-h)%(h=g-h),0))),n=v(u/h);l.push(x(P(n,0))),f=w(d,a,e==i),d=0,++e}++d,++p}return l.join("")}if(n={version:"1.3.2",ucs2:{decode:T,encode:_},decode:E,encode:S,toASCII:function(t){return f(t,function(t){return u.test(t)?"xn--"+S(t):t})},toUnicode:function(t){return f(t,function(t){return h.test(t)?E(t.slice(4).toLowerCase()):t})}},e&&i)if(I.exports==e)i.exports=n;else for(s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);else t.punycode=n}(C)}),tt=function(t){return"string"==typeof t},et=function(t){return"object"==typeof t&&null!==t},it=function(t){return null===t},rt=function(t){return null==t};function nt(t,e,i,r){i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var s=/\+/g;t=t.split(e=e||"&"),e=1e3,r&&"number"==typeof r.maxKeys&&(e=r.maxKeys);var o=t.length;0<e&&e<o&&(o=e);for(var a=0;a<o;++a){var h,u=t[a].replace(s,"%20"),l=u.indexOf(i),l=0<=l?(h=u.substr(0,l),u.substr(l+1)):(h=u,""),u=decodeURIComponent(h),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(n,u)?Array.isArray(n[u])?n[u].push(l):n[u]=[n[u],l]:n[u]=l}return n}function st(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function ot(i,r,n,t){return r=r||"&",n=n||"=","object"==typeof(i=null===i?void 0:i)?Object.keys(i).map(function(t){var e=encodeURIComponent(st(t))+n;return Array.isArray(i[t])?i[t].map(function(t){return e+encodeURIComponent(st(t))}).join(r):e+encodeURIComponent(st(i[t]))}).join(r):t?encodeURIComponent(st(t))+n+encodeURIComponent(st(i)):""}var at=t(function(t,e){e.decode=e.parse=nt,e.encode=e.stringify=ot}),ht=(at.decode,at.parse,at.encode,at.stringify,Pt),ut=lt;function lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ct=/^([a-z0-9.+-]+:)/i,pt=/:[0-9]*$/,dt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ft=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),_t=["'"].concat(ft),mt=["%","/","?",";","#"].concat(_t),gt=["/","?","#"],yt=/^[+a-z0-9A-Z_-]{0,63}$/,vt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xt={javascript:!0,"javascript:":!0},bt={javascript:!0,"javascript:":!0},Tt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Pt(t,e,i){if(t&&et(t)&&t instanceof lt)return t;var r=new lt;return r.parse(t,e,i),r}lt.prototype.parse=function(t,e,i){if(!tt(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",r=t.split(n);r[0]=r[0].replace(/\\/g,"/");var s=(s=t=r.join(n)).trim();if(!i&&1===t.split("#").length){var o=dt.exec(s);if(o)return this.path=s,this.href=s,this.pathname=o[1],o[2]?(this.search=o[2],this.query=e?at.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,o=ct.exec(s);if(o&&(E=(o=o[0]).toLowerCase(),this.protocol=E,s=s.substr(o.length)),(i||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||o&&bt[o]||(s=s.substr(2),this.slashes=!0)),!bt[o]&&(a||o&&!Tt[o])){for(var h,u=-1,l=0;l<gt.length;l++)-1!==(h=s.indexOf(gt[l]))&&(-1===u||h<u)&&(u=h);for(-1!==(b=-1===u?s.lastIndexOf("@"):s.lastIndexOf("@",u))&&(T=s.slice(0,b),s=s.slice(b+1),this.auth=decodeURIComponent(T)),u=-1,l=0;l<mt.length;l++)-1!==(h=s.indexOf(mt[l]))&&(-1===u||h<u)&&(u=h);-1===u&&(u=s.length),this.host=s.slice(0,u),s=s.slice(u),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var p=this.hostname.split(/\./),d=(l=0,p.length);l<d;l++){var f=p[l];if(f&&!f.match(yt)){for(var _="",m=0,g=f.length;m<g;m++)127<f.charCodeAt(m)?_+="x":_+=f[m];if(!_.match(yt)){var y=p.slice(0,l),v=p.slice(l+1),x=f.match(vt);x&&(y.push(x[1]),v.unshift(x[2])),v.length&&(s="/"+v.join(".")+s),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=J.toASCII(this.hostname));var b=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+b,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!xt[E])for(l=0,d=_t.length;l<d;l++){var P,w=_t[l];-1!==s.indexOf(w)&&((P=encodeURIComponent(w))===w&&(P=escape(w)),s=s.split(w).join(P))}c=s.indexOf("#");-1!==c&&(this.hash=s.substr(c),s=s.slice(0,c));var E,c=s.indexOf("?");return-1!==c?(this.search=s.substr(c),this.query=s.substr(c+1),e&&(this.query=at.parse(this.query)),s=s.slice(0,c)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Tt[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(b=this.pathname||"",E=this.search||"",this.path=b+E),this.href=this.format(),this},lt.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&et(this.query)&&Object.keys(this.query).length&&(s=at.stringify(this.query));s=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Tt[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n=n||"",r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},lt.prototype.resolve=function(t){return this.resolveObject(Pt(t,!1,!0)).format()},lt.prototype.resolveObject=function(t){tt(t)&&((d=new lt).parse(t,!1,!0),t=d);for(var e=new lt,i=Object.keys(this),r=0;r<i.length;r++){var n=i[r];e[n]=this[n]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var a=s[o];"protocol"!==a&&(e[a]=t[a])}return Tt[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Tt[t.protocol]){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||bt[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(f=e.pathname||"",_=e.search||"",e.path=f+_),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var p=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=d||p||e.host&&t.pathname,_=f,m=e.pathname&&e.pathname.split("/")||[],p=(c=t.pathname&&t.pathname.split("/")||[],e.protocol&&!Tt[e.protocol]);if(p&&(e.hostname="",e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),f=f&&(""===c[0]||""===m[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,m=c;else if(c.length)(m=m||[]).pop(),m=m.concat(c),e.search=t.search,e.query=t.query;else if(!rt(t.search))return p&&(e.hostname=e.host=m.shift(),(x=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=x.shift(),e.host=e.hostname=x.shift())),e.search=t.search,e.query=t.query,it(e.pathname)&&it(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!m.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var g=m.slice(-1)[0],d=(e.host||t.host||1<m.length)&&("."===g||".."===g)||""===g,y=0,v=m.length;0<=v;v--)"."===(g=m[v])?m.splice(v,1):".."===g?(m.splice(v,1),y++):y&&(m.splice(v,1),y--);if(!f&&!_)for(;y--;)m.unshift("..");!f||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),d&&"/"!==m.join("/").substr(-1)&&m.push("");var x,d=""===m[0]||m[0]&&"/"===m[0].charAt(0);return p&&(e.hostname=e.host=!d&&m.length?m.shift():"",(x=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=x.shift(),e.host=e.hostname=x.shift())),(f=f||e.host&&m.length)&&!d&&m.unshift(""),m.length?e.pathname=m.join("/"):(e.pathname=null,e.path=null),it(e.pathname)&&it(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},lt.prototype.parseHost=function(){var t=this.host,e=pt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var wt={parse:ht,resolve:function(t,e){return Pt(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Pt(t,!1,!0).resolveObject(e):e},format:function(t){return(t=tt(t)?Pt(t):t)instanceof lt?t.format():lt.prototype.format.call(t)},Url:ut};(Wi=W.ENV||(W.ENV={}))[Wi.WEBGL_LEGACY=0]="WEBGL_LEGACY",Wi[Wi.WEBGL=1]="WEBGL",Wi[Wi.WEBGL2=2]="WEBGL2",(zi=W.RENDERER_TYPE||(W.RENDERER_TYPE={}))[zi.UNKNOWN=0]="UNKNOWN",zi[zi.WEBGL=1]="WEBGL",zi[zi.CANVAS=2]="CANVAS",(Hi=W.BUFFER_BITS||(W.BUFFER_BITS={}))[Hi.COLOR=16384]="COLOR",Hi[Hi.DEPTH=256]="DEPTH",Hi[Hi.STENCIL=1024]="STENCIL",(ar=W.BLEND_MODES||(W.BLEND_MODES={}))[ar.NORMAL=0]="NORMAL",ar[ar.ADD=1]="ADD",ar[ar.MULTIPLY=2]="MULTIPLY",ar[ar.SCREEN=3]="SCREEN",ar[ar.OVERLAY=4]="OVERLAY",ar[ar.DARKEN=5]="DARKEN",ar[ar.LIGHTEN=6]="LIGHTEN",ar[ar.COLOR_DODGE=7]="COLOR_DODGE",ar[ar.COLOR_BURN=8]="COLOR_BURN",ar[ar.HARD_LIGHT=9]="HARD_LIGHT",ar[ar.SOFT_LIGHT=10]="SOFT_LIGHT",ar[ar.DIFFERENCE=11]="DIFFERENCE",ar[ar.EXCLUSION=12]="EXCLUSION",ar[ar.HUE=13]="HUE",ar[ar.SATURATION=14]="SATURATION",ar[ar.COLOR=15]="COLOR",ar[ar.LUMINOSITY=16]="LUMINOSITY",ar[ar.NORMAL_NPM=17]="NORMAL_NPM",ar[ar.ADD_NPM=18]="ADD_NPM",ar[ar.SCREEN_NPM=19]="SCREEN_NPM",ar[ar.NONE=20]="NONE",ar[ar.SRC_OVER=0]="SRC_OVER",ar[ar.SRC_IN=21]="SRC_IN",ar[ar.SRC_OUT=22]="SRC_OUT",ar[ar.SRC_ATOP=23]="SRC_ATOP",ar[ar.DST_OVER=24]="DST_OVER",ar[ar.DST_IN=25]="DST_IN",ar[ar.DST_OUT=26]="DST_OUT",ar[ar.DST_ATOP=27]="DST_ATOP",ar[ar.ERASE=26]="ERASE",ar[ar.SUBTRACT=28]="SUBTRACT",ar[ar.XOR=29]="XOR",(hr=W.DRAW_MODES||(W.DRAW_MODES={}))[hr.POINTS=0]="POINTS",hr[hr.LINES=1]="LINES",hr[hr.LINE_LOOP=2]="LINE_LOOP",hr[hr.LINE_STRIP=3]="LINE_STRIP",hr[hr.TRIANGLES=4]="TRIANGLES",hr[hr.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",hr[hr.TRIANGLE_FAN=6]="TRIANGLE_FAN",(ts=W.FORMATS||(W.FORMATS={}))[ts.RGBA=6408]="RGBA",ts[ts.RGB=6407]="RGB",ts[ts.ALPHA=6406]="ALPHA",ts[ts.LUMINANCE=6409]="LUMINANCE",ts[ts.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",ts[ts.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",ts[ts.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(ss=W.TARGETS||(W.TARGETS={}))[ss.TEXTURE_2D=3553]="TEXTURE_2D",ss[ss.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",ss[ss.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",ss[ss.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",ss[ss.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",ss[ss.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",ss[ss.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",ss[ss.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",ss[ss.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(ds=W.TYPES||(W.TYPES={}))[ds.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",ds[ds.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",ds[ds.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",ds[ds.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",ds[ds.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",ds[ds.FLOAT=5126]="FLOAT",ds[ds.HALF_FLOAT=36193]="HALF_FLOAT",(Xs=W.SCALE_MODES||(W.SCALE_MODES={}))[Xs.NEAREST=0]="NEAREST",Xs[Xs.LINEAR=1]="LINEAR",(Ws=W.WRAP_MODES||(W.WRAP_MODES={}))[Ws.CLAMP=33071]="CLAMP",Ws[Ws.REPEAT=10497]="REPEAT",Ws[Ws.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(uo=W.MIPMAP_MODES||(W.MIPMAP_MODES={}))[uo.OFF=0]="OFF",uo[uo.POW2=1]="POW2",uo[uo.ON=2]="ON",(lo=W.ALPHA_MODES||(W.ALPHA_MODES={}))[lo.NPM=0]="NPM",lo[lo.UNPACK=1]="UNPACK",lo[lo.PMA=2]="PMA",lo[lo.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",lo[lo.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",lo[lo.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(co=W.CLEAR_MODES||(W.CLEAR_MODES={}))[co.NO=0]="NO",co[co.YES=1]="YES",co[co.AUTO=2]="AUTO",co[co.BLEND=0]="BLEND",co[co.CLEAR=1]="CLEAR",co[co.BLIT=2]="BLIT",(xo=W.GC_MODES||(W.GC_MODES={}))[xo.AUTO=0]="AUTO",xo[xo.MANUAL=1]="MANUAL",(Po=W.PRECISION||(W.PRECISION={})).LOW="lowp",Po.MEDIUM="mediump",Po.HIGH="highp",(Oa=W.MASK_TYPES||(W.MASK_TYPES={}))[Oa.NONE=0]="NONE",Oa[Oa.SCISSOR=1]="SCISSOR",Oa[Oa.STENCIL=2]="STENCIL",Oa[Oa.SPRITE=3]="SPRITE",(Uo=W.MSAA_QUALITY||(W.MSAA_QUALITY={}))[Uo.NONE=0]="NONE",Uo[Uo.LOW=2]="LOW",Uo[Uo.MEDIUM=4]="MEDIUM",Uo[Uo.HIGH=8]="HIGH",O.RETINA_PREFIX=/@([0-9\.]+)x/;var Et,St=!(O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0);function It(t){var e;St||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(e=window.console).log.apply(e,["\n %c %c %c PixiJS 5.3.10 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS 5.3.10 - "+t+" - http://www.pixijs.com/"),St=!0)}function At(){return Et=void 0===Et?function(){var t={stencil:!0,failIfMajorPerformanceCaveat:O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e,i=document.createElement("canvas"),r=i.getContext("webgl",t)||i.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);return!r||(e=r.getExtension("WEBGL_lose_context"))&&e.loseContext(),r=null,n}catch(t){return!1}}():Et}function Ct(t,e){return(e=void 0===e?[]:e)[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ot(t){t=t.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function Lt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var Mt=function(){for(var t=[],e=[],i=0;i<32;i++)e[t[i]=i]=i;t[W.BLEND_MODES.NORMAL_NPM]=W.BLEND_MODES.NORMAL,t[W.BLEND_MODES.ADD_NPM]=W.BLEND_MODES.ADD,t[W.BLEND_MODES.SCREEN_NPM]=W.BLEND_MODES.SCREEN,e[W.BLEND_MODES.NORMAL]=W.BLEND_MODES.NORMAL_NPM,e[W.BLEND_MODES.ADD]=W.BLEND_MODES.ADD_NPM,e[W.BLEND_MODES.SCREEN]=W.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function Dt(t,e){return Mt[e?1:0][t]}function Rt(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function Nt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=255&t;return(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+(i*e+.5|0)}function Bt(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,!r&&void 0!==r||(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function kt(t,e){var i=6*t;if((e=(e=void 0===e?null:e)||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function Ft(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Gt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Ut(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,1+((t|=t>>>8)|t>>>16)}function Xt(t){return!(t&t-1||!t)}function jt(t){var e=(65535<t?1:0)<<4,i=(255<(t>>>=e)?1:0)<<3;return e|=i,e|=i=(15<(t>>>=i)?1:0)<<2,(e|=i=(3<(t>>>=i)?1:0)<<1)|t>>>i>>1}function Wt(t,e,i){var r=t.length;if(!(r<=e||0===i)){for(var n=r-(i=r<e+i?r-e:i),s=e;s<n;++s)t[s]=t[s+i];t.length=n}}function zt(t){return 0===t?0:t<0?-1:1}var Ht=0;function qt(){return++Ht}var Yt={};function Vt(t,e,i){var r;void 0===i&&(i=3),Yt[e]||(void 0===(r=(new Error).stack)?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),Yt[e]=!0)}var $t={},Zt=Object.create(null),Kt=Object.create(null),Qt=(Jt.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},Jt.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},Jt.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(Jt.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Jt.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),Jt);function Jt(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||O.RESOLUTION,this.resize(t,e)}function te(t){for(var e,i,r=t.width,n=t.height,s=t.getContext("2d"),o=s.getImageData(0,0,r,n).data,a=o.length,h={top:null,left:null,right:null,bottom:null},t=null,u=0;u<a;u+=4)0!==o[u+3]&&(e=u/4%r,i=~~(u/4/r),null===h.top&&(h.top=i),(null===h.left||e<h.left)&&(h.left=e),(null===h.right||h.right<e)&&(h.right=1+e),(null===h.bottom||h.bottom<i)&&(h.bottom=i));return null!==h.top&&(r=h.right-h.left,n=h.bottom-h.top+1,t=s.getImageData(h.left,h.top,r,n)),{height:n,width:r,data:t}}var ee,ie=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function re(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,(ee=ee||document.createElement("a")).href=t;var i=ht(ee.href),t=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&t&&i.protocol===e.protocol?"":"anonymous"}function ne(t,e){t=O.RETINA_PREFIX.exec(t);return t?parseFloat(t[1]):void 0!==e?e:1}var se={BaseTextureCache:Kt,CanvasRenderTarget:Qt,DATA_URI:ie,ProgramCache:$t,TextureCache:Zt,clearTextureCache:function(){for(var t in Zt)delete Zt[t];for(t in Kt)delete Kt[t]},correctBlendMode:Dt,createIndicesForQuads:kt,decomposeDataUri:function(t){t=ie.exec(t);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},deprecation:Vt,destroyTextureCache:function(){for(var t in Zt)Zt[t].destroy();for(t in Kt)Kt[t].destroy()},determineCrossOrigin:re,getBufferType:Ft,getResolutionOfUrl:ne,hex2rgb:Ct,hex2string:Ot,interleaveTypedArrays:function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,s=0;s<t.length;s++){var u=e[s],l=t[s],c=Ft(l);n[c]||(n[c]=new Gt[c](o));for(var a=n[c],p=0;p<l.length;p++)a[(p/u|0)*r+h+p%u]=l[p];h+=u}return new Float32Array(o)},isPow2:Xt,isWebGLSupported:At,log2:jt,nextPow2:Ut,premultiplyBlendMode:Mt,premultiplyRgba:Rt,premultiplyTint:Nt,premultiplyTintToRgba:Bt,removeItems:Wt,rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},sayHello:It,sign:zt,skipHello:function(){St=!0},string2hex:Lt,trimCanvas:te,uid:qt,isMobile:A,EventEmitter:L,earcut:M,url:wt},oe=2*Math.PI,ae=180/Math.PI,he=Math.PI/180;(Hh=W.SHAPES||(W.SHAPES={}))[Hh.POLY=0]="POLY",Hh[Hh.RECT=1]="RECT",Hh[Hh.CIRC=2]="CIRC",Hh[Hh.ELIP=3]="ELIP",Hh[Hh.RREC=4]="RREC";var ue=(Object.defineProperty(Le.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Le.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(Le,"EMPTY",{get:function(){return new Le(0,0,0,0)},enumerable:!1,configurable:!0}),Le.prototype.clone=function(){return new Le(this.x,this.y,this.width,this.height)},Le.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Le.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Le.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},Le.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},Le.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(t-r,0),this},Le.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},Le.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=t-r,this},Le),le=(Oe.prototype.clone=function(){return new Oe(this.x,this.y,this.radius)},Oe.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=i},Oe.prototype.getBounds=function(){return new ue(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},Oe),ce=(Ce.prototype.clone=function(){return new Ce(this.x,this.y,this.width,this.height)},Ce.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+e*e<=1},Ce.prototype.getBounds=function(){return new ue(this.x-this.width,this.y-this.height,this.width,this.height)},Ce),pe=(Ae.prototype.clone=function(){var t=new Ae(this.points.slice());return t.closeStroke=this.closeStroke,t},Ae.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var o=this.points[2*n],a=this.points[2*n+1],h=this.points[2*s],u=this.points[2*s+1];e<a!=e<u&&t<(e-a)/(u-a)*(h-o)+o&&(i=!i)}return i},Ae),de=(Ie.prototype.clone=function(){return new Ie(this.x,this.y,this.width,this.height,this.radius)},Ie.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},Ie),fe=(Se.prototype.clone=function(){return new Se(this.x,this.y)},Se.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},Se.prototype.copyTo=function(t){return t.set(this.x,this.y),t},Se.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},Se.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},Se),_e=(Ee.prototype.clone=function(t,e){return new Ee(t=void 0===t?this.cb:t,e=void 0===e?this.scope:e,this._x,this._y)},Ee.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},Ee.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},Ee.prototype.copyTo=function(t){return t.set(this._x,this._y),t},Ee.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(Ee.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Ee),me=(we.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},we.prototype.set=function(t,e,i,r,n,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s,this},we.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},we.prototype.apply=function(t,e){e=e||new fe;var i=t.x,t=t.y;return e.x=this.a*i+this.c*t+this.tx,e.y=this.b*i+this.d*t+this.ty,e},we.prototype.applyInverse=function(t,e){e=e||new fe;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,t=t.y;return e.x=this.d*i*r+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},we.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},we.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},we.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,t=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=t*e-this.ty*i,this.ty=t*i+this.ty*e,this},we.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},we.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},we.prototype.prepend=function(t){var e,i,r=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,i=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d),this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},we.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,s=-Math.atan2(-r,n),o=Math.atan2(i,e),a=Math.abs(s+o);return a<1e-5||Math.abs(oe-a)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=o),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},we.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this},we.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},we.prototype.clone=function(){var t=new we;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},we.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},we.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(we,"IDENTITY",{get:function(){return new we},enumerable:!1,configurable:!0}),Object.defineProperty(we,"TEMP_MATRIX",{get:function(){return new we},enumerable:!1,configurable:!0}),we),ge=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ye=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ve=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],xe=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],be=[],Te=[],Pe=Math.sign;function we(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s}function Ee(t,e,i,r){void 0===r&&(r=0),this._x=i=void 0===i?0:i,this._y=r,this.cb=t,this.scope=e}function Se(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}function Ie(t,e,i,r,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=W.SHAPES.RREC}function Ae(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var n=[],s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=W.SHAPES.POLY,this.closeStroke=!0}function Ce(t,e,i,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=r,this.type=W.SHAPES.ELIP}function Oe(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.x=t=void 0===t?0:t,this.y=e,this.radius=i,this.type=W.SHAPES.CIRC}function Le(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=W.SHAPES.RECT}!function(){for(var t=0;t<16;t++){var e=[];be.push(e);for(var i=0;i<16;i++)for(var r=Pe(ge[t]*ge[i]+ve[t]*ye[i]),n=Pe(ye[t]*ge[i]+xe[t]*ye[i]),s=Pe(ge[t]*ve[i]+ve[t]*xe[i]),o=Pe(ye[t]*ve[i]+xe[t]*xe[i]),a=0;a<16;a++)if(ge[a]===r&&ye[a]===n&&ve[a]===s&&xe[a]===o){e.push(a);break}}for(t=0;t<16;t++){var h=new me;h.set(ge[t],ye[t],ve[t],xe[t],0,0),Te.push(h)}}();var Me={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ge[t]},uY:function(t){return ye[t]},vX:function(t){return ve[t]},vY:function(t){return xe[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return be[t][e]},sub:function(t,e){return be[t][Me.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?Me.S:Me.N:2*Math.abs(e)<=Math.abs(t)?0<t?Me.E:Me.W:0<e?0<t?Me.SE:Me.SW:0<t?Me.NE:Me.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);e=Te[Me.inv(e)];e.tx=i,e.ty=r,t.append(e)}},De=(Re.prototype.onChange=function(){this._localID++},Re.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},Re.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Re.prototype.updateTransform=function(t){var e,i,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(i=this.worldTransform).a=r.a*e.a+r.b*e.c,i.b=r.a*e.b+r.b*e.d,i.c=r.c*e.a+r.d*e.c,i.d=r.c*e.b+r.d*e.d,i.tx=r.tx*e.a+r.ty*e.c+e.tx,i.ty=r.tx*e.b+r.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},Re.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(Re.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),Re.IDENTITY=new Re,Re);function Re(){this.worldTransform=new me,this.localTransform=new me,this.position=new _e(this.onChange,this,0,0),this.scale=new _e(this.onChange,this,1,1),this.pivot=new _e(this.onChange,this,0,0),this.skew=new _e(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}O.SORTABLE_CHILDREN=!1;var Ne=(ke.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},ke.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},ke.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?ue.EMPTY:((t=t||new ue(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},ke.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},ke.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=t[0],o=t[1],e=s<e?s:e,i=o<i?o:i,r=r<s?s:r,n=n<o?o:n;e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,r=r<s?s:r,n=n<o?o:n,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,r=r<s?s:r,n=n<o?o:n,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,r=r<s?s:r,n=n<o?o:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},ke.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},ke.prototype.addFrameMatrix=function(t,e,i,r,n){var s=t.a,o=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=s*e+a*i+u,p=o*e+h*i+l,d=c<(d=this.minX)?c:d,f=p<(f=this.minY)?p:f,_=(_=this.maxX)<c?c:_,t=(t=this.maxY)<p?p:t;d=(c=s*r+a*i+u)<d?c:d,f=(p=o*r+h*i+l)<f?p:f,_=_<c?c:_,t=t<p?p:t,d=(c=s*e+a*n+u)<d?c:d,f=(p=o*e+h*n+l)<f?p:f,_=_<c?c:_,t=t<p?p:t,d=(c=s*r+a*n+u)<d?c:d,f=(p=o*r+h*n+l)<f?p:f,_=_<c?c:_,t=t<p?p:t,this.minX=d,this.minY=f,this.maxX=_,this.maxY=t},ke.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2)var h=t[a],u=t[a+1],r=h<r?h:r,n=u<n?u:n,s=s<h?h:s,o=o<u?u:o;this.minX=r,this.minY=n,this.maxX=s,this.maxY=o},ke.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},ke.prototype.addVerticesMatrix=function(t,e,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var o=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,p=this.minX,d=this.minY,f=this.maxX,_=this.maxY,m=i;m<r;m+=2)var g=e[m],y=e[m+1],v=o*g+h*y+l,g=u*y+a*g+c,p=Math.min(p,v-n),f=Math.max(f,v+n),d=Math.min(d,g-s),_=Math.max(_,g+s);this.minX=p,this.minY=d,this.maxX=f,this.maxY=_},ke.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},ke.prototype.addBoundsMask=function(t,e){var i,r,n=(t.minX>e.minX?t:e).minX,s=(t.minY>e.minY?t:e).minY,o=(t.maxX<e.maxX?t:e).maxX,a=(t.maxY<e.maxY?t:e).maxY;n<=o&&s<=a&&(i=this.minX,r=this.minY,t=this.maxX,e=this.maxY,this.minX=n<i?n:i,this.minY=s<r?s:r,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},ke.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},ke.prototype.addBoundsArea=function(t,e){var i,r,n=t.minX>e.x?t.minX:e.x,s=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;n<=o&&s<=a&&(i=this.minX,r=this.minY,t=this.maxX,e=this.maxY,this.minX=n<i?n:i,this.minY=s<r?s:r,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},ke.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},ke.prototype.addFramePad=function(t,e,i,r,n,s){e-=s,i+=n,r+=s,this.minX=this.minX<(t-=n)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},ke),Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function ke(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}function Fe(t,e){function i(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ge,Ue,Xe=(Fe(ze,Ue=L),ze.mixin=function(t){for(var e=Object.keys(t),i=0;i<e.length;++i){var r=e[i];Object.defineProperty(ze.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},ze.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},ze.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},ze.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new ue),e=this._boundsRect),this._bounds.getRectangle(e)},ze.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new ue),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Ne);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,n=this._boundsID;this._bounds=this._localBounds;t=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-n,t},ze.prototype.toGlobal=function(t,e,i){return(i=void 0===i?!1:i)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},ze.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},ze.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},ze.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t=void 0===t?0:t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},ze.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(ze.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new je),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),ze.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},ze.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(ze.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"angle",{get:function(){return this.transform.rotation*ae},set:function(t){this.transform.rotation=t*he},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),ze),je=(Fe(We,Ge=Xe),We);function We(){var t=null!==Ge&&Ge.apply(this,arguments)||this;return t.sortDirty=null,t}function ze(){var t=Ue.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new De,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Ne,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}function He(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Xe.prototype.displayObjectUpdateTransform=Xe.prototype.updateTransform;var qe,Ye=(Fe(Ve,qe=Xe),Ve.prototype.onChildrenChange=function(t){},Ve.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),(n.parent=this).sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},Ve.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},Ve.prototype.swapChildren=function(t,e){var i,r;t!==e&&(i=this.getChildIndex(t),r=this.getChildIndex(e),this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r))},Ve.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},Ve.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);Wt(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},Ve.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},Ve.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,Wt(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return e[0]},Ve.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Wt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},Ve.prototype.removeChildren=function(t,e){var i=t=void 0===t?0:t,r=(e=void 0===e?this.children.length:e)-i;if(0<r&&r<=e){for(var n=this.children.splice(i,r),s=0;s<n.length;++s)n[s].parent=null,n[s].transform&&(n[s].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),s=0;s<n.length;++s)n[s].emit("removed",this),this.emit("childRemoved",n[s],this,s);return n}if(0==r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},Ve.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(He),this.sortDirty=!1},Ve.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},Ve.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,i=this.children[t];i.visible&&i.renderable&&(i.calculateBounds(),i._mask?((e=i._mask.maskObject||i._mask).calculateBounds(),this._bounds.addBoundsMask(i._bounds,e._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._bounds.updateID=this._boundsID},Ve.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=qe.prototype.getLocalBounds.call(this,t);if(!e)for(var i=0,r=this.children.length;i<r;++i){var n=this.children[i];n.visible&&n.updateTransform()}return t},Ve.prototype._calculateBounds=function(){},Ve.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},Ve.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var r=0,n=this.children.length;r<n;r++)this.children[r].render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},Ve.prototype._render=function(t){},Ve.prototype.destroy=function(t){qe.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(e)for(var r=0;r<i.length;++r)i[r].destroy(t)},Object.defineProperty(Ve.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ve.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),Ve);function Ve(){var t=qe.call(this)||this;return t.children=[],t.sortableChildren=O.SORTABLE_CHILDREN,t.sortDirty=!1,t}Ye.prototype.containerUpdateTransform=Ye.prototype.updateTransform;var $e={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Xe.mixin($e);var Ze=(Object.defineProperty(Ke.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(Ke.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),Ke.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},Ke.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},Ke.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},Ke.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},Ke.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},Ke.prototype.update=function(){var t=performance.now();if(!(A.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=this.renderer.resolution,i=e.width/this.renderer.width*t,r=e.height/this.renderer.height*t;(s=this.div).style.left=e.left+"px",s.style.top=e.top+"px",s.style.width=this.renderer.width+"px",s.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var s,o,a,h=this.children[n];h.renderId!==this.renderId?(h._accessibleActive=!1,Wt(this.children,n,1),this.div.removeChild(h._accessibleDiv),this.pool.push(h._accessibleDiv),h._accessibleDiv=null,n--):(s=h._accessibleDiv,o=h.hitArea,a=h.worldTransform,h.hitArea?(s.style.left=(a.tx+o.x*a.a)*i+"px",s.style.top=(a.ty+o.y*a.d)*r+"px",s.style.width=o.width*a.a*i+"px",s.style.height=o.height*a.d*r+"px"):(o=h.getBounds(),this.capHitArea(o),s.style.left=o.x*i+"px",s.style.top=o.y*r+"px",s.style.width=o.width*i+"px",s.style.height=o.height*r+"px",s.title!==h.accessibleTitle&&null!==h.accessibleTitle&&(s.title=h.accessibleTitle),s.getAttribute("aria-label")!==h.accessibleHint&&null!==h.accessibleHint&&s.setAttribute("aria-label",h.accessibleHint)),h.accessibleTitle===s.title&&h.tabIndex===s.tabIndex||(s.title=h.accessibleTitle,s.tabIndex=h.tabIndex,this.debug&&this.updateDebugHTML(s)))}this.renderId++}},Ke.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},Ke.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},Ke.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},Ke.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},Ke.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},Ke.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},Ke.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},Ke.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},Ke.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},Ke);function Ke(t){this._hookDiv=null,(A.tablet||A.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}O.TARGET_FPMS=.06,(i=W.UPDATE_PRIORITY||(W.UPDATE_PRIORITY={}))[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY";var Qe=(si.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},si.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},si.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},si.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},si),Je=(ni.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},ni.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},ni.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},ni.prototype.add=function(t,e,i){return void 0===i&&(i=W.UPDATE_PRIORITY.NORMAL),this._addListener(new Qe(t,e,i))},ni.prototype.addOnce=function(t,e,i){return void 0===i&&(i=W.UPDATE_PRIORITY.NORMAL),this._addListener(new Qe(t,e,i,!0))},ni.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}e=(i=e).next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},ni.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(ni.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),ni.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},ni.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},ni.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},ni.prototype.update=function(t){if((t=void 0===t?performance.now():t)>this.lastTime){if((i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*O.TARGET_FPMS;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(ni.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(ni.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,O.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(ni.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(ni,"shared",{get:function(){var t;return ni._shared||((t=ni._shared=new ni).autoStart=!0,t._protected=!0),ni._shared},enumerable:!1,configurable:!0}),Object.defineProperty(ni,"system",{get:function(){var t;return ni._system||((t=ni._system=new ni).autoStart=!0,t._protected=!0),ni._system},enumerable:!1,configurable:!0}),ni),r=(ri.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,W.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Je.shared:new Je,t.autoStart&&this.start()},ri.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},ri),ti=(Object.defineProperty(ii.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),ii.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},ii.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},ii.prototype.reset=function(){this.isPrimary=!1},ii),ei=function(t,e){return(ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function ii(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new fe,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}function ri(){}function ni(){var e=this;this._head=new Qe(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/O.TARGET_FPMS,this.elapsedMS=1/O.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}function si(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}var oi=(pi.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},pi.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},pi),ai=(ci.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(ci.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"none",{get:function(){return this._flags===ci.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"over",{get:function(){return 0!=(this._flags&ci.FLAGS.OVER)},set:function(t){this._doSet(ci.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"rightDown",{get:function(){return 0!=(this._flags&ci.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(ci.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"leftDown",{get:function(){return 0!=(this._flags&ci.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(ci.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),ci.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),ci),hi=(li.prototype.recursiveFindHit=function(t,e,i,r,n){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:h=r=!1),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;0<=l;l--){var c=u[l],p=this.recursiveFindHit(t,c,i,r,a);p&&c.parent&&(a=!1,p&&(t.target&&(r=!1),o=!0))}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},li.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},li),ui={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};function li(){this._tempPoint=new fe}function ci(t){this._pointerId=t,this._flags=ci.FLAGS.NONE}function pi(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}Xe.mixin(ui);var di,fi,_i={target:null,data:{global:null}},mi=(ei(fi=vi,n=di=L),fi.prototype=null===n?Object.create(n):(xi.prototype=n.prototype,new xi),Object.defineProperty(vi.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(vi.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),vi.prototype.hitTest=function(t,e){return _i.target=null,_i.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(_i,e,null,!0),_i.target},vi.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},vi.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Je.system.add(this.tickerUpdate,this,W.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},vi.prototype.removeTickerListener=function(){this.tickerAdded&&(Je.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},vi.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},vi.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},vi.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},vi.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},vi.prototype.setCursorMode=function(t){if(this.currentCursorMode!==(t=t||"default")){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},vi.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},vi.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},vi.prototype.mapPositionToPoint=function(t,e,i){var r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},vi.prototype.processInteractive=function(t,e,i,r){var r=this.search.findHit(t,e,i,r),n=this.delayedEvents;if(!n.length)return r;t.stopPropagationHint=!1;var s=n.length;this.delayedEvents=[];for(var o=0;o<s;o++){var a=n[o],h=a.displayObject,u=a.eventString,a=a.eventData;a.stopsPropagatingAt===h&&(a.stopPropagationHint=!0),this.dispatchEvent(h,u,a)}return r},vi.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(!t.cancelable&&"cancelable"in t||t.preventDefault());for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType?this.emit("touchstart",s):"mouse"!==n.pointerType&&"pen"!==n.pointerType||(n=2===n.button,this.emit(n?"rightdown":"mousedown",this.eventData))}}},vi.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;i&&(e.trackedPointers[n]||(e.trackedPointers[n]=new ai(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==r.pointerType&&"pen"!==r.pointerType||((r=2===r.button)?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)))},vi.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var a=r[o],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,u),"mouse"===a.pointerType||"pen"===a.pointerType?(h=2===a.button,this.emit(h?"rightup"+s:"mouseup"+s,u)):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,u),this.releaseInteractionDataForPointerId(a.pointerId))}},vi.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},vi.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},vi.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},vi.prototype.processPointerUp=function(t,e,i){var r,n=t.data,s=t.data.identifier,o=e.trackedPointers[s],a="touch"===n.pointerType,h="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;h&&(r=2===n.button,n=ai.FLAGS,n=r?n.RIGHT_DOWN:n.LEFT_DOWN,n=void 0!==o&&o.flags&n,i?(this.dispatchEvent(e,r?"rightup":"mouseup",t),n&&(this.dispatchEvent(e,r?"rightclick":"click",t),u=!0)):n&&this.dispatchEvent(e,r?"rightupoutside":"mouseupoutside",t),o&&(r?o.rightDown=!1:o.leftDown=!1)),i?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(h&&!u||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[s]},vi.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},vi.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,r="mouse"===r.pointerType||"pen"===r.pointerType;r&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),r&&this.dispatchEvent(e,"mousemove",t))},vi.prototype.onPointerOut=function(t){var e,i;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),i=this.getInteractionDataForPointerId(e),(t=this.configureInteractionEventForDOMEvent(this.eventData,e,i)).data.originalEvent=e,this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",t),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",t):this.releaseInteractionDataForPointerId(i.identifier))},vi.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,s="mouse"===r.pointerType||"pen"===r.pointerType,r=e.trackedPointers[n];void 0!==(r=i&&!r?e.trackedPointers[n]=new ai(n):r)&&(i&&this.mouseOverRenderer?(r.over||(r.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):r.over&&(r.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),r.none&&delete e.trackedPointers[n]))},vi.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],t=this.getInteractionDataForPointerId(e),t=this.configureInteractionEventForDOMEvent(this.eventData,e,t);"mouse"===(t.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",t),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",t)},vi.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new ti).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},vi.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},vi.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},vi.prototype.normalizeToPointerData=function(t){var e,i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var s=t.changedTouches[r];void 0===s.button&&(s.button=t.touches.length?1:0),void 0===s.buttons&&(s.buttons=t.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?i.push(t):(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,i.push(e));return i},vi.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},vi),gi=(yi.prototype.emit=function(t,e,i,r,n,s,o,a){if(8<arguments.length)throw new Error("max arguments reached");var h=this.name,u=this.items;this._aliasCount++;for(var l=0,c=u.length;l<c;l++)u[l][h](t,e,i,r,n,s,o,a);return u===this.items&&this._aliasCount--,this},yi.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},yi.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},yi.prototype.remove=function(t){t=this.items.indexOf(t);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},yi.prototype.contains=function(t){return-1!==this.items.indexOf(t)},yi.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},yi.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(yi.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(yi.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),yi);function yi(t){this.items=[],this._name=t,this._aliasCount=0}function vi(t,e){var i=di.call(this)||this;return e=e||{},i.renderer=t,i.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,i.interactionFrequency=e.interactionFrequency||10,i.mouse=new ti,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new oi,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new hi,i._tempDisplayObject=new je,i._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}function xi(){this.constructor=fi}Object.defineProperties(gi.prototype,{dispatch:{value:gi.prototype.emit},run:{value:gi.prototype.emit}}),O.PREFER_ENV=A.any?W.ENV.WEBGL:W.ENV.WEBGL2,O.STRICT_TEXTURE_CACHE=!1;var bi=[];function Ti(t,e){if(!t)return null;var i,r="";"string"!=typeof t||(i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(r=i[1].toLowerCase());for(var n=bi.length-1;0<=n;--n){var s=bi[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function wi(t,e){function i(){this.constructor=t}Pi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ei,Si,Ii,Ai,Ci,Oi,Li,Mi,Di,Ri,Ni,Bi=(rr.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},rr.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},rr.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(rr.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),rr.prototype.update=function(){this.destroyed||this.onUpdate.emit()},rr.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(rr.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(rr.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),rr.prototype.style=function(t,e,i){return!1},rr.prototype.dispose=function(){},rr.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},rr.test=function(t,e){return!1},rr),ki=(wi(ir,Ni=Bi),ir.prototype.upload=function(t,e,i){t=t.gl;return t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===W.ALPHA_MODES.UNPACK),i.width===e.width&&i.height===e.height?t.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,t.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},ir.prototype.dispose=function(){this.data=null},ir.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},ir),Fi={scaleMode:W.SCALE_MODES.NEAREST,format:W.FORMATS.RGBA,alphaMode:W.ALPHA_MODES.NPM},Gi=(wi(er,Ri=L),Object.defineProperty(er.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),er.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},er.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},er.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},er.prototype._refreshPOT=function(){this.isPowerOfTwo=Xt(this.realWidth)&&Xt(this.realHeight)},er.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},er.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},er.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},er.prototype.onError=function(t){this.emit("error",this,t)},er.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Kt[this.cacheId],delete Zt[this.cacheId],this.cacheId=null),this.dispose(),er.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},er.prototype.dispose=function(){this.emit("dispose",this)},er.prototype.castToBaseTexture=function(){return this},er.from=function(t,e,i){void 0===i&&(i=O.STRICT_TEXTURE_CACHE);var r="string"==typeof t,n=null,n=r?t:(t._pixiId||(t._pixiId="pixiid_"+ ++Ht),t._pixiId),s=Kt[n];if(r&&i&&!s)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return s||((s=new er(t,e)).cacheId=n,er.addToCache(s,n)),s},er.fromBuffer=function(t,e,i,r){t=t||new Float32Array(e*i*4);var n=new ki(t,{width:e,height:i}),t=t instanceof Float32Array?W.TYPES.FLOAT:W.TYPES.UNSIGNED_BYTE;return new er(n,Object.assign(Fi,r||{width:e,height:i,type:t}))},er.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Kt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Kt[e]=t)},er.removeFromCache=function(t){if("string"==typeof t){var e=Kt[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete Kt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete Kt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},er._globalBatch=0,er),D=(wi(tr,Di=Bi),tr.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof Bi?this.addResourceAt(t[i],i):this.addResourceAt(Ti(t[i],e),i))},tr.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},tr.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},tr.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");Di.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},tr.prototype.unbind=function(t){Di.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},tr.prototype.load=function(){var i=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=i.items[0],e=t.realWidth,t=t.realHeight;return i.resize(e,t),Promise.resolve(i)}),this._load},tr),ft=(wi(Ji,Mi=D),Ji.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},Ji.prototype.bind=function(t){Mi.prototype.bind.call(this,t),t.target=W.TARGETS.TEXTURE_2D_ARRAY},Ji.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=s[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},Ji),Ui=(wi(Qi,Li=Bi),Qi.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=re(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},Qi.prototype.upload=function(t,e,i,r){var n=t.gl,s=e.realWidth,t=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===W.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||i.width!==s||i.height!==t?(i.width=s,i.height=t,n.texImage2D(e.target,0,e.format,e.format,e.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},Qi.prototype.update=function(){var t,e;this.destroyed||(t=(e=this.source).naturalWidth||e.videoWidth||e.width,e=e.naturalHeight||e.videoHeight||e.height,this.resize(t,e),Li.prototype.update.call(this))},Qi.prototype.dispose=function(){this.source=null},Qi),Xi=(wi(Ki,Oi=Ui),Ki.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},Ki),ut=(wi(Zi,Ci=D),Zi.prototype.bind=function(t){Ci.prototype.bind.call(this,t),t.target=W.TARGETS.TEXTURE_CUBE_MAP},Zi.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=W.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},Zi.prototype.upload=function(t,e,i){for(var r=this.itemDirtyIds,n=0;n<Zi.SIDES;n++){var s=this.items[n];r[n]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),r[n]=s.dirtyId):r[n]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),r[n]=-1))}return!0},Zi.test=function(t){return Array.isArray(t)&&t.length===Zi.SIDES},Zi.SIDES=6,Zi),ji=(wi($i,Ai=Ui),$i.prototype.load=function(t){var n=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var i=n.source;n.url=i.src;function r(){n.destroyed||(i.onload=null,i.onerror=null,n.resize(i.width,i.height),n._load=null,n.createBitmap?t(n.process()):t(n))}i.complete&&i.src?r():(i.onload=r,i.onerror=function(t){e(t),n.onError.emit(t)})}),this._load)},$i.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===W.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},$i.prototype.upload=function(t,e,i){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return Ai.prototype.upload.call(this,t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(Ai.prototype.upload.call(this,t,e,i,this.bitmap),!this.preserveBitmap){var r,n=!0,s=e._glTextures;for(r in s){var o=s[r];if(o!==i&&o.dirtyId!==e.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},$i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,Ai.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},$i.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},$i),Wi=(wi(Vi,Ii=Ui),Vi.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},Vi.prototype._loadSvg=function(){var s=this,o=new Image;Ui.crossOrigin(o,this.svg,this._crossorigin),o.src=this.svg,o.onerror=function(t){s._resolve&&(o.onerror=null,s.onError.emit(t))},o.onload=function(){if(s._resolve){var t=o.width,e=o.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=t*s.scale,r=e*s.scale;(s._overrideWidth||s._overrideHeight)&&(i=s._overrideWidth||s._overrideHeight/e*t,r=s._overrideHeight||s._overrideWidth/t*e);var i=Math.round(i),r=Math.round(r),n=s.source;n.width=i,n.height=r,n._pixiId="canvas_"+ ++Ht,n.getContext("2d").drawImage(o,0,0,t,e,0,0,i,r),s._resolve(),s._resolve=null}}},Vi.getSize=function(t){var e=Vi.SVG_SIZE.exec(t),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t},Vi.prototype.dispose=function(){Ii.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},Vi.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},Vi.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,Vi),zi=(wi(Yi,Si=Ui),Yi.prototype.update=function(t){void 0===t&&(t=0),this.destroyed||(t=Je.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(Si.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},Yi.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,i.load())}),this._load},Yi.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},Yi.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},Yi.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},Yi.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0)},Yi.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1)},Yi.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},Yi.prototype.dispose=function(){this._isConnectedToTicker&&Je.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),Si.prototype.dispose.call(this)},Object.defineProperty(Yi.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(Yi.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),Yi.test=function(t,e){return t instanceof HTMLVideoElement||-1<Yi.TYPES.indexOf(e)},Yi.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Yi.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},Yi),Hi=(wi(qi,Ei=Ui),qi.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},qi);function qi(){return null!==Ei&&Ei.apply(this,arguments)||this}function Yi(t,e){var i=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var n=(t="string"==typeof t?[t]:t)[0].src||t[0];Ui.crossOrigin(r,n,e.crossorigin);for(var s=0;s<t.length;++s){var o=document.createElement("source"),a=t[s],h=a.src,u=a.mime,a=(h=h||t[s]).split("?").shift().toLowerCase(),a=a.substr(a.lastIndexOf(".")+1),u=u||Yi.MIME_TYPES[a]||"video/"+a;o.src=h,o.type=u,r.appendChild(o)}t=r}return(i=Si.call(this,t)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=e.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==e.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==e.autoLoad&&i.load(),i}function Vi(t,e){var i=this;return e=e||{},(i=Ii.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=e.scale||1,i._overrideWidth=e.width,i._overrideHeight=e.height,i._resolve=null,i._crossorigin=e.crossorigin,i._load=null,!1!==e.autoLoad&&i.load(),i}function $i(t,e){var i,r=this;return e=e||{},t instanceof HTMLImageElement||(i=new Image,Ui.crossOrigin(i,t,e.crossorigin),i.src=t,t=i),r=Ai.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==e.createBitmap?e.createBitmap:O.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,void 0!==e.premultiplyAlpha&&(r.premultiplyAlpha=e.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==e.autoLoad&&r.load(),r}function Zi(t,e){var i=this,r=e||{},n=r.width,s=r.height,o=r.autoLoad,r=r.linkBaseTexture;if(t&&t.length!==Zi.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");for(var i=Ci.call(this,6,{width:n,height:s})||this,a=0;a<Zi.SIDES;a++)i.items[a].target=W.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+a;return i.linkBaseTexture=!1!==r,t&&i.initFromArray(t,e),!1!==o&&i.load(),i}function Ki(){return null!==Oi&&Oi.apply(this,arguments)||this}function Qi(t){var e=this,i=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;return(e=Li.call(this,i,r)||this).source=t,e.noSubImage=!1,e}function Ji(t,e){var i,r=this,n=e||{},s=n.width,n=n.height,t=Array.isArray(t)?(i=t).length:t,r=Mi.call(this,t,{width:s,height:n})||this;return i&&r.initFromArray(i,e),r}function tr(t,e){var i=this,r=e||{},e=r.width,r=r.height;(i=Di.call(this,e,r)||this).items=[],i.itemDirtyIds=[];for(var n=0;n<t;n++){var s=new Gi;i.items.push(s),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}function er(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=Ri.call(this)||this,r=(e=e||{}).alphaMode,n=e.mipmap,s=e.anisotropicLevel,o=e.scaleMode,a=e.width,h=e.height,u=e.wrapMode,l=e.format,c=e.type,p=e.target,d=e.resolution,f=e.resourceOptions;return!t||t instanceof Bi||((t=Ti(t,f)).internal=!0),i.width=a||0,i.height=h||0,i.resolution=d||O.RESOLUTION,i.mipmap=void 0!==n?n:O.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:O.ANISOTROPIC_LEVEL,i.wrapMode=u||O.WRAP_MODE,i.scaleMode=void 0!==o?o:O.SCALE_MODE,i.format=l||W.FORMATS.RGBA,i.type=c||W.TYPES.UNSIGNED_BYTE,i.target=p||W.TARGETS.TEXTURE_2D,i.alphaMode=void 0!==r?r:W.ALPHA_MODES.UNPACK,void 0!==e.premultiplyAlpha&&(i.premultiplyAlpha=e.premultiplyAlpha),i.uid=++Ht,i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=0<a&&0<h,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}function ir(t,e){var i=this,r=e||{},e=r.width,r=r.height;if(!e||!r)throw new Error("BufferResource width or height invalid");return(i=Ni.call(this,e,r)||this).data=t,i}function rr(t,e){void 0===e&&(e=0),this._width=t=void 0===t?0:t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new gi("setRealSize"),this.onUpdate=new gi("update"),this.onError=new gi("onError")}bi.push(ji,Hi,Xi,zi,Wi,ki,ut,ft);var nr,sr,or,ar={Resource:Bi,BaseImageResource:Ui,INSTALLED:bi,autoDetectResource:Ti,AbstractMultiResource:D,ArrayResource:ft,BufferResource:ki,CanvasResource:Xi,CubeResource:ut,ImageResource:ji,SVGResource:Wi,VideoResource:zi,ImageBitmapResource:Hi},hr=(xr.prototype.destroy=function(){this.renderer=null},xr),ur=(wi(vr,or=ki),vr.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===W.ALPHA_MODES.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},vr),lr=(Object.defineProperty(yr.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),yr.prototype.addColorTexture=function(t,e){return this.colorTextures[t=void 0===t?0:t]=e||new Gi(null,{scaleMode:W.SCALE_MODES.NEAREST,resolution:1,mipmap:W.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},yr.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Gi(new ur(null,{width:this.width,height:this.height}),{scaleMode:W.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:W.MIPMAP_MODES.OFF,format:W.FORMATS.DEPTH_COMPONENT,type:W.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},yr.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},yr.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},yr.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},yr.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},yr.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},yr),cr=(wi(gr,sr=Gi),gr.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},gr.prototype.dispose=function(){this.framebuffer.dispose(),sr.prototype.dispose.call(this)},gr.prototype.destroy=function(){sr.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},gr),pr=(mr.prototype.set=function(t,e,i){var r,n,s,o=e.width,a=e.height;i?(r=t.width/2/o,n=t.height/2/a,s=t.x/o+r,e=t.y/a+n,i=Me.add(i,Me.NW),this.x0=s+r*Me.uX(i),this.y0=e+n*Me.uY(i),i=Me.add(i,2),this.x1=s+r*Me.uX(i),this.y1=e+n*Me.uY(i),i=Me.add(i,2),this.x2=s+r*Me.uX(i),this.y2=e+n*Me.uY(i),i=Me.add(i,2),this.x3=s+r*Me.uX(i),this.y3=e+n*Me.uY(i)):(this.x0=t.x/o,this.y0=t.y/a,this.x1=(t.x+t.width)/o,this.y1=t.y/a,this.x2=(t.x+t.width)/o,this.y2=(t.y+t.height)/a,this.x3=t.x/o,this.y3=(t.y+t.height)/a),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},mr),dr=new pr,fr=(wi(_r,nr=L),_r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},_r.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},_r.prototype.destroy=function(t){this.baseTexture&&(t&&((t=this.baseTexture)&&t.url&&Zt[t.url]&&_r.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,_r.removeFromCache(this),this.textureCacheIds=null},_r.prototype.clone=function(){return new _r(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},_r.prototype.updateUvs=function(){this._uvs===dr&&(this._uvs=new pr),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},_r.from=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=O.STRICT_TEXTURE_CACHE);var r="string"==typeof t,n=null,n=r?t:(t._pixiId||(t._pixiId="pixiid_"+ ++Ht),t._pixiId),s=Zt[n];if(r&&i&&!s)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return s||(e.resolution||(e.resolution=ne(t)),(s=new _r(new Gi(t,e))).baseTexture.cacheId=n,Gi.addToCache(s.baseTexture,n),_r.addToCache(s,n)),s},_r.fromURL=function(t,e){var i=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),r=_r.from(t,Object.assign({resourceOptions:i},e),!1),e=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):e.load().then(function(){return Promise.resolve(r)})},_r.fromBuffer=function(t,e,i,r){return new _r(Gi.fromBuffer(t,e,i,r))},_r.fromLoader=function(t,e,i){t=new ji(t);t.url=e;t=new _r(new Gi(t,{scaleMode:O.SCALE_MODE,resolution:ne(e)}));return Gi.addToCache(t.baseTexture,i=i||e),_r.addToCache(t,i),i!==e&&(Gi.addToCache(t.baseTexture,e),_r.addToCache(t,e)),t},_r.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Zt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Zt[e]=t)},_r.removeFromCache=function(t){if("string"==typeof t){var e=Zt[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete Zt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Zt[t.textureCacheIds[r]]===t&&delete Zt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(_r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,s=e+r>this.baseTexture.width,o=i+n>this.baseTexture.height;if(s||o){e="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,i="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+(s&&o?"and":"or")+" "+i)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),_r.prototype.castToBaseTexture=function(){return this.baseTexture},_r);function _r(t,e,i,r,n,s){var o=nr.call(this)||this;if(o.noFrame=!1,e||(o.noFrame=!0,e=new ue(0,0,1,1)),t instanceof _r&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=r,o.valid=!1,o._uvs=dr,o.uvMatrix=null,o.orig=i||e,o._rotate=Number(n||0),!0===n)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return o.defaultAnchor=s?new fe(s.x,s.y):new fe(0,0),o._updateID=0,o.textureCacheIds=[],t.valid?o.noFrame?t.valid&&o.onBaseTextureUpdated(t):o.frame=e:t.once("loaded",o.onBaseTextureUpdated,o),o.noFrame&&t.on("update",o.onBaseTextureUpdated,o),o}function mr(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}function gr(t){var e=this,e=sr.call(this,null,t="number"==typeof t?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t)||this,i=t||{},t=i.width,i=i.height;return e.mipmap=0,e.width=Math.ceil(t)||100,e.height=Math.ceil(i)||100,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new lr(e.width*e.resolution,e.height*e.resolution).addColorTexture(0,e),e.maskStack=[],e.filterStack=[{}],e}function yr(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new gi("disposeFramebuffer"),this.multisample=W.MSAA_QUALITY.NONE}function vr(){return null!==or&&or.apply(this,arguments)||this}function xr(t){this.renderer=t}function br(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}fr.EMPTY=new fr(new Gi),br(fr.EMPTY),br(fr.EMPTY.baseTexture),fr.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new fr(new Gi(new Xi(t)))}(),br(fr.WHITE),br(fr.WHITE.baseTexture);var Tr,Pr=(wi(Lr,Tr=fr),Object.defineProperty(Lr.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Lr.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},Lr.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},Lr.create=function(t){return new Lr(new cr(t="number"==typeof t?{width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t))},Lr),wr=(Or.prototype.createTexture=function(t,e){e=new cr(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Pr(e)},Or.prototype.getOptimalTexture=function(t,e,i){var r=Or.SCREEN_KEY;t*=i=void 0===i?1:i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=Ut(t)))<<16|65535&(e=Ut(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return(n=n||this.createTexture(t,e)).filterPoolKey=r,n.setResolution(i),n},Or.prototype.getFilterTexture=function(t,e){e=this.getOptimalTexture(t.width,t.height,e||t.resolution);return e.filterFrame=t.filterFrame,e},Or.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},Or.prototype.returnFilterTexture=function(t){this.returnTexture(t)},Or.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},Or.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=Or.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=0<t.width&&0<t.height,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},Or.SCREEN_KEY="screen",Or),Er=(Cr.prototype.destroy=function(){this.buffer=null},Cr.from=function(t,e,i,r,n){return new Cr(t,e,i,r,n)},Cr),Sr=0,Ir=(Ar.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ar.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Ar.prototype.destroy=function(){this.dispose(),this.data=null},Ar.from=function(t){return new Ar(t=t instanceof Array?new Float32Array(t):t)},Ar);function Ar(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Sr++,this.disposeRunner=new gi("disposeBuffer")}function Cr(t,e,i,r,n,s,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=o}function Or(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}function Lr(t,e){var i,r,n,s,o=this,a=null;return t instanceof cr||(i=arguments[1],r=arguments[2],n=arguments[3],s=arguments[4],console.warn("Please use RenderTexture.create("+i+", "+r+") instead of the ctor directly."),a=arguments[0],e=null,t=new cr({width:i,height:r,scaleMode:n,resolution:s})),(o=Tr.call(this,t,e)||this).legacyRenderer=a,o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}function Mr(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Dr,Rr,Nr,Br,kr,Fr,Gr,Ur={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},Xr={5126:4,5123:2,5121:1},jr=0,Wr={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},zr=(xn.prototype.addAttribute=function(t,e,i,r,n,s,o,a){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ir||(e instanceof Array&&(e=new Float32Array(e)),e=new Ir(e));var h=t.split("|");if(1<h.length){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Er(l,i,r,n,s,o,a),this.instanced=this.instanced||a,this},xn.prototype.getAttribute=function(t){return this.attributes[t]},xn.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},xn.prototype.addIndex=function(t){return t instanceof Ir||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ir(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},xn.prototype.getIndex=function(){return this.indexBuffer},xn.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Ir;for(t in this.attributes){var n=this.attributes[t],s=this.buffers[n.buffer];e.push(s.data),i.push(n.size*Xr[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,s=0;s<t.length;s++){var u=e[s],l=t[s],c=Mr(l);n[c]||(n[c]=new Ur[c](o));for(var a=n[c],p=0;p<l.length;p++)a[(p/u|0)*r+h+p%u]=l[p];h+=u}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},xn.prototype.getSize=function(){for(var t in this.attributes){t=this.attributes[t];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},xn.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},xn.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},xn.prototype.clone=function(){for(var t=new xn,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ir(this.buffers[e].data.slice(0));for(e in this.attributes){var i=this.attributes[e];t.attributes[e]=new Er(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},xn.merge=function(t){for(var e=new xn,i=[],r=[],n=[],s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.buffers.length;a++)r[a]=r[a]||0,r[a]+=o.buffers[a].data.length,n[a]=0;for(s=0;s<o.buffers.length;s++)i[s]=new Wr[Mr(o.buffers[s].data)](r[s]),e.buffers[s]=new Ir(i[s]);for(s=0;s<t.length;s++)for(o=t[s],a=0;a<o.buffers.length;a++)i[a].set(o.buffers[a].data,n[a]),n[a]+=o.buffers[a].data.length;if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.index=!0;var h=0,u=0,l=0,c=0;for(s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){c=s;break}for(s in o.attributes){var p=o.attributes[s];(0|p.buffer)===c&&(u+=p.size*Xr[p.type]/4)}for(s=0;s<t.length;s++){for(var d=t[s].indexBuffer.data,a=0;a<d.length;a++)e.indexBuffer.data[a+l]+=h;h+=o.buffers[c].data.length/u,l+=d.length}}return e},xn),Hr=(wi(vn,Gr=zr),vn),qr=(wi(yn,Fr=zr),yn.prototype.map=function(t,e){var i,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},yn.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},yn),Yr=0,Vr=(gn.prototype.update=function(){this.dirtyId++},gn.prototype.add=function(t,e,i){this.uniforms[t]=new gn(e,i)},gn.from=function(t,e){return new gn(t,e)},gn),$r=(mn.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},mn),Zr=(wi(_n,kr=hr),_n.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new $r,s=e[0].resolution,o=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++)var l=e[u],s=Math.min(s,l.resolution),o=this.useMaxPadding?Math.max(o,l.padding):o+l.padding,a=a&&l.autoFit,h=h||l.legacy;1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=s,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(o),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(s),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,s),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;t=this.tempRect;t.width=n.sourceFrame.width,t.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame,t),i.renderTexture.clear()},_n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,s=r.inputPixel,o=r.inputClamp;n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=n[0]*e.resolution,s[1]=n[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*n[2]-.5*s[2],o[3]=e.sourceFrame.height*n[3]-.5*s[3],e.legacy&&((s=r.filterArea)[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp),this.globalUniforms.update();t=t[t.length-1];if(1<e.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,t.renderTexture,W.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var a=e.renderTexture;(l=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame;for(var h=0,h=0;h<i.length-1;++h){i[h].apply(this,a,l,W.CLEAR_MODES.CLEAR,e);var u=a,a=l,l=u}i[h].apply(this,a,t.renderTexture,W.CLEAR_MODES.BLEND,e),this.returnFilterTexture(a),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},_n.prototype.bindAndClear=function(t,e){var i;void 0===e&&(e=W.CLEAR_MODES.CLEAR),t&&t.filterFrame?((i=this.tempRect).width=t.filterFrame.width,i.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,i)):this.renderer.renderTexture.bind(t),"boolean"==typeof e&&(e=e?W.CLEAR_MODES.CLEAR:W.CLEAR_MODES.BLEND,Vt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===W.CLEAR_MODES.CLEAR||e===W.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},_n.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(W.DRAW_MODES.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(W.DRAW_MODES.TRIANGLE_STRIP))},_n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,i=e._texture.orig,n=t.set(n.width,0,0,n.height,r.x,r.y),r=e.worldTransform.copyTo(me.TEMP_MATRIX);return r.invert(),n.prepend(r),n.scale(1/i.width,1/i.height),n.translate(e.anchor.x,e.anchor.y),n},_n.prototype.destroy=function(){this.texturePool.clear(!1)},_n.prototype.getOptimalFilterTexture=function(t,e,i){return this.texturePool.getOptimalTexture(t,e,i=void 0===i?1:i)},_n.prototype.getFilterTexture=function(t,e){var i;"number"==typeof t&&(i=t,t=e,e=i),t=t||this.activeState.renderTexture;e=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return e.filterFrame=t.filterFrame,e},_n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},_n.prototype.emptyPool=function(){this.texturePool.clear(!0)},_n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},_n),Kr=(fn.prototype.flush=function(){},fn.prototype.destroy=function(){this.renderer=null},fn.prototype.start=function(){},fn.prototype.stop=function(){this.flush()},fn.prototype.render=function(t){},fn),Qr=(wi(dn,Br=hr),dn.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},dn.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},dn.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},dn.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;0<=r;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},dn.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,s=t.ids,o=t.count,a=0,h=0;h<o;h++){var u=n[h],l=u._batchLocation;if(0<=l&&l<r&&e[l]===u)s[h]=l;else for(;a<r;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){s[h]=a,e[u._batchLocation=a]=u;break}a++}}},dn),Jr=0,tn=(wi(pn,Nr=hr),Object.defineProperty(pn.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),pn.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Jr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},pn.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Jr++,this.renderer.runners.contextChange.emit(t)},pn.prototype.initFromOptions=function(t){t=this.createContext(this.renderer.view,t);this.initFromContext(t)},pn.prototype.createContext=function(t,e){var i;if(i=O.PREFER_ENV>=W.ENV.WEBGL2?t.getContext("webgl2",e):i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},pn.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},pn.prototype.handleContextLost=function(t){t.preventDefault()},pn.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},pn.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},pn.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},pn.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");t=i||!!t.getExtension("OES_element_index_uint");(this.supports.uint32Indices=t)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},pn),en=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=W.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},rn=new ue,nn=(wi(cn,Rr=hr),cn.prototype.contextChange=function(){var e,t,i=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ue,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,O.PREFER_ENV===W.ENV.WEBGL_LEGACY&&(t=e=null),e?i.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,i.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=i.getInternalformatParameter(i.RENDERBUFFER,i.RGBA8,i.SAMPLES)},cn.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var s=t.colorTextures[n];this.renderer.texture.unbind(s.parentTextureArray||s)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},cn.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(cn.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),cn.prototype.clear=function(t,e,i,r,n){void 0===n&&(n=W.BUFFER_BITS.COLOR|W.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(n)},cn.prototype.initFramebuffer=function(t){var e=this.gl,e=new en(e.createFramebuffer());return e.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},cn.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},cn.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),1<i.multisample&&(i.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,i.msaaBuffer));for(var n,s,o,a=[],h=0;h<r;h++)0===h&&1<i.multisample||(s=(n=t.colorTextures[h]).parentTextureArray||n,this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,n.target,s._glTextures[this.CONTEXT_UID].texture,0),a.push(e.COLOR_ATTACHMENT0+h));1<a.length&&e.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(o=t.depthTexture,this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,0)),i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},cn.prototype.detectSamples=function(t){var e=this.msaaSamples,i=W.MSAA_QUALITY.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return i=1===i?W.MSAA_QUALITY.NONE:i},cn.prototype.blit=function(t,e,i){var r=this.current,n=this.renderer,s=this.gl,o=this.CONTEXT_UID;if(2===n.context.webGLVersion&&r){o=r.glFramebuffers[o];if(o){if(!t){if(o.multisample<=1)return;o.blitFramebuffer||(o.blitFramebuffer=new lr(r.width,r.height),o.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),(t=o.blitFramebuffer).width=r.width,t.height=r.height}e||((e=rn).width=r.width,e.height=r.height);r=e.width===(i=i||e).width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,o.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,s.COLOR_BUFFER_BIT,r?s.NEAREST:s.LINEAR)}}},cn.prototype.disposeFramebuffer=function(t,e){var i,r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;r&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(i=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)))},cn.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},cn.prototype.forceStencil=function(){var t,e,i,r,n=this.current;!n||(t=n.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(n.enableStencil(),e=n.width,i=n.height,n=(r=this.gl).createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,i),t.stencil=n,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n))},cn.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ue},cn),sn=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},on={5126:4,5123:2,5121:1},an=(wi(ln,Dr=hr),ln.prototype.contextChange=function(){this.disposeAll(!0);var e,s,t=this.gl=this.renderer.gl,i=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion&&(e=this.renderer.context.extensions.vertexArrayObject,(e=O.PREFER_ENV===W.ENV.WEBGL_LEGACY?null:e)?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),2!==i.webGLVersion&&((s=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return s.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,n){return s.drawElementsInstancedANGLE(t,e,i,r,n)},t.drawArraysInstanced=function(t,e,i,r){return s.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},ln.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);n=r[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},ln.prototype.reset=function(){this.unbind()},ln.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r,n,s=t.buffers[i],o=s._glBuffers[this.CONTEXT_UID];s._updateID!==o.updateID&&(o.updateID=s._updateID,r=s.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,e.bindBuffer(r,o.buffer),(this._boundBuffer=o).byteLength>=s.data.byteLength?e.bufferSubData(r,0,s.data):(n=s.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,o.byteLength=s.data.byteLength,e.bufferData(r,s.data,n)))}},ln.prototype.checkCompatibility=function(t,e){var i,r=t.attributes;for(i in e.attributeData)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},ln.prototype.getSignature=function(t,e){var i,r=t.attributes,n=e.attributeData,s=["g",t.id];for(i in r)n[i]&&s.push(i);return s.join("-")},ln.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0),this.checkCompatibility(t,e);var r=this.gl,n=this.CONTEXT_UID,s=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],a=o[s];if(a)return o[e.id]=a;var h,u=t.buffers,l=t.attributes,c={},p={};for(h in u)c[h]=0,p[h]=0;for(h in l)!l[h].size&&e.attributeData[h]?l[h].size=e.attributeData[h].size:l[h].size||console.warn("PIXI Geometry attribute '"+h+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[l[h].buffer]+=l[h].size*on[l[h].type];for(h in l){var d=l[h],f=d.size;void 0===d.stride&&(c[d.buffer]===f*on[d.type]?d.stride=0:d.stride=c[d.buffer]),void 0===d.start&&(d.start=p[d.buffer],p[d.buffer]+=f*on[d.type])}a=r.createVertexArray(),r.bindVertexArray(a);for(var _=0;_<u.length;_++){var m=u[_];m._glBuffers[n]||(m._glBuffers[n]=new sn(r.createBuffer()),(this.managedBuffers[m.id]=m).disposeRunner.add(this)),i&&m._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,o[e.id]=a,o[s]=a},ln.prototype.disposeBuffer=function(t,e){var i,r;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],i=t._glBuffers[this.CONTEXT_UID],r=this.gl,t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID]))},ln.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var s=0;s<n.length;s++){var o=n[s]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(n[s],e)}if(!e)for(var a in i)"g"===a[0]&&(a=i[a],this._activeVao===a&&this.unbind(),r.deleteVertexArray(a));delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},ln.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);for(e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},ln.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,s=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var o,a=null;for(o in s){var h=s[o],u=n[h.buffer]._glBuffers[r];if(e.attributeData[o]){a!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),a=u);u=e.attributeData[o].location;if(i.enableVertexAttribArray(u),i.vertexAttribPointer(u,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(u,1)}}}},ln.prototype.draw=function(t,e,i,r){var n,s,o=this.gl,a=this._activeGeometry;return a.indexBuffer?(s=2===(n=a.indexBuffer.data.BYTES_PER_ELEMENT)?o.UNSIGNED_SHORT:o.UNSIGNED_INT,2===n||4===n&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,e||a.indexBuffer.data.length,s,(i||0)*n,r||1):o.drawElements(t,e||a.indexBuffer.data.length,s,(i||0)*n):console.warn("unsupported index buffer type: uint32")):a.instanced?o.drawArraysInstanced(t,i,e||a.getSize(),r||1):o.drawArrays(t,i,e||a.getSize()),this},ln.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ln),hn=(un.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=W.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},un.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},un);function un(t){void 0===t&&(t=null),this.type=W.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}function ln(t){t=Dr.call(this,t)||this;return t._activeGeometry=null,t._activeVao=null,t.hasVao=!0,t.hasInstance=!0,t.canUseUInt32ElementIndex=!1,t.managedGeometries={},t.managedBuffers={},t}function cn(t){t=Rr.call(this,t)||this;return t.managedFramebuffers=[],t.unknownFramebuffer=new lr(10,10),t.msaaSamples=null,t}function pn(t){var e=Nr.call(this,t)||this;return e.webGLVersion=1,e.extensions={},e.supports={uint32Indices:!1},e.handleContextLost=e.handleContextLost.bind(e),e.handleContextRestored=e.handleContextRestored.bind(e),t.view.addEventListener("webglcontextlost",e.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",e.handleContextRestored,!1),e}function dn(t){var e=Br.call(this,t)||this;return e.emptyRenderer=new Kr(t),e.currentRenderer=e.emptyRenderer,e}function fn(t){this.renderer=t}function _n(t){var e=kr.call(this,t)||this;return e.defaultFilterStack=[{}],e.texturePool=new wr,e.texturePool.setScreenSize(t.view),e.statePool=[],e.quad=new Hr,e.quadUv=new qr,e.tempRect=new ue,e.activeState={},e.globalUniforms=new Vr({outputFrame:e.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),e.forceClear=!1,e.useMaxPadding=!1,e}function mn(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new ue,this.destinationFrame=new ue,this.filters=[]}function gn(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Yr++,this.static=!!e}function yn(){var t=Fr.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Ir(t.vertices),t.uvBuffer=new Ir(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}function vn(){var t=Gr.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}function xn(t,e){void 0===e&&(e={}),this.buffers=t=void 0===t?[]:t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=jr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new gi("disposeGeometry"),this.refCount=0}function bn(t,e,i){e=t.createShader(e);return t.shaderSource(e,i),t.compileShader(e),e}function Tn(t,e,i,r){var n=bn(t,t.VERTEX_SHADER,e),s=bn(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,s),r)for(var a in r)t.bindAttribLocation(o,r[a],a);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(s,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(s))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(n),t.deleteShader(s),o}function Pn(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function wn(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Pn(2*e);case"bvec3":return Pn(3*e);case"bvec4":return Pn(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var En,Sn={},In=Sn;function An(){var t,e;return(In===Sn||In&&In.isContextLost())&&(t=document.createElement("canvas"),e=void 0,(e=O.PREFER_ENV>=W.ENV.WEBGL2?t.getContext("webgl2",{}):e)||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),In=e),In}function Cn(t,e,i){if("precision"===t.substring(0,9))return i!==W.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var r=e;return"precision "+(r=e===W.PRECISION.HIGH&&i!==W.PRECISION.HIGH?W.PRECISION.MEDIUM:r)+" float;\n"+t}var On={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};var Ln=null,Mn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Dn(t,e){if(!Ln){var i=Object.keys(Mn);Ln={};for(var r=0;r<i.length;++r){var n=i[r];Ln[t[n]]=Mn[n]}}return Ln[e]}var Rn,Nn=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Bn={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},kn={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Fn=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Gn(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=Fn.replace(/%forloop%/gi,function(t){for(var e="",i=0;i<t;++i)0<i&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}var Un,Xn,jn,Wn,zn,Hn,qn,Yn,Vn,$n=0,Zn={},Kn=(Ls.prototype.extractData=function(t,e){var i=An();i?(e=Tn(i,t,e),this.attributeData=this.getAttributeData(e,i),this.uniformData=this.getUniformData(e,i),i.deleteProgram(e)):(this.uniformData={},this.attributeData={})},Ls.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<n;s++){var o=e.getActiveAttrib(t,s),a=Dn(e,o.type),a={type:a,name:o.name,size:On[a],location:0};i[o.name]=a,r.push(a)}for(r.sort(function(t,e){return t.name>e.name?1:-1}),s=0;s<r.length;s++)r[s].location=s;return i},Ls.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=s.name.match(/\[.*?\]$/),h=Dn(e,s.type);i[o]={type:h,size:s.size,isArray:a,value:wn(h,s.size)}}return i},Object.defineProperty(Ls,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Ls,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),Ls.from=function(t,e,i){var r=t+e,n=$t[r];return n||($t[r]=n=new Ls(t,e,i)),n},Ls),Qn=(Os.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){i=e.uniforms[i];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},Os.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Os.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Os.from=function(t,e,i){return new Os(Kn.from(t,e),i)},Os),Jn=(Object.defineProperty(Cs.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==W.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),Cs.for2d=function(){var t=new Cs;return t.depthTest=!1,t.blend=!0,t},Cs),ts=(wi(As,Vn=Qn),As.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(As.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(As,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(As,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),As),es=new me,is=(Object.defineProperty(Is.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),Is.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],s=t[r+1];e[r]=n*i.a+s*i.c+i.tx,e[r+1]=n*i.b+s*i.d+i.ty}return e},Is.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(es.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(es));t=e.baseTexture,i=this.uClampFrame,r=this.clampMargin/t.resolution,n=this.clampOffset;return i[0]=(e._frame.x+r+n)/t.width,i[1]=(e._frame.y+r+n)/t.height,i[2]=(e._frame.x+e._frame.width-r+n)/t.width,i[3]=(e._frame.y+e._frame.height-r+n)/t.height,this.uClampOffset[0]=n/t.realWidth,this.uClampOffset[1]=n/t.realHeight,this.isSimple=e._frame.width===t.width&&e._frame.height===t.height&&0===e.rotate,!0},Is),rs=(wi(Ss,Yn=ts),Ss.prototype.apply=function(t,e,i,r){var n=this.maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new is(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},Ss),ns=(wi(Es,qn=hr),Es.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},Es.prototype.push=function(t,e){var i,r=e;switch(r.isMaskData||((i=this.maskDataPool.pop()||new hn).pooled=!0,i.maskObject=e,r=i),r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case W.MASK_TYPES.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case W.MASK_TYPES.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case W.MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},Es.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case W.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case W.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case W.MASK_TYPES.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},Es.prototype.detect=function(t){var e,i=t.maskObject;i.isSprite?t.type=W.MASK_TYPES.SPRITE:(t.type=W.MASK_TYPES.STENCIL,this.enableScissor&&i.isFastRect&&i.isFastRect()&&(e=i.worldTransform,i=Math.atan2(e.b,e.a),e=Math.atan2(e.d,e.c),i=Math.round(i*(180/Math.PI)*100),e=((Math.round(e*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0==(i=(i%9e3+9e3)%9e3)&&9e3===e&&(t.type=W.MASK_TYPES.SCISSOR)))},Es.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];(r=r||(this.alphaMaskPool[this.alphaMaskIndex]=[new rs(e)]))[0].resolution=this.renderer.resolution,r[0].maskSprite=e;t=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,r),i.filterArea=t,this.alphaMaskIndex++},Es.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},Es),ss=(wi(ws,Hn=hr),ws.prototype.getStackLength=function(){return this.maskStack.length},ws.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;t=this.getStackLength();t!==i&&(0===t?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},ws.prototype._useCurrent=function(){},ws.prototype.destroy=function(){Hn.prototype.destroy.call(this),this.maskStack=null},ws),os=(wi(Ps,zn=ss),Ps.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},Ps.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,r=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,i?r.fit(i):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},Ps.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},Ps.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,r=i.transform,n=i.sourceFrame,s=i.destinationFrame,o=(e||this.renderer).resolution,i=(t.x-n.x)*o+s.x,n=(t.y-n.y)*o+s.y,s=t.width*o,t=t.height*o;r&&(i+=r.tx*o,n+=r.ty*o),e||(n=this.renderer.height-t-n),this.renderer.gl.scissor(i,n,s,t)},Ps),as=(wi(Ts,Wn=ss),Ts.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},Ts.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},Ts.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},Ts.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},Ts.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},Ts),hs=(wi(bs,jn=hr),bs.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},bs.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,r=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=r*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-r-e.y*n.d},bs.prototype.setTransform=function(t){},bs),us=new ue,ls=new ue,cs=new ue,ps=(wi(xs,Xn=hr),xs.prototype.bind=function(t,e,i){var r,n,s,o=this.renderer;(this.current=t=void 0===t?null:t)?(s=(r=t.baseTexture).resolution,e||(us.width=t.frame.width,us.height=t.frame.height,e=us),i||(ls.x=t.frame.x,ls.y=t.frame.y,ls.width=e.width,ls.height=e.height,i=ls),n=r.framebuffer):(s=o.resolution,e||(us.width=o.screen.width,us.height=o.screen.height,e=us),i||((i=us).width=e.width,i.height=e.height)),cs.x=i.x*s,cs.y=i.y*s,cs.width=i.width*s,cs.height=i.height*s,this.renderer.framebuffer.bind(n,cs),this.renderer.projection.update(i,e,s,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},xs.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},xs.prototype.resize=function(){this.bind(null)},xs.prototype.reset=function(){this.bind(null)},xs),ds=function(){},fs=(vs.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},vs),_s=0,ms={textureCount:0},gs=(wi(ys,Un=hr),ys.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Rn)return Rn;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Rn=!0===t({a:"b"},"a","b")}catch(t){Rn=!1}return Rn}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},ys.prototype.contextChange=function(t){this.gl=t,this.reset()},ys.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(ms.textureCount=0,this.syncUniformGroup(t.uniformGroup,ms)),r},ys.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},ys.prototype.syncUniformGroup=function(t,e){var i=this.getglProgram();t.static&&t.dirtyId===i.uniformGroups[t.id]||(i.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},ys.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},ys.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i,r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(i in t.uniforms){var n=e[i];if(n){for(var s,o=t.uniforms[i],a=!1,h=0;h<Nn.length;h++)if(Nn[h].test(n,o)){r.push(Nn[h].code(i,o)),a=!0;break}a||(s=(1===n.size?Bn:kn)[n.type].replace("location",'ud["'+i+'"].location'),r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+s+";"))}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},ys.prototype.getSignature=function(t,e){var i,r=[];for(i in t.uniforms)r.push(i),e[i]&&r.push(e[i].type);return r.join("-")},ys.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},ys.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(n in i.attributeData)r[n]=i.attributeData[n].location;var n,s=Tn(e,i.vertexSrc,i.fragmentSrc,r),o={};for(n in i.uniformData){var a=i.uniformData[n];o[n]={location:e.getUniformLocation(s,n),value:wn(a.type,a.size)}}t=new fs(s,o);return i.glPrograms[this.renderer.CONTEXT_UID]=t},ys.prototype.reset=function(){this.program=null,this.shader=null},ys.prototype.destroy=function(){this.destroyed=!0},ys);function ys(t){t=Un.call(this,t)||this;return t.destroyed=!1,t.systemCheck(),t.gl=null,t.shader=null,t.program=null,t.cache={},t.id=_s++,t}function vs(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}function xs(t){var e=Xn.call(this,t)||this;return e.clearColor=t._backgroundColorRgba,e.defaultMaskStack=[],e.current=null,e.sourceFrame=new ue,e.destinationFrame=new ue,e}function bs(t){t=jn.call(this,t)||this;return t.destinationFrame=null,t.sourceFrame=null,t.defaultFrame=null,t.projectionMatrix=new me,t.transform=null,t}function Ts(t){t=Wn.call(this,t)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}function Ps(t){t=zn.call(this,t)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}function ws(t){t=Hn.call(this,t)||this;return t.maskStack=[],t.glConst=0,t}function Es(t){t=qn.call(this,t)||this;return t.enableScissor=!1,t.alphaMaskPool=[],t.maskDataPool=[],t.maskStack=[],t.alphaMaskIndex=0,t}function Ss(t){var e=this,i=new me,e=Yn.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this;return t.renderable=!1,e.maskSprite=t,e.maskMatrix=i,e}function Is(t,e){this._texture=t,this.mapCoord=new me,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}function As(t,e,i){var r=this,e=Kn.from(t||As.defaultVertexSrc,e||As.defaultFragmentSrc);return(r=Vn.call(this,e,i)||this).padding=0,r.resolution=O.FILTER_RESOLUTION,r.enabled=!0,r.autoFit=!0,r.legacy=!!r.program.attributeData.aTextureCoord,r.state=new Jn,r}function Cs(){this.data=0,this.blendMode=W.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}function Os(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Vr?e:new Vr(e):new Vr({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))}function Ls(t,e,i){void 0===i&&(i="pixi-shader"),this.id=$n++,this.vertexSrc=t||Ls.defaultVertexSrc,this.fragmentSrc=e||Ls.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Zn[i]?(Zn[i]++,i+="-"+Zn[i]):Zn[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Cn(this.vertexSrc,O.PRECISION_VERTEX,W.PRECISION.HIGH),this.fragmentSrc=Cn(this.fragmentSrc,O.PRECISION_FRAGMENT,(En||(En=W.PRECISION.MEDIUM,(i=An())&&i.getShaderPrecisionFormat&&(i=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT),En=i.precision?W.PRECISION.HIGH:W.PRECISION.MEDIUM)),En))),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}var Ms,Ds,Rs,Ns,Bs,ks=(wi($s,Bs=hr),$s.prototype.contextChange=function(t){var e;this.gl=t,this.blendModes=(t=t,(e=void 0===e?[]:e)[W.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[W.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.NONE]=[0,0],e[W.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[W.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[W.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[W.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[W.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[W.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[W.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e),this.set(this.defaultState),this.reset()},$s.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},$s.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},$s.prototype.setBlend=function(t){this.updateCheck($s.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},$s.prototype.setOffset=function(t){this.updateCheck($s.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},$s.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},$s.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},$s.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},$s.prototype.setBlendMode=function(t){var e;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))},$s.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},$s.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},$s.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},$s.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},$s.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},$s),Fs=(wi(Vs,Ns=hr),Vs.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==W.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},Vs.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),i=!(e[r]=null))}if(i){for(var s=0,r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},Vs.prototype.unload=function(t){var e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(var r=t.children.length-1;0<=r;r--)this.unload(t.children[r])},Vs),Gs=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Us=(wi(Ys,Rs=hr),Ys.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Gs(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Gs(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},Ys.prototype.bind=function(t,e){void 0===e&&(e=0);var i,r=this.gl;t?(t=t.castToBaseTexture()).parentTextureArray||t.valid&&(t.touched=this.renderer.textureGC.count,i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t):(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null)},Ys.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},Ys.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[r]=null)},Ys.prototype.initTexture=function(t){var e=new Gs(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},Ys.prototype.initTextureType=function(t,e){var i;e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion&&(i=this.renderer.gl,t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===W.TYPES.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F))},Ys.prototype.updateTexture=function(t){var e,i,r,n=t._glTextures[this.CONTEXT_UID];n&&(r=this.renderer,this.initTextureType(t,n),t.resource&&t.resource.upload(r,t,n)||(e=t.realWidth,i=t.realHeight,r=r.gl,(n.width!==e||n.height!==i||n.dirtyId<0)&&(n.width=e,n.height=i,r.texImage2D(t.target,0,n.internalFormat,e,i,0,t.format,n.type,null))),t.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(t),n.dirtyId=t.dirtyId)},Ys.prototype.destroyTexture=function(t,e){var i=this.gl;!(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]||(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e)||-1!==(t=this.managedTextures.indexOf(t))&&Wt(this.managedTextures,t,1)},Ys.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==W.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=W.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},Ys.prototype.setStyle=function(t,e){var i,r=this.gl;e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===W.SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST),(i=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===W.SCALE_MODES.LINEAR&&(e=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,e))):r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===W.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST),r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===W.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)},Ys),Xs={FilterSystem:Zr,BatchSystem:Qr,ContextSystem:tn,FramebufferSystem:nn,GeometrySystem:an,MaskSystem:ns,ScissorSystem:os,StencilSystem:as,ProjectionSystem:hs,RenderTextureSystem:ps,ShaderSystem:gs,StateSystem:ks,TextureGCSystem:Fs,TextureSystem:Us},js=new me,Ws=(wi(qs,Ds=L),qs.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(qs.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(qs.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),qs.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},qs.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);i=Pr.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:i});return js.tx=-r.x,js.ty=-r.y,this.render(t,i,!1,js,!!t.parent),i},qs.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=W.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(qs.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Ot(t),Ct(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),qs),zs=(wi(Hs,Ms=Ws),Hs.create=function(t){if(At())return new Hs(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},Hs.prototype.addSystem=function(t,e){e=e||t.name;var i,r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(i in this[e]=r,this.runners)this.runners[i].add(r);return this},Hs.prototype.render=function(t,e,i,r,n){this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,this.context.isLost||(e||(this._lastObjectRendered=t),n||(n=t.enableTempParent(),t.updateTransform(),t.disableTempParent(n)),this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},Hs.prototype.resize=function(t,e){Ms.prototype.resize.call(this,t,e),this.runners.resize.emit(t,e)},Hs.prototype.reset=function(){return this.runners.reset.emit(),this},Hs.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},Hs.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();Ms.prototype.destroy.call(this,t),this.gl=null},Hs.registerPlugin=function(t,e){(Hs.__plugins=Hs.__plugins||{})[t]=e},Hs);function Hs(t){var e=Ms.call(this,W.RENDERER_TYPE.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new gi("destroy"),contextChange:new gi("contextChange"),reset:new gi("reset"),update:new gi("update"),postrender:new gi("postrender"),prerender:new gi("prerender"),resize:new gi("resize")},e.globalUniforms=new Vr({projectionMatrix:new me},!0),e.addSystem(ns,"mask").addSystem(tn,"context").addSystem(ks,"state").addSystem(gs,"shader").addSystem(Us,"texture").addSystem(an,"geometry").addSystem(nn,"framebuffer").addSystem(os,"scissor").addSystem(as,"stencil").addSystem(hs,"projection").addSystem(Fs,"textureGC").addSystem(Zr,"filter").addSystem(ps,"renderTexture").addSystem(Qr,"batch"),e.initPlugins(Hs.__plugins),t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.transparent,antialias:t.antialias,premultipliedAlpha:e.transparent&&"notMultiplied"!==e.transparent,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,It(2===e.context.webGLVersion?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}function qs(t,e){void 0===t&&(t=W.RENDERER_TYPE.UNKNOWN);var i=Ds.call(this)||this;return(e=Object.assign({},O.RENDER_OPTIONS,e)).roundPixels&&(O.ROUND_PIXELS=e.roundPixels,Vt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=e,i.type=t,i.screen=new ue(0,0,e.width,e.height),i.view=e.view||document.createElement("canvas"),i.resolution=e.resolution||O.RESOLUTION,i.transparent=e.transparent,i.autoDensity=e.autoDensity||e.autoResize||!1,i.preserveDrawingBuffer=e.preserveDrawingBuffer,i.clearBeforeRender=e.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=e.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}function Ys(t){t=Rs.call(this,t)||this;return t.boundTextures=[],t.currentLocation=-1,t.managedTextures=[],t._unknownBoundTextures=!1,t.unknownTexture=new Gi,t}function Vs(t){t=Ns.call(this,t)||this;return t.count=0,t.checkCount=0,t.maxIdle=O.GC_MAX_IDLE,t.checkCountMax=O.GC_MAX_CHECK_COUNT,t.mode=O.GC_MODE,t}function $s(t){t=Bs.call(this,t)||this;return t.gl=null,t.stateId=0,t.polygonOffset=0,t.blendMode=W.BLEND_MODES.NONE,t._blendEq=!1,t.map=[],t.map[0]=t.setBlend,t.map[1]=t.setOffset,t.map[2]=t.setCullFace,t.map[3]=t.setDepthTest,t.map[4]=t.setFrontFace,t.checks=[],t.defaultState=new Jn,t.defaultState.blend=!0,t}function Zs(t){return zs.create(t)}var Ks,Qs,Js="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",to="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",eo=function(){this.texArray=null,this.blend=0,this.type=W.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null},io=(vo.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},vo),ro=(Object.defineProperty(yo.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),yo.prototype.view=function(t){return this[t+"View"]},yo.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},yo.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},yo),no=(wi(go,Qs=Kr),go.prototype.contextChange=function(){var t=this.renderer.gl;O.PREFER_ENV===W.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),O.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Gn(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},go.prototype.initFlushBuffers=function(){for(var t=go._drawCallPool,e=go._textureArrayPool,i=this.size/4,r=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new eo);for(;e.length<r;)e.push(new io);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},go.prototype.onPrerender=function(){this._flushId=0},go.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},go.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,i=go._textureArrayPool,r=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count,o=++Gi._globalBatch,a=0,h=i[0],u=0;r.copyBoundTextures(n,e);for(var l=0;l<this._bufferSize;++l){var c=t[l];t[l]=null,c._batchEnabled!==o&&(h.count>=e&&(r.boundArray(h,n,o,e),this.buildDrawCalls(h,u,l),u=l,h=i[++a],++o),c._batchEnabled=o,c.touched=s,h.elements[h.count++]=c)}for(0<h.count&&(r.boundArray(h,n,o,e),this.buildDrawCalls(h,u,this._bufferSize),++a,++o),l=0;l<n.length;l++)n[l]=null;Gi._globalBatch=o},go.prototype.buildDrawCalls=function(t,e,i){var r=this._bufferedElements,n=this._attributeBuffer,s=this._indexBuffer,o=this.vertexSize,a=go._drawCallPool,h=this._dcIndex,u=this._aIndex,l=this._iIndex,c=a[h];c.start=this._iIndex,c.texArray=t;for(var p=e;p<i;++p){var d=r[p],f=d._texture.baseTexture,f=Mt[f.alphaMode?1:0][d.blendMode];r[p]=null,e<p&&c.blend!==f&&(c.size=l-c.start,e=p,(c=a[++h]).texArray=t,c.start=l),this.packInterleavedGeometry(d,n,s,u,l),u+=d.vertexData.length/2*o,l+=d.indices.length,c.blend=f}e<i&&(c.size=l-c.start,++h),this._dcIndex=h,this._aIndex=u,this._iIndex=l},go.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},go.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;O.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},go.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,i=e.gl,r=e.state,n=go._drawCallPool,s=null,o=0;o<t;o++){var a=n[o],h=a.texArray,u=a.type,l=a.size,c=a.start,a=a.blend;s!==h&&this.bindAndClearTexArray(s=h),this.state.blendMode=a,r.set(this.state),i.drawElements(u,l,i.UNSIGNED_SHORT,2*c)}},go.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},go.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),O.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},go.prototype.stop=function(){this.flush()},go.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),Qs.prototype.destroy.call(this)},go.prototype.getAttributeBuffer=function(t){var e=Ut(Math.ceil(t/8)),t=jt(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);t=this._aBuffers[e];return t||(this._aBuffers[e]=t=new ro(e*this.vertexSize*4)),t},go.prototype.getIndexBuffer=function(t){var e=Ut(Math.ceil(t/12)),i=jt(e),t=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);e=this._iBuffers[i];return e||(this._iBuffers[i]=e=new Uint16Array(t)),e},go.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,o=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,e=Math.min(t.worldAlpha,1),p=e<1&&t._texture.baseTexture.alphaMode?Nt(t._tintRGB,e):t._tintRGB+(255*e<<24),d=0;d<l.length;d+=2)o[r++]=l[d],o[r++]=l[d+1],o[r++]=h[d],o[r++]=h[d+1],s[r++]=p,o[r++]=c;for(d=0;d<u.length;d++)i[n++]=a+u[d]},go._drawCallPool=[],go._textureArrayPool=[],go),so=(mo.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Vr.from({uSamplers:e},!0);var r=(r=(r=this.fragTemplate).replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t));this.programCache[t]=new Kn(this.vertexSrc,r)}r={tint:new Float32Array([1,1,1,1]),translationMatrix:new me,default:this.defaultGroupCache[t]};return new Qn(this.programCache[t],r)},mo.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)0<i&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},mo),oo=(wi(_o,Ks=zr),_o),ao="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ho="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",uo=(fo.create=function(t){var e,t=Object.assign({vertex:ao,fragment:ho,geometryClass:oo,vertexSize:6},t),i=t.vertex,r=t.fragment,n=t.vertexSize,s=t.geometryClass;return wi(o,e=no),o;function o(t){t=e.call(this,t)||this;return t.shaderGenerator=new so(i,r),t.geometryClass=s,t.vertexSize=n,t}},Object.defineProperty(fo,"defaultVertexSrc",{get:function(){return ao},enumerable:!1,configurable:!0}),Object.defineProperty(fo,"defaultFragmentTemplate",{get:function(){return ho},enumerable:!1,configurable:!0}),fo),lo=uo.create(),co=(po.registerPlugin=function(t){po._plugins.push(t)},po.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(po.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(po.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),po.prototype.destroy=function(t,e){var i=this,r=po._plugins.slice(0);r.reverse(),r.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},po);function po(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Zs(e),this.stage=new Ye,po._plugins.forEach(function(t){t.init.call(i,e)})}function fo(){}function _o(t){void 0===t&&(t=!1);var e=Ks.call(this)||this;return e._buffer=new Ir(null,t,!1),e._indexBuffer=new Ir(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,W.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,W.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,W.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,W.TYPES.FLOAT).addIndex(e._indexBuffer),e}function mo(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}function go(t){var e=Qs.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=Jn.for2d(),e.size=4*O.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}function yo(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}function vo(){this.elements=[],this.ids=[],this.count=0}co._plugins=[];var xo=(bo.init=function(t){var i=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){var t,e;i._resizeTo&&(i.cancelResize(),e=i._resizeTo===window?(t=window.innerWidth,window.innerHeight):(t=(e=i._resizeTo).clientWidth,e.clientHeight),i.renderer.resize(t,e))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},bo.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},bo);function bo(){}co.registerPlugin(xo);var To=new ue,Po=(wo.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},wo.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},wo.prototype.canvas=function(t){var e,i,r,n=this.renderer,s=!1,o=!1;t&&(t instanceof Pr?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,s=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,s=!0,(i=To).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(i.width*e+1e-4),h=Math.floor(i.height*e+1e-4),u=new Qt(a,h,1),t=new Uint8Array(4*a*h),n=n.gl;n.readPixels(i.x*e,i.y*e,a,h,n.RGBA,n.UNSIGNED_BYTE,t);a=u.context.getImageData(0,0,a,h);return wo.arrayPostDivide(t,a.data),u.context.putImageData(a,0,0),s&&((s=new Qt(u.width,u.height,1)).context.scale(1,-1),s.context.drawImage(u.canvas,0,-h),u.destroy(),u=s),o&&r.destroy(!0),u.canvas},wo.prototype.pixels=function(t){var e,i,r,n=this.renderer,s=!1;t&&(t instanceof Pr?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=To).width=n.width,i.height=n.height,n.renderTexture.bind(null));var o=i.width*e,a=i.height*e,t=new Uint8Array(4*o*a),n=n.gl;return n.readPixels(i.x*e,i.y*e,o,a,n.RGBA,n.UNSIGNED_BYTE,t),s&&r.destroy(!0),wo.arrayPostDivide(t,t),t},wo.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},wo.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},wo);function wo(t){(this.renderer=t).extract=this}function Eo(t,e){if(t){for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),n={},s=14;s--;)n[r.key[s]]=i[s]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}}var So=(Oa=t(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t};function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=(i(o,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),o);function o(t,e,i){void 0===e&&(e=!1),n(this,o),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}function a(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}i(h,[{key:"handlers",value:function(){var t=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!t;for(var e=[];t;)e.push(t),t=t._next;return e}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),i=h;function h(){n(this,h),this._head=this._tail=void 0}i.MiniSignalBinding=s,e.default=i,t.exports=e.default}))&&Oa.__esModule&&Object.prototype.hasOwnProperty.call(Oa,"default")?Oa.default:Oa;function Io(){}function Ao(i,r,n,s){var o=0,a=i.length;!function t(e){e||o===a?n&&n(e):s?setTimeout(function(){r(i[o++],t)},1):r(i[o++],t)}()}function Co(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:t,saturated:Io,unsaturated:Io,buffer:t/4,empty:Io,drain:Io,error:Io,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=Io,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),e(t.data,function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}(function(t){return function(){--i,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}(t)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");r.started=!0,null==t&&r.idle()?setTimeout(function(){return r.drain()},1):(i={data:t,callback:"function"==typeof i?i:Io},e?r._tasks.unshift(i):r._tasks.push(i),setTimeout(function(){return r.process()},1))}return r}var Oo={};function Lo(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(t,e,i){return e&&Lo(t.prototype,e),i&&Lo(t,i),t}var Do=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Ro=null;function No(){}var Bo=function(){function s(t,e,i){if("string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(s.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=s.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=No,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new So,this.onProgress=new So,this.onComplete=new So,this.onAfterMiddleware=new So}s.setExtensionLoadType=function(t,e){ko(s._loadTypeMap,t,e)},s.setExtensionXhrType=function(t,e){ko(s._xhrTypeMap,t,e)};var t=s.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=s.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(s.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case s.LOAD_TYPE.IMAGE:this.type=s.TYPE.IMAGE,this._loadElement("image");break;case s.LOAD_TYPE.AUDIO:this.type=s.TYPE.AUDIO,this._loadSourceElement("audio");break;case s.LOAD_TYPE.VIDEO:this.type=s.TYPE.VIDEO,this._loadSourceElement("video");break;default:s.LOAD_TYPE.XHR;Do&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(t){return 0!=(this._flags&t)},t._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(s.STATUS_FLAGS.COMPLETE,!0),this._setFlag(s.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===s.XHR_RESPONSE_TYPE.JSON||this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=s.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t._createSource=function(t,e,i){i=i||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=i,t},t._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var t=this.xhr;this.abort(Fo(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t._xhrOnTimeout=function(){var t=this.xhr;this.abort(Fo(t)+" Request timed out.")},t._xhrOnAbort=function(){var t=this.xhr;this.abort(Fo(t)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t,e,i=this.xhr,r="",n=void 0===i.status?200:i.status;if(""!==i.responseType&&"text"!==i.responseType&&void 0!==i.responseType||(r=i.responseText),0===n&&(0<r.length||i.responseType===s.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===s.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=s.TYPE.TEXT;else if(this.xhrType===s.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=s.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(t=new DOMParser,this.data=t.parseFromString(r,"text/xml")):((e=document.createElement("div")).innerHTML=r,this.data=e),this.type=s.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=i.response||r;this.complete()}else this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL)},t._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,(Ro=Ro||document.createElement("a")).href=t;var i=!(t=Eo(Ro.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},t._determineXhrType=function(){return s._xhrTypeMap[this.extension]||s.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return s._loadTypeMap[this.extension]||s.LOAD_TYPE.XHR},t._getExtension=function(){var t,e,i=this.url;return(this.isDataUrl?(e=i.indexOf("/"),i.substring(e+1,i.indexOf(";",e))):(t=i.indexOf("?"),e=i.indexOf("#"),e=Math.min(-1<t?t:i.length,-1<e?e:i.length),(i=i.substring(0,e)).substring(i.lastIndexOf(".")+1))).toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case s.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case s.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case s.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case s.XHR_RESPONSE_TYPE.JSON:return"application/json";case s.XHR_RESPONSE_TYPE.DEFAULT:case s.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Mo(s,[{key:"isDataUrl",get:function(){return this._hasFlag(s.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(s.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(s.STATUS_FLAGS.LOADING)}}]),s}();function ko(t,e,i){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=i)}function Fo(t){return t.toString().replace("object ","")}Bo.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Bo.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Bo.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Bo.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Bo._loadTypeMap={gif:Bo.LOAD_TYPE.IMAGE,png:Bo.LOAD_TYPE.IMAGE,bmp:Bo.LOAD_TYPE.IMAGE,jpg:Bo.LOAD_TYPE.IMAGE,jpeg:Bo.LOAD_TYPE.IMAGE,tif:Bo.LOAD_TYPE.IMAGE,tiff:Bo.LOAD_TYPE.IMAGE,webp:Bo.LOAD_TYPE.IMAGE,tga:Bo.LOAD_TYPE.IMAGE,svg:Bo.LOAD_TYPE.IMAGE,"svg+xml":Bo.LOAD_TYPE.IMAGE,mp3:Bo.LOAD_TYPE.AUDIO,ogg:Bo.LOAD_TYPE.AUDIO,wav:Bo.LOAD_TYPE.AUDIO,mp4:Bo.LOAD_TYPE.VIDEO,webm:Bo.LOAD_TYPE.VIDEO},Bo._xhrTypeMap={xhtml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,html:Bo.XHR_RESPONSE_TYPE.DOCUMENT,htm:Bo.XHR_RESPONSE_TYPE.DOCUMENT,xml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,svg:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,gif:Bo.XHR_RESPONSE_TYPE.BLOB,png:Bo.XHR_RESPONSE_TYPE.BLOB,bmp:Bo.XHR_RESPONSE_TYPE.BLOB,jpg:Bo.XHR_RESPONSE_TYPE.BLOB,jpeg:Bo.XHR_RESPONSE_TYPE.BLOB,tif:Bo.XHR_RESPONSE_TYPE.BLOB,tiff:Bo.XHR_RESPONSE_TYPE.BLOB,webp:Bo.XHR_RESPONSE_TYPE.BLOB,tga:Bo.XHR_RESPONSE_TYPE.BLOB,json:Bo.XHR_RESPONSE_TYPE.JSON,text:Bo.XHR_RESPONSE_TYPE.TEXT,txt:Bo.XHR_RESPONSE_TYPE.TEXT,ttf:Bo.XHR_RESPONSE_TYPE.BUFFER,otf:Bo.XHR_RESPONSE_TYPE.BUFFER},Bo.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Go=window.URL||window.webkitURL,Uo={caching:function(t,e){var i=this;Oo[t.url]?(t.data=Oo[t.url],t.complete()):t.onComplete.once(function(){return Oo[i.url]=i.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Bo.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=Go.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){Go.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],s=0;s<r.length;++s)i<t.length?r[s]=255&t.charCodeAt(i++):r[s]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var o=0;o<n.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[o])}return e}(t.xhr.responseText),t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Xo=/(#[\w-]+)?$/,jo=((Hh=Wo.prototype).add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,e=(i=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Bo(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var h=s.progressChunk*(o.length+1)/(o.length+2);s.children.push(this.resources[t]),s.progressChunk=h;for(var u=0;u<o.length;++u)o[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},Hh.pre=function(t){return this._beforeMiddleware.push(t),this},Hh.use=function(t){return this._afterMiddleware.push(t),this},Hh.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){t=this.resources[t];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},Hh.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Hh._prepareUrl=function(t){var e=Eo(t,{strictMode:!0}),e=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t;return this.defaultQueryString&&(t=Xo.exec(e)[0],-1!==(e=e.substr(0,e.length-t.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=t),e},Hh._loadResource=function(i,t){var r=this;i._dequeue=t,Ao(this._beforeMiddleware,function(t,e){t.call(r,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?r._onLoad(i):(i._onLoadBinding=i.onComplete.once(r._onLoad,r),i.load())},!0)},Hh._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},Hh._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},Hh._onLoad=function(i){var r=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),Ao(this._afterMiddleware,function(t,e){t.call(r,i,e)},function(){i.onAfterMiddleware.dispatch(i),r.progress=Math.min(100,r.progress+i.progressChunk),r.onProgress.dispatch(r,i),i.error?r.onError.dispatch(i.error,r,i):r.onLoad.dispatch(r,i),r._resourcesParsing.splice(r._resourcesParsing.indexOf(i),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},Mo(Wo,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),Wo);function Wo(t,e){var i=this;void 0===e&&(e=10),this.baseUrl=t=void 0===t?"":t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Co(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new So,this.onError=new So,this.onLoad=new So,this.onStart=new So,this.onComplete=new So;for(var r=0;r<Wo._defaultBeforeMiddleware.length;++r)this.pre(Wo._defaultBeforeMiddleware[r]);for(var n=0;n<Wo._defaultAfterMiddleware.length;++n)this.use(Wo._defaultAfterMiddleware[n])}jo._defaultBeforeMiddleware=[],jo._defaultAfterMiddleware=[],jo.pre=function(t){return jo._defaultBeforeMiddleware.push(t),jo},jo.use=function(t){return jo._defaultAfterMiddleware.push(t),jo};var zo,Ho,qo=Bo,Yo=function(t,e){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},i=(Ko.use=function(t,e){t.data&&t.type===Bo.TYPE.IMAGE&&(t.texture=fr.fromLoader(t.data,t.url,t.name)),e()},Ko),Vo=(Yo(Ho=$o,n=zo=jo),Ho.prototype=null===n?Object.create(n):(Zo.prototype=n.prototype,new Zo),$o.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty($o,"shared",{get:function(){var t=$o._shared;return t||((t=new $o)._protected=!0,$o._shared=t),t},enumerable:!1,configurable:!0}),$o.registerPlugin=function(t){return $o._plugins.push(t),t.add&&t.add(),$o},$o._plugins=[],$o);function $o(t,e){for(var i=zo.call(this,t,e)||this,r=0;r<$o._plugins.length;++r){var n=$o._plugins[r],s=n.pre,n=n.use;s&&i.pre(s),n&&i.use(n)}return i._protected=!1,i}function Zo(){this.constructor=Ho}function Ko(){}Vo.registerPlugin({use:Uo.parsing}),Vo.registerPlugin(i);var D=(Jo.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Vo.shared:new Vo},Jo.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},Jo),Qo=function(t,e){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Jo(){}function ta(t,e){function i(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ea,ia,ft=(ta(oa,ia=Ye),oa.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},oa.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(oa.prototype,"tint",{get:function(){return this._tint},set:function(t){Ct(this._tint=t,this.tintRgb)},enumerable:!1,configurable:!0}),oa.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},oa.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},oa.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},oa.prototype.destroy=function(t){ia.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},oa),ra=(sa.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ir(kt(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i)(s=this.dynamicProperties[i]).offset=e,e+=s.size,this.dynamicStride+=s.size;var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Ir(this.dynamicData,!1,!1);for(var n=0,i=this.staticStride=0;i<this.staticProperties.length;++i)(s=this.staticProperties[i]).offset=n,n+=s.size,this.staticStride+=s.size;r=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new Ir(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===W.TYPES.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(i=0;i<this.staticProperties.length;++i)s=this.staticProperties[i],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===W.TYPES.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},sa.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===W.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},sa.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===W.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},sa.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},sa),ut=(ta(na,ea=Kr),na.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,s=e.length;if(0!==s){i<s&&!t.autoResize&&(s=i);var o=(o=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=Dt(t.blendMode,a.alphaMode),n.state.set(this.state);var h=n.gl,i=t.worldTransform.copyTo(this.tempMatrix);i.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=i.toArray(!0),this.shader.uniforms.uColor=Rt(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var u=!1,l=0,c=0;l<s;l+=r,c+=1){var p=s-l;r<p&&(p=r),c>=o.length&&o.push(this._generateOneMoreBuffer(t));var d=o[c];d.uploadDynamic(e,l,p);var f=t._bufferUpdateIDs[c]||0;(u=u||d._updateID<f)&&(d._updateID=t._updateID,d.uploadStatic(e,l,p)),n.geometry.bind(d.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},na.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,s=0;s<i;s+=r)e.push(new ra(this.properties,n,r));return e},na.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,t=t._properties;return new ra(this.properties,t,e)},na.prototype.uploadVertices=function(t,e,i,r,n,s){for(var o=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],p=c._texture,d=c.scale.x,f=c.scale.y,_=p.trim,p=p.orig;_?(o=(a=_.x-c.anchor.x*p.width)+_.width,h=(u=_.y-c.anchor.y*p.height)+_.height):(o=p.width*(1-c.anchor.x),a=p.width*-c.anchor.x,h=p.height*(1-c.anchor.y),u=p.height*-c.anchor.y),r[s]=a*d,r[s+1]=u*f,r[s+n]=o*d,r[s+n+1]=u*f,r[s+2*n]=o*d,r[s+2*n+1]=h*f,r[s+3*n]=a*d,r[s+3*n+1]=h*f,s+=4*n}},na.prototype.uploadPosition=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].position;r[s]=a.x,r[s+1]=a.y,r[s+n]=a.x,r[s+n+1]=a.y,r[s+2*n]=a.x,r[s+2*n+1]=a.y,r[s+3*n]=a.x,r[s+3*n+1]=a.y,s+=4*n}},na.prototype.uploadRotation=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;r[s]=a,r[s+n]=a,r[s+2*n]=a,r[s+3*n]=a,s+=4*n}},na.prototype.uploadUvs=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(r[s]=a.x0,r[s+1]=a.y0,r[s+n]=a.x1,r[s+n+1]=a.y1,r[s+2*n]=a.x2,r[s+2*n+1]=a.y2,r[s+3*n]=a.x3,r[s+3*n+1]=a.y3):(r[s]=0,r[s+1]=0,r[s+n]=0,r[s+n+1]=0,r[s+2*n]=0,r[s+2*n+1]=0,r[s+3*n]=0,r[s+3*n+1]=0),s+=4*n}},na.prototype.uploadTint=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o],h=0<a._texture.baseTexture.alphaMode,u=a.alpha,u=u<1&&h?Nt(a._tintRGB,u):a._tintRGB+(255*u<<24);r[s]=u,r[s+n]=u,r[s+2*n]=u,r[s+3*n]=u,s+=4*n}},na.prototype.destroy=function(){ea.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},na);function na(t){t=ea.call(this,t)||this;return t.shader=null,t.properties=null,t.tempMatrix=new me,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:W.TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=Qn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),t.state=Jn.for2d(),t}function sa(t,e,i){this.geometry=new zr,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n={attributeName:(n=t[r]).attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||W.TYPES.FLOAT,offset:n.offset};(e[r]?this.dynamicProperties:this.staticProperties).push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}function oa(t,e,i,r){void 0===t&&(t=1500),void 0===i&&(i=16384),void 0===r&&(r=!1);var n=ia.call(this)||this;return 16384<i&&(i=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=i,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=W.BLEND_MODES.NORMAL,n.autoResize=r,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}(Wi=W.LINE_JOIN||(W.LINE_JOIN={})).MITER="miter",Wi.BEVEL="bevel",Wi.ROUND="round",(zi=W.LINE_CAP||(W.LINE_CAP={})).BUTT="butt",zi.ROUND="round",zi.SQUARE="square";var aa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;t=Math.ceil(t/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},ha=(la.prototype.clone=function(){var t=new la;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},la.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=fr.WHITE,this.matrix=null,this.visible=!1},la.prototype.destroy=function(){this.texture=null,this.matrix=null},la),ua=function(t,e){return(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function la(){this.color=16777215,this.alpha=1,this.texture=fr.WHITE,this.matrix=null,this.visible=!1,this.reset()}function ca(t,e){function i(){this.constructor=t}ua(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var pa={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,s=e.indices;if(6<=i.length){for(var o=[],a=0;a<r.length;a++){var h=r[a];o.push(i.length/2),i=i.concat(h.points)}var u=M(i,o,2);if(u){for(var l=n.length/2,a=0;a<u.length;a+=3)s.push(u[a]+l),s.push(u[a+1]+l),s.push(u[a+2]+l);for(a=0;a<i.length;a++)n.push(i[a])}}}},Hi={build:function(t){var e,i,r=t.shape,n=t.points,s=r.x,o=r.y;if(n.length=0,i=t.type===W.SHAPES.CIRC?(e=r.radius,r.radius):(e=(t=t.shape).width,t.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+i));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a-.5;u++)n.push(s+Math.sin(-h*u)*e,o+Math.cos(-h*u)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=s,a=t.shape,h=t.matrix,e=a.x,a=a.y;r.push(t.matrix?h.a*e+h.c*a+h.tx:e,t.matrix?h.b*e+h.d*a+h.ty:a);for(var u=0;u<i.length;u+=2)r.push(i[u],i[u+1]),n.push(s++,o,s)}},ss={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,e=e.height,t=t.points;t.length=0,t.push(i,r,i+n,r,i+n,r+e,i,r+e)},triangulate:function(t,e){var i=t.points,r=e.points,t=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(t,1+t,2+t,1+t,2+t,3+t)}};function da(t,e,i){return t+(e-t)*i}function fa(t,e,i,r,n,s,o){for(var a,h,u,l,c,p,d,f=o=void 0===o?[]:o,_=0;_<=20;++_)a=da(t,i,d=_/20),h=da(e,r,d),u=da(i,n,d),l=da(r,s,d),c=da(a,u,d),p=da(h,l,d),f.push(c,p);return f}L={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,s=e.width,t=e.height,e=Math.max(0,Math.min(e.radius,Math.min(s,t)/2));i.length=0,e?(fa(r,n+e,r,n,r+e,n,i),fa(r+s-e,n,r+s,n,r+s,n+e,i),fa(r+s,n+t-e,r+s,n+t,r+s-e,n+t,i),fa(r+e,n+t,r,n+t,r,n+t-e,i)):i.push(r,n,r+s,n,r+s,n+t,r,n+t)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=M(i,null,2),a=0,h=o.length;a<h;a+=3)n.push(o[a]+s),n.push(o[a+1]+s),n.push(o[a+2]+s);for(a=0,h=i.length;a<h;a++)r.push(i[a],i[++a])}};function _a(t,e,i,r,n,s,o,a){var h,u=o?(h=r,-i):(h=-r,i),o=t+i*s+h,s=e+r*s+u;return a.push(t-i*n+h,e-r*n+u),a.push(o,s),2}function ma(t,e,i,r,n,s,o,a){var h=i-t,u=r-e,l=Math.atan2(h,u),c=Math.atan2(n-t,s-e);a&&l<c?l+=2*Math.PI:!a&&c<l&&(c+=2*Math.PI);var p=l,c=c-l,l=Math.abs(c),d=Math.sqrt(h*h+u*u),f=1+(15*l*Math.sqrt(d)/Math.PI>>0),_=c/f;if(p+=_,a){o.push(t,e),o.push(i,r);for(var m=1,g=p;m<f;m++,g+=_)o.push(t,e),o.push(t+Math.sin(g)*d,e+Math.cos(g)*d);o.push(t,e),o.push(n,s)}else{for(o.push(i,r),o.push(t,e),m=1,g=p;m<f;m++,g+=_)o.push(t+Math.sin(g)*d,e+Math.cos(g)*d),o.push(t,e);o.push(n,s),o.push(t,e)}return 2*f}function ga(h,u){h.lineStyle.native?function(){var t=0,e=h.shape,i=h.points||e.points,r=e.type!==W.SHAPES.POLY||e.closeStroke;if(0!==i.length){var n=u.points,s=u.indices,o=i.length/2,e=n.length/2,a=e;for(n.push(i[0],i[1]),t=1;t<o;t++)n.push(i[2*t],i[2*t+1]),s.push(a,a+1),a++;r&&s.push(a,e)}}():function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0!==r.length){var s=t.lineStyle,o=new fe(r[0],r[1]),t=new fe(r[r.length-2],r[r.length-1]),i=i.type!==W.SHAPES.POLY||i.closeStroke,n=Math.abs(o.x-t.x)<n&&Math.abs(o.y-t.y)<n;i&&(r=r.slice(),n&&(r.pop(),r.pop(),t.set(r[r.length-2],r[r.length-1])),n=.5*(o.x+t.x),E=.5*(t.y+o.y),r.unshift(n,E),r.push(n,E));var a,h,u=e.points,l=r.length/2,c=r.length,p=u.length/2,d=s.width/2,f=d*d,_=s.miterLimit*s.miterLimit,m=r[0],g=r[1],y=r[2],v=r[3],x=0,b=0,T=-(g-v),P=m-y,w=Math.sqrt(T*T+P*P);T/=w,P/=w,T*=d,P*=d;var E=s.alignment,S=2*(1-E),I=2*E;i||(s.cap===W.LINE_CAP.ROUND?c+=ma(m-T*(S-I)*.5,g-P*(S-I)*.5,m-T*S,g-P*S,m+T*I,g+P*I,u,!0)+2:s.cap===W.LINE_CAP.SQUARE&&(c+=_a(m,g,T,P,S,I,!0,u))),u.push(m-T*S,g-P*S),u.push(m+T*I,g+P*I);for(var A=1;A<l-1;++A){m=r[2*(A-1)],g=r[2*(A-1)+1],y=r[2*A],v=r[2*A+1],x=r[2*(A+1)],b=r[2*(A+1)+1],T=-(g-v),P=m-y,T/=w=Math.sqrt(T*T+P*P),P/=w,T*=d,P*=d,a=-(v-b),h=y-x,a/=w=Math.sqrt(a*a+h*h),h/=w,a*=d,h*=d;var C,O,L,M,D,R,N=y-m,B=g-v,k=y-x,F=b-v,G=B*k-F*N,U=G<0;Math.abs(G)<.1?(u.push(y-T*S,v-P*S),u.push(y+T*I,v+P*I)):(L=y+((C=(N*(R=(-a+x)*(-h+v)-(-a+y)*(-h+b))-k*(D=(-T+m)*(-P+v)-(-T+y)*(-P+g)))/G)-y)*S,M=v+((O=(F*D-B*R)/G)-v)*S,D=y-(C-y)*I,R=v-(O-v)*I,G=U?S:I,(O=(C-y)*(C-y)+(O-v)*(O-v))<=Math.min(N*N+B*B,k*k+F*F)+G*G*f?s.join===W.LINE_JOIN.BEVEL||_<O/f?(U?(u.push(L,M),u.push(y+T*I,v+P*I),u.push(L,M),u.push(y+a*I,v+h*I)):(u.push(y-T*S,v-P*S),u.push(D,R),u.push(y-a*S,v-h*S),u.push(D,R)),c+=2):s.join===W.LINE_JOIN.ROUND?U?(u.push(L,M),u.push(y+T*I,v+P*I),c+=ma(y,v,y+T*I,v+P*I,y+a*I,v+h*I,u,!0)+4,u.push(L,M),u.push(y+a*I,v+h*I)):(u.push(y-T*S,v-P*S),u.push(D,R),c+=ma(y,v,y-T*S,v-P*S,y-a*S,v-h*S,u,!1)+4,u.push(y-a*S,v-h*S),u.push(D,R)):(u.push(L,M),u.push(D,R)):(u.push(y-T*S,v-P*S),u.push(y+T*I,v+P*I),s.join===W.LINE_JOIN.BEVEL||_<O/f||(s.join===W.LINE_JOIN.ROUND?c+=U?ma(y,v,y+T*I,v+P*I,y+a*I,v+h*I,u,!0)+2:ma(y,v,y-T*S,v-P*S,y-a*S,v-h*S,u,!1)+2:(U?(u.push(D,R),u.push(D,R)):(u.push(L,M),u.push(L,M)),c+=2)),u.push(y-a*S,v-h*S),u.push(y+a*I,v+h*I),c+=2))}m=r[2*(l-2)],g=r[2*(l-2)+1],y=r[2*(l-1)],T=-(g-(v=r[2*(l-1)+1])),P=m-y,T/=w=Math.sqrt(T*T+P*P),P/=w,u.push(y-(T*=d)*S,v-(P*=d)*S),u.push(y+T*I,v+P*I),i||(s.cap===W.LINE_CAP.ROUND?c+=ma(y-T*(S-I)*.5,v-P*(S-I)*.5,y-T*S,v-P*S,y+T*I,v+P*I,u,!1)+2:s.cap===W.LINE_CAP.SQUARE&&(c+=_a(y,v,T,P,S,I,!1,u)));for(var X=e.indices,j=aa.epsilon*aa.epsilon,A=p;A<c+p-2;++A)m=u[2*A],g=u[2*A+1],y=u[2*(A+1)],v=u[2*(A+1)+1],x=u[2*(A+2)],b=u[2*(A+2)+1],Math.abs(m*(v-b)+y*(b-g)+x*(g-v))<j||X.push(A,A+1,A+2)}}(h,u)}var ya,va,xa,ba,Ta=(ca(Va,ba=pe),Va),Pa=(Ya.curveTo=function(t,e,i,r,n,s){var o=s[s.length-2],a=s[s.length-1]-e,h=o-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var p=a*a+h*h,d=u*u+l*l,o=a*u+h*l,r=n*Math.sqrt(p)/c,i=n*Math.sqrt(d)/c,s=r*o/p,c=i*o/d,p=r*l+i*h,o=r*u+i*a,d=l*(r+c),c=u*(r+c);return{cx:p+t,cy:o+e,radius:n,startAngle:Math.atan2(a*(i+s)-o,h*(i+s)-p),endAngle:Math.atan2(c-o,d-p),anticlockwise:l*a<h*u}},Ya.arc=function(t,e,i,r,n,s,o,a,h){for(var u=o-s,o=aa._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/oe)),l=u/(2*o),c=2*l,p=Math.cos(l),d=Math.sin(l),f=o-1,_=f%1/f,m=0;m<=f;++m){var g=l+s+c*(m+_*m),y=Math.cos(g),g=-Math.sin(g);h.push((p*y+d*g)*n+i,(p*-g+d*y)*n+r)}},Ya),wa=(qa.curveLength=function(t,e,i,r,n,s,o,a){for(var h,u,l,c,p,d,f,_,m,g,y=0,v=t,x=e,b=1;b<=10;++b)m=v-(f=(d=(p=(c=1-(h=b/10))*c)*c)*t+3*p*h*i+3*c*(u=h*h)*n+(l=u*h)*o),g=x-(_=d*e+3*p*h*r+3*c*u*s+l*a),v=f,x=_,y+=Math.sqrt(m*m+g*g);return y},qa.curveTo=function(t,e,i,r,n,s,o){var a=o[o.length-2],h=o[o.length-1];o.length-=2;var u,l,c,p,d,f=aa._segmentsCount(qa.curveLength(a,h,t,e,i,r,n,s));o.push(a,h);for(var _,m=1;m<=f;++m)c=(l=(u=1-(_=m/f))*u)*u,d=(p=_*_)*_,o.push(c*a+3*l*_*t+3*u*p*i+d*n,c*h+3*l*_*e+3*u*p*r+d*s)},qa),Ea=(Ha.curveLength=function(t,e,i,r,n,s){var o=t-2*i+n,a=e-2*r+s,n=2*i-2*t,s=2*r-2*e,i=4*(o*o+a*a),t=4*(o*n+a*s),r=n*n+s*s,e=2*Math.sqrt(i+t+r),o=Math.sqrt(i),a=2*i*o,n=2*Math.sqrt(r),s=t/o;return(a*e+o*t*(e-n)+(4*r*i-t*t)*Math.log((2*o+s+e)/(s+n)))/(4*a)},Ha.curveTo=function(t,e,i,r,n){for(var s=n[n.length-2],o=n[n.length-1],a=aa._segmentsCount(Ha.curveLength(s,o,t,e,i,r)),h=0,u=0,l=1;l<=a;++l){var c=l/a;n.push((h=s+(t-s)*c)+(t+(i-t)*c-h)*c,(u=o+(e-o)*c)+(e+(r-e)*c-u)*c)}},Ha),Sa=(za.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},za.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},za.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},za),Ia=((xo={})[W.SHAPES.POLY]=pa,xo[W.SHAPES.CIRC]=Hi,xo[W.SHAPES.ELIP]=Hi,xo[W.SHAPES.RECT]=ss,xo[W.SHAPES.RREC]=L,xo),Aa=[],Ca=[],Oa={buildPoly:pa,buildCircle:Hi,buildRectangle:ss,buildRoundedRectangle:L,FILL_COMMANDS:Ia,BATCH_POOL:Aa,DRAW_CALL_POOL:Ca,buildLine:ga,Star:Ta,ArcUtils:Pa,BezierUtils:wa,QuadraticUtils:Ea,BatchPart:Sa},La=(Wa.prototype.clone=function(){return new Wa(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Wa.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},Wa),Ma=new fe,Da=new Ne,Ra=(ca(ja,xa=oo),Object.defineProperty(ja.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),ja.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ca.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Aa.push(e)}this.batches.length=0},ja.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},ja.prototype.drawShape=function(t,e,i,r){r=new La(t,e=void 0===e?null:e,i=void 0===i?null:i,r=void 0===r?null:r);return this.graphicsData.push(r),this.dirty++,this},ja.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;t=new La(t,null,null,e=void 0===e?null:e),e=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=e.lineStyle,e.holes.push(t),this.dirty++,this},ja.prototype.destroy=function(){xa.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},ja.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Ma):Ma.copyFrom(t),r.shape.contains(Ma.x,Ma.y))){var n=!1;if(r.holes)for(var s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Ma.x,Ma.y)){n=!0;break}if(!n)return!0}}return!1},ja.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,n=null;0<this.batches.length&&(n=(r=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var o=i[s],a=o.fillStyle,h=o.lineStyle;Ia[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var u=0;u<2;u++){var l,c,p,d=0===u?a:h;d.visible&&(p=d.texture.baseTexture,l=this.indices.length,c=this.points.length/2,p.wrapMode=W.WRAP_MODES.REPEAT,0===u?this.processFill(o):this.processLine(o),0!=(p=this.points.length/2-c)&&(r&&!this._compareStyles(n,d)&&(r.end(l,c),r=null),r||((r=Aa.pop()||new Sa).begin(d,l,c),this.batches.push(r),n=d),this.addUvs(this.points,e,d.texture,c,p,d.matrix)))}}var f=this.indices.length,_=this.points.length/2;r&&r.end(f,_),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=new(65535<_&&t?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},ja.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},ja.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,i=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},ja.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var s=r.start+n;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}},ja.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*ja.BATCHABLE_SIZE},ja.prototype.buildDrawCalls=function(){for(var t=++Gi._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ca.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=Ca.pop();n||((n=new eo).texArray=new io),n.texArray.count=0,n.start=0,n.size=0,n.type=W.DRAW_MODES.TRIANGLES;var s,o=0,a=null,h=!1,u=W.DRAW_MODES.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],p=c.style,d=p.texture.baseTexture;h!==!!p.native&&(u=(h=!!p.native)?W.DRAW_MODES.LINES:W.DRAW_MODES.TRIANGLES,a=null,o=8,t++),a!==d&&((a=d)._batchEnabled!==t&&(8===o&&(t++,(o=0)<n.size&&((n=Ca.pop())||((n=new eo).texArray=new io),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=10497,n.texArray.elements[n.texArray.count++]=d,o++)),n.size+=c.size,l+=c.size,s=d._batchLocation,this.addColors(i,p.color,p.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,s,c.attribSize,c.attribStart)}Gi._globalBatch=t,this.packAttributes()},ja.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),s=new Float32Array(n),o=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)s[a++]=t[2*h],s[a++]=t[2*h+1],s[a++]=e[2*h],s[a++]=e[2*h+1],o[a++]=i[h],s[a++]=r[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},ja.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),pa.triangulate(t,this)):Ia[t.type].triangulate(t,this)},ja.prototype.processLine=function(t){ga(t,this);for(var e=0;e<t.holes.length;e++)ga(t.holes[e],this)},ja.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];Ia[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},ja.prototype.calculateBounds=function(){var t=this._bounds,e=Da,i=me.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],s=n.shape,o=n.type,a=n.lineStyle,h=n.matrix||me.IDENTITY,u=0;a&&a.visible&&(n=a.alignment,u=a.width,o===W.SHAPES.POLY?u*=.5+Math.abs(.5-n):u*=Math.max(0,n)),i!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=h),o===W.SHAPES.RECT||o===W.SHAPES.RREC?e.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,u,u):o===W.SHAPES.CIRC?e.addFramePad(s.x,s.y,s.x,s.y,s.radius+u,s.radius+u):o===W.SHAPES.ELIP?e.addFramePad(s.x,s.y,s.x,s.y,s.width+u,s.height+u):t.addVerticesMatrix(i,s.points,0,s.points.length,u,u)}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},ja.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},ja.prototype.addColors=function(t,e,i,r,n){void 0===n&&(n=0);var s=Nt((e>>16)+(65280&e)+((255&e)<<16),i);t.length=Math.max(t.length,n+r);for(var o=0;o<r;o++)t[n+o]=s},ja.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var n=0;n<i;n++)t[r+n]=e},ja.prototype.addUvs=function(t,e,i,r,n,s){void 0===s&&(s=null);for(var o=0,a=e.length,h=i.frame;o<n;){var u,l=t[2*(r+o)],c=t[2*(r+o)+1];s&&(u=s.a*l+s.c*c+s.tx,c=s.b*l+s.d*c+s.ty,l=u),o++,e.push(l/h.width,c/h.height)}var p=i.baseTexture;(h.width<p.width||h.height<p.height)&&this.adjustUvs(e,i,a,n)},ja.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,s=i+2*r,e=e.frame,o=e.width/n.width,a=e.height/n.height,h=e.x/e.width,u=e.y/e.height,l=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),p=i+2;p<s;p+=2)l=Math.min(l,Math.floor(t[p]+1e-6)),c=Math.min(c,Math.floor(t[p+1]+1e-6));for(h-=l,u-=c,p=i;p<s;p+=2)t[p]=(t[p]+h)*o,t[p+1]=(t[p+1]+u)*a},ja.BATCHABLE_SIZE=100,ja),Na=(ca(Xa,va=ha),Xa.prototype.clone=function(){var t=new Xa;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},Xa.prototype.reset=function(){va.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},Xa),Ba=new Float32Array(3),ka={},Fa=(ca(Ua,ya=Ye),Object.defineProperty(Ua.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),Ua.prototype.clone=function(){return this.finishPoly(),new Ua(this._geometry)},Object.defineProperty(Ua.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ua.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ua.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(Ua.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),Ua.prototype.lineStyle=function(t){var e;return"number"==typeof(t=void 0===t?null:t)&&(t={width:(e=arguments)[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}),this.lineTextureStyle(t)},Ua.prototype.lineTextureStyle=function(e){"number"==typeof e&&(Vt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle"),e={width:(t=arguments)[0],texture:t[1],color:t[2],alpha:t[3],matrix:t[4],alignment:t[5],native:t[6]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({width:0,texture:fr.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:W.LINE_CAP.BUTT,join:W.LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=0<e.width&&0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},Ua.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new pe,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new pe,this.currentPath.closeStroke=!1)},Ua.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},Ua.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},Ua.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},Ua.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},Ua.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Ea.curveTo(t,e,i,r,n),this},Ua.prototype.bezierCurveTo=function(t,e,i,r,n,s){return this._initCurve(),wa.curveTo(t,e,i,r,n,s,this.currentPath.points),this},Ua.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var s=this.currentPath.points,t=Pa.curveTo(t,e,i,r,n,s);return t&&(e=t.cx,i=t.cy,r=t.radius,n=t.startAngle,s=t.endAngle,t=t.anticlockwise,this.arc(e,i,r,n,s,t)),this},Ua.prototype.arc=function(t,e,i,r,n,s){if(r===n)return this;if(!(s=void 0===s?!1:s)&&n<=r?n+=oe:s&&r<=n&&(r+=oe),0==n-r)return this;var o,a,h=t+Math.cos(r)*i,u=e+Math.sin(r)*i,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(o=Math.abs(c[c.length-2]-h),a=Math.abs(c[c.length-1]-u),o<l&&a<l||c.push(h,u)):(this.moveTo(h,u),c=this.currentPath.points),Pa.arc(h,u,t,e,i,r,n,s,c),this},Ua.prototype.beginFill=function(t,e){return this.beginTextureFill({texture:fr.WHITE,color:t=void 0===t?0:t,alpha:e=void 0===e?1:e})},Ua.prototype.beginTextureFill=function(e){e instanceof fr&&(Vt("v5.2.0","Please use object-based options for Graphics#beginTextureFill"),e={texture:(t=arguments)[0],color:t[1],alpha:t[2],matrix:t[3]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({texture:fr.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},Ua.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},Ua.prototype.drawRect=function(t,e,i,r){return this.drawShape(new ue(t,e,i,r))},Ua.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new de(t,e,i,r,n))},Ua.prototype.drawCircle=function(t,e,i){return this.drawShape(new le(t,e,i))},Ua.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new ce(t,e,i,r))},Ua.prototype.drawPolygon=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=!0,n=e[0],n=n.points?(r=n.closeStroke,n.points):Array.isArray(e[0])?e[0]:e,n=new pe(n);return n.closeStroke=r,this.drawShape(n),this},Ua.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},Ua.prototype.drawStar=function(t,e,i,r,n,s){return this.drawPolygon(new Ta(t,e,i,r,n,s=void 0===s?0:s))},Ua.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},Ua.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===W.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},Ua.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},Ua.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],s=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),n={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:Ct(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=n}},Ua.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},Ua.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*n,s.tint[1]=(r>>8&255)/255*n,s.tint[2]=(255&r)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},Ua.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,e=e.start,s=i.count,o=0;o<s;o++)t.texture.bind(i.elements[o],o);t.geometry.draw(r,n,e)},Ua.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!ka[i]){for(var r=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(r),s=0;s<r;s++)n[s]=s;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new me,default:Vr.from({uSamplers:n},!0)},t=t.plugins[i]._shader.program;ka[i]=new Qn(t,o)}e=ka[i]}return e},Ua.prototype._calculateBounds=function(){this.finishPoly();var t,e,i,r=this._geometry;r.graphicsData.length&&(t=(i=r.bounds).minX,e=i.minY,r=i.maxX,i=i.maxY,this._bounds.addFrame(this.transform,t,e,r,i))},Ua.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,Ua._TEMP_POINT),this._geometry.containsPoint(Ua._TEMP_POINT)},Ua.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Ct(this.tint,Ba),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,r=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},Ua.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,s=t.tx,o=t.ty,a=this._geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],p=a[l+1];h[u++]=e*c+r*p+s,h[u++]=n*p+i*c+o}}},Ua.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},Ua.prototype.setMatrix=function(t){return this._matrix=t,this},Ua.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},Ua.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},Ua.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,ya.prototype.destroy.call(this,t)},Ua._TEMP_POINT=new fe,Ua),Ga=function(t,e){return(Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Ua(t){void 0===t&&(t=null);var e=ya.call(this)||this;return e._geometry=t||new Ra,e._geometry.refCount++,e.shader=null,e.state=Jn.for2d(),e._fillStyle=new ha,e._lineStyle=new Na,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=W.BLEND_MODES.NORMAL,e}function Xa(){var t=null!==va&&va.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=W.LINE_CAP.BUTT,t.join=W.LINE_JOIN.MITER,t.miterLimit=10,t}function ja(){var t=xa.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Ne,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}function Wa(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}function za(){this.reset()}function Ha(){}function qa(){}function Ya(){}function Va(t,e,i,r,n,s){void 0===s&&(s=0),n=n||r/2;for(var o=-1*Math.PI/2+s,a=2*i,h=oe/a,u=[],l=0;l<a;l++){var c=l%2?n:r,p=l*h+o;u.push(t+c*Math.cos(p),e+c*Math.sin(p))}return ba.call(this,u)||this}var $a,Za,Ka=new fe,Qa=new Uint16Array([0,1,2,0,2,3]),Ja=(Ga(Za=eh,Hh=$a=Ye),Za.prototype=null===Hh?Object.create(Hh):(ih.prototype=Hh.prototype,new ih),eh.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=zt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=zt(this.scale.y)*this._height/this._texture.orig.height)},eh.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},eh.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,p=0,d=0,e=0,t=0,e=u?(p=(d=u.x-c._x*l.width)+u.width,(t=u.y-c._y*l.height)+u.height):(p=(d=-c._x*l.width)+l.width,(t=-c._y*l.height)+l.height);if(h[0]=i*d+n*t+o,h[1]=s*t+r*d+a,h[2]=i*p+n*t+o,h[3]=s*t+r*p+a,h[4]=i*p+n*e+o,h[5]=s*e+r*p+a,h[6]=i*d+n*e+o,h[7]=s*e+r*d+a,this._roundPixels)for(var f=O.RESOLUTION,_=0;_<h.length;++_)h[_]=Math.round((h[_]*f|0)/f)}},eh.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,t=-r._x*i.width,n=t+i.width,r=-r._y*i.height,i=r+i.height;e[0]=s*t+a*r+u,e[1]=h*r+o*t+l,e[2]=s*n+a*r+u,e[3]=h*r+o*n+l,e[4]=s*n+a*i+u,e[5]=h*i+o*n+l,e[6]=s*t+a*i+u,e[7]=h*i+o*t+l},eh.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},eh.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},eh.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new ue),t=this._localBoundsRect),this._bounds.getRectangle(t)):$a.prototype.getLocalBounds.call(this,t)},eh.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Ka);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,t=0;return Ka.x>=r&&Ka.x<r+e&&(t=-i*this.anchor.y,Ka.y>=t&&Ka.y<t+i)},eh.prototype.destroy=function(t){$a.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},eh.from=function(t,e){return new eh(t instanceof fr?t:fr.from(t,e))},Object.defineProperty(eh.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=zt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=zt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||fr.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),eh),th=function(t,e){return(th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function eh(t){var e=$a.call(this)||this;return e._anchor=new _e(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=W.BLEND_MODES.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||fr.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=Qa,e.pluginName="batch",e.isSprite=!0,e._roundPixels=O.ROUND_PIXELS,e}function ih(){this.constructor=Za}(n=W.TEXT_GRADIENT||(W.TEXT_GRADIENT={}))[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var rh={align:"left",breakWords:!(n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:W.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},nh=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],sh=(oh.prototype.clone=function(){var t={};return uh(t,this,rh),new oh(t)},oh.prototype.reset=function(){uh(this,rh,rh)},Object.defineProperty(oh.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=hh(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fill",{get:function(){return this._fill},set:function(t){t=hh(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(Array.isArray(t)&&Array.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;++i)if(t[i]!==e[i])return;return 1}}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=hh(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),oh.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,i=(e=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):e).length-1;0<=i;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&nh.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},oh);function oh(t){this.styleID=0,this.reset(),uh(this,t,t)}function ah(t){return"number"==typeof t?Ot(t):t="string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function hh(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=ah(t[e]);return t}return ah(t)}function uh(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var lh=(ch.measureText=function(t,e,i,r){void 0===r&&(r=ch._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),s=ch.measureFont(n);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=r.getContext("2d");o.font=n;for(var a=(i?ch.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=o.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}n=u+e.strokeThickness;e.dropShadow&&(n+=e.dropShadowDistance);i=e.lineHeight||s.fontSize+e.strokeThickness,r=Math.max(i,s.fontSize+e.strokeThickness)+(a.length-1)*(i+e.leading);return e.dropShadow&&(r+=e.dropShadowDistance),new ch(t,e,n,r,a,h,i+e.leading,u,s)},ch.wordWrap=function(t,e,i){for(var r=(i=void 0===i?ch._canvas:i).getContext("2d"),n=0,s="",o="",a=Object.create(null),h=e.letterSpacing,i=e.whiteSpace,u=ch.collapseSpaces(i),l=ch.collapseNewlines(i),c=!u,p=e.wordWrapWidth+h,d=ch.tokenize(t),f=0;f<d.length;f++){var _=d[f];if(ch.isNewline(_)){if(!l){o+=ch.addLine(s),c=!u,s="",n=0;continue}_=" "}if(u){var m=ch.isBreakingSpace(_),g=ch.isBreakingSpace(s[s.length-1]);if(m&&g)continue}m=ch.getFromCache(_,h,a,r);if(p<m)if(""!==s&&(o+=ch.addLine(s),s="",n=0),ch.canBreakWords(_,e.breakWords))for(var y=ch.wordWrapSplit(_),v=0;v<y.length;v++){for(var x=y[v],b=1;y[v+b];){var T=y[v+b],P=x[x.length-1];if(ch.canBreakChars(P,T,_,v,e.breakWords))break;x+=T,b++}v+=x.length-1;var w=ch.getFromCache(x,h,a,r);p<w+n&&(o+=ch.addLine(s),c=!1,s="",n=0),s+=x,n+=w}else{0<s.length&&(o+=ch.addLine(s),s="",n=0);g=f===d.length-1;o+=ch.addLine(_,!g),c=!1,s="",n=0}else p<m+n&&(c=!1,o+=ch.addLine(s),s="",n=0),(0<s.length||!ch.isBreakingSpace(_)||c)&&(s+=_,n+=m)}return o+ch.addLine(s,!1)},ch.addLine=function(t,e){return void 0===e&&(e=!0),t=ch.trimRight(t),e?t+"\n":t},ch.getFromCache=function(t,e,i,r){var n=i[t];return"number"!=typeof n&&(e=t.length*e,n=r.measureText(t).width+e,i[t]=n),n},ch.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},ch.collapseNewlines=function(t){return"normal"===t},ch.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var i=t[e];if(!ch.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},ch.isNewline=function(t){return"string"==typeof t&&0<=ch._newlines.indexOf(t.charCodeAt(0))},ch.isBreakingSpace=function(t){return"string"==typeof t&&0<=ch._breakingSpaces.indexOf(t.charCodeAt(0))},ch.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];ch.isBreakingSpace(n)||ch.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},ch.canBreakWords=function(t,e){return e},ch.canBreakChars=function(t,e,i,r,n){return!0},ch.wordWrapSplit=function(t){return t.split("")},ch.measureFont=function(t){if(ch._fonts[t])return ch._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=ch._canvas,r=ch._context;r.font=t;var n=ch.METRICS_STRING+ch.BASELINE_SYMBOL,s=Math.ceil(r.measureText(n).width),o=2*(a=Math.ceil(r.measureText(ch.BASELINE_SYMBOL).width)),a=a*ch.BASELINE_MULTIPLIER|0;i.width=s,i.height=o,r.fillStyle="#f00",r.fillRect(0,0,s,o),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,a);for(var h=r.getImageData(0,0,s,o).data,r=h.length,u=4*s,l=0,c=0,p=!1,l=0;l<a;++l){for(var d=0;d<u;d+=4)if(255!==h[c+d]){p=!0;break}if(p)break;c+=u}for(e.ascent=a-l,c=r-u,p=!1,l=o;a<l;--l){for(d=0;d<u;d+=4)if(255!==h[c+d]){p=!0;break}if(p)break;c-=u}return e.descent=l-a,e.fontSize=e.ascent+e.descent,ch._fonts[t]=e},ch.clearMetrics=function(t){(t=void 0===t?"":t)?delete ch._fonts[t]:ch._fonts={}},ch),Uo=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();function ch(t,e,i,r,n,s,o,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=h}Uo.width=Uo.height=10,lh._canvas=Uo,lh._context=Uo.getContext("2d"),lh._fonts={},lh.METRICS_STRING="|ÉqÅ",lh.BASELINE_SYMBOL="M",lh.BASELINE_MULTIPLIER=1.4,lh._newlines=[10,13];var ph,dh,fh={texture:!0,children:!(lh._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},_h=(th(dh=mh,Wi=ph=Ja),dh.prototype=null===Wi?Object.create(Wi):(gh.prototype=Wi.prototype,new gh),mh.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,s=lh.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=s.width,o=s.height,a=s.lines,h=s.lineHeight,u=s.lineWidths,l=s.maxLineWidth,c=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,d=0;d<p;++d){var f=e.dropShadow&&0===d,_=f?Math.ceil(Math.max(1,o)+2*e.padding):0,m=_*this._resolution;f?(n.fillStyle="black",n.strokeStyle="black",f=Ct("number"==typeof(f=e.dropShadowColor)?f:Lt(f)),n.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m):(n.fillStyle=this._generateFillStyle(e,a,s),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);for(var g=0;g<a.length;g++)i=e.strokeThickness/2,r=e.strokeThickness/2+g*h+c.ascent,"right"===e.align?i+=l-u[g]:"center"===e.align&&(i+=(l-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[g],i+e.padding,r+e.padding-_,!0),e.fill&&this.drawLetterSpacing(a[g],i+e.padding,r+e.padding-_)}this.updateTexture()}},mh.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var s,o=e,a=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,u=0;u<a.length;++u){var l=a[u];r?this.context.strokeText(l,o,i):this.context.fillText(l,o,i),o+=h-(s=this.context.measureText(t.substring(u+1)).width)+n,h=s}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},mh.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(r=te(t)).data&&(t.width=r.width,t.height=r.height,this.context.putImageData(r.data,0,0));var e=this._texture,i=this._style,r=i.trim?0:i.padding,i=e.baseTexture;e.trim.width=e._frame.width=Math.ceil(t.width/this._resolution),e.trim.height=e._frame.height=Math.ceil(t.height/this._resolution),e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-2*r,e.orig.height=e._frame.height-2*r,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},mh.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),ph.prototype._render.call(this,t)},mh.prototype.getLocalBounds=function(t){return this.updateText(!0),ph.prototype.getLocalBounds.call(this,t)},mh.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},mh.prototype._generateFillStyle=function(t,e,i){var r=t.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var n=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,o=Math.ceil(this.canvas.width/this._resolution)-n-2*s,a=Math.ceil(this.canvas.height/this._resolution)-n-2*s,h=r.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(r[0]),u.unshift(0),h.push(r[r.length-1]),u.push(1),t.fillGradientType===W.TEXT_GRADIENT.LINEAR_VERTICAL)for(var p=this.context.createLinearGradient(o/2,s,o/2,a+s),d=0,f=(i.fontProperties.fontSize+t.strokeThickness)/a,c=0;c<e.length;c++)for(var _=i.lineHeight*c,m=0;m<h.length;m++){var g=_/a+("number"==typeof u[m]?u[m]:m/h.length)*f,g=Math.max(d,g),g=Math.min(g,1);p.addColorStop(g,h[m]),d=g}else{p=this.context.createLinearGradient(s,a/2,o+s,a/2);var y=h.length+1,v=1;for(c=0;c<h.length;c++){var x="number"==typeof u[c]?u[c]:v/y;p.addColorStop(x,h[c]),v++}}return p},mh.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},fh,t),ph.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(mh.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=zt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=zt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"style",{get:function(){return this._style},set:function(t){this._style=(t=t||{})instanceof sh?t:new sh(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),mh);function mh(t,e,i){var r=this,n=!1;i||(i=document.createElement("canvas"),n=!0),i.width=3,i.height=3;var s=fr.from(i);return s.orig=new ue,s.trim=new ue,(r=ph.call(this,s)||this)._ownCanvas=n,r.canvas=i,r.context=r.canvas.getContext("2d"),r._resolution=O.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=t,r.style=e,r.localStyleID=-1,r}function gh(){this.constructor=dh}O.UPLOADS_PER_FRAME=4;var yh=function(t,e){return(yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},vh=(xh.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},xh.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},xh);function xh(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function bh(t,e){var i,r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)t._textures[n]instanceof fr&&(i=t._textures[n].baseTexture,-1===e.indexOf(i)&&(e.push(i),r=!0));return r}function Th(t,e){if(t.baseTexture instanceof Gi){t=t.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Ph(t,e){if(t._texture&&t._texture instanceof fr){t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function wh(t,e){return e instanceof _h&&(e.updateText(!0),!0)}function Eh(t,e){if(e instanceof sh){e=e.toFontString();return lh.measureFont(e),!0}return!1}function Sh(t,e){if(t instanceof _h){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Ih(t,e){return t instanceof sh&&(-1===e.indexOf(t)&&e.push(t),!0)}Ah.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Je.system.addOnce(this.tick,this,W.UPDATE_PRIORITY.UTILITY))):e&&e()},Ah.prototype.tick=function(){setTimeout(this.delayedTick,0)},Ah.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Je.system.addOnce(this.tick,this,W.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),i=this.completes.length=0,r=n.length;i<r;i++)n[i]()}},Ah.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},Ah.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},Ah.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ye)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},Ah.prototype.destroy=function(){this.ticking&&Je.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},zi=Ah;function Ah(t){var e=this;this.limiter=new vh(O.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Sh),this.registerFindHook(Ih),this.registerFindHook(bh),this.registerFindHook(Th),this.registerFindHook(Ph),this.registerUploadHook(wh),this.registerUploadHook(Eh)}function Ch(t,e){return e instanceof Gi&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Oh(t,e){if(!(e instanceof Fa))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var s=r[n].style.texture;s&&Ch(t,s.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function Lh(t,e){return t instanceof Fa&&(e.push(t),!0)}var Mh,Dh,Hi=(yh(Dh=Gh,xo=Mh=zi),Dh.prototype=null===xo?Object.create(xo):(Uh.prototype=xo.prototype,new Uh),Gh),ss=(Fh.prototype.beginFrame=function(){this.frameStart=Date.now()},Fh.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},Fh),Rh=(kh.prototype._updateResolution=function(t){var e=this.data.meta.scale,t=ne(t=void 0===t?null:t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&this.baseTexture.setResolution(t),t},kh.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=kh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},kh.prototype._processFrames=function(t){for(var e=t,i=kh.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r,n,s,o=this._frameKeys[e],a=this._frames[o],h=a.frame;h&&(r=s=null,n=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,n=new ue(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),s=a.rotated?new ue(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new ue(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(r=new ue(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new fr(this.baseTexture,s,n,r,a.rotated?2:0,a.anchor),fr.addToCache(this.textures[o],o)),e++}},kh.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var i=0;i<e[t].length;i++){var r=e[t][i];this.animations[t].push(this.textures[r])}}},kh.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},kh.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*kh.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*kh.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},kh.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},kh.BATCH_SIZE=1e3,kh),L=(Bh.use=function(i,r){var t,e,n=i.name+"_image";i.data&&i.type===qo.TYPE.JSON&&i.data.frames&&!this.resources[n]?(t={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},e=Bh.getResourcePath(i,this.baseUrl),this.add(n,e,t,function(t){var e;t.error?r(t.error):(e=new Rh(t.texture,i.data,i.url)).parse(function(){i.spritesheet=e,i.textures=e.textures,r()})})):r()},Bh.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:wt.resolve(t.url.replace(e,""),t.data.meta.image)},Bh),Nh=function(t,e){return(Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Bh(){}function kh(t,e,i){void 0===i&&(i=null),this._texture=t instanceof fr?t:null,this.baseTexture=t instanceof Gi?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(i||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}function Fh(t){this.maxMilliseconds=t,this.frameStart=0}function Gh(t){t=Mh.call(this,t)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(Lh),t.registerUploadHook(Ch),t.registerUploadHook(Oh),t}function Uh(){this.constructor=Dh}function Xh(t,e){function i(){this.constructor=t}Nh(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var jh,Wh,zh=new fe,Hh=(Xh(Zh,Wh=Ja),Object.defineProperty(Zh.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Zh.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},Zh.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},Zh.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},Zh.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new ue),t=this._localBoundsRect),this._bounds.getRectangle(t)):Wh.prototype.getLocalBounds.call(this,t)},Zh.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,zh);var e=this._width,i=this._height,t=-e*this.anchor._x;if(zh.x>=t&&zh.x<t+e){e=-i*this.anchor._y;if(zh.y>=e&&zh.y<e+i)return!0}return!1},Zh.prototype.destroy=function(t){Wh.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},Zh.from=function(t,e){return"number"==typeof e&&(Vt("5.3.0","TilingSprite.from use options instead of width and height args"),e={width:e,height:arguments[2]}),new Zh(fr.from(t,e),e.width,e.height)},Object.defineProperty(Zh.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Zh.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),Zh),qh="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Yh=new me,n=(Xh($h,jh=Kr),$h.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,s=n.baseTexture,o=t.tileTransform.localTransform,a=t.uvMatrix,h=s.isPowerOfTwo&&n.frame.width===s.width&&n.frame.height===s.height;h&&(s._glTextures[e.CONTEXT_UID]?h=s.wrapMode!==W.WRAP_MODES.CLAMP:s.wrapMode===W.WRAP_MODES.CLAMP&&(s.wrapMode=W.WRAP_MODES.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,p=t._width,r=t._height;Yh.set(o.a*l/p,o.b*l/r,o.c*c/p,o.d*c/r,o.tx/p,o.ty/r),Yh.invert(),h?Yh.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Yh.toArray(!0),u.uniforms.uColor=Bt(t.tint,t.worldAlpha,u.uniforms.uColor,s.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),this.state.blendMode=Dt(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},$h),Vh=function(t,e){return(Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function $h(t){var e=jh.call(this,t)||this,t={globals:e.renderer.globalUniforms};return e.shader=Qn.from(qh,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",t),e.simpleShader=Qn.from(qh,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",t),e.quad=new qr,e.state=Jn.for2d(),e}function Zh(t,e,i){void 0===e&&(e=100),void 0===i&&(i=100);var r=Wh.call(this,t)||this;return r.tileTransform=new De,r._width=e,r._height=i,r.uvMatrix=r.texture.uvMatrix||new is(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}function Kh(t,e){function i(){this.constructor=t}Vh(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Qh,Jh,tu,eu=(cu.prototype.update=function(t){!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},cu),iu=new fe,ru=new pe,nu=(Kh(lu,tu=Ye),Object.defineProperty(lu.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),lu.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===W.DRAW_MODES.TRIANGLES&&e.length<2*lu.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},lu.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},lu.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;e=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[e]),t.plugins[e].render(this)},lu.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,s=i.c,o=i.d,a=i.tx,h=i.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],p=e[2*l+1];u[2*l]=r*c+s*p+a,u[2*l+1]=n*c+o*p+h}if(this._roundPixels)for(var d=O.RESOLUTION,l=0;l<u.length;++l)u[l]=Math.round((u[l]*d|0)/d);this.vertexDirty=t.vertexDirtyId}},lu.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new eu(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},lu.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},lu.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,iu);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=ru.points,r=this.geometry.getIndex().data,n=r.length,s=4===this.drawMode?3:1,o=0;o+2<n;o+=s){var a=2*r[o],h=2*r[o+1],u=2*r[o+2];if(i[0]=e[a],i[1]=e[1+a],i[2]=e[h],i[3]=e[1+h],i[4]=e[u],i[5]=e[1+u],ru.contains(iu.x,iu.y))return!0}return!1},lu.prototype.destroy=function(t){tu.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},lu.BATCHABLE_SIZE=100,lu),su=(Kh(uu,Jh=Qn),Object.defineProperty(uu.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),uu.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,Bt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},uu),ou=(Kh(hu,Qh=zr),Object.defineProperty(hu.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),hu),au=function(t,e){return(au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function hu(t,e,i){var r=Qh.call(this)||this,t=new Ir(t),e=new Ir(e,!0),i=new Ir(i,!0,!0);return r.addAttribute("aVertexPosition",t,2,!1,W.TYPES.FLOAT).addAttribute("aTextureCoord",e,2,!1,W.TYPES.FLOAT).addIndex(i),r._updateId=-1,r}function uu(t,e){var i=this,r={uSampler:t,alpha:1,uTextureMatrix:me.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(r,e.uniforms),(i=Jh.call(this,e.program||Kn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r)||this)._colorDirty=!1,i.uvMatrix=new is(t),i.batchable=void 0===e.program,i.pluginName=e.pluginName,i.tint=e.tint,i.alpha=e.alpha,i}function lu(t,e,i,r){void 0===r&&(r=W.DRAW_MODES.TRIANGLES);var n=tu.call(this)||this;return(n.geometry=t).refCount++,n.shader=e,n.state=i||Jn.for2d(),n.drawMode=r,n.start=0,n.size=0,n.uvs=null,n.indices=null,n.vertexData=new Float32Array(1),n.vertexDirty=0,n._transformID=-1,n._roundPixels=O.ROUND_PIXELS,n.batchUvs=null,n}function cu(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var pu=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Uo=(gu.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},gu.parse=function(t){var e,i=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(e in i){var n,s=i[e].match(/^[a-z]+/gm)[0],o=i[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(n in o){var h=o[n].split("="),u=h[0],l=h[1].replace(/"/gm,""),h=parseFloat(l),h=isNaN(h)?l:h;a[u]=h}r[s].push(a)}var c=new pu;return r.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),r.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),r.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),r.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),r.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),c},gu),du=(mu.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},mu.parse=function(t){for(var e=new pu,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),a=0;a<i.length;a++)e.info.push({face:i[a].getAttribute("face"),size:parseInt(i[a].getAttribute("size"),10)});for(a=0;a<r.length;a++)e.common.push({lineHeight:parseInt(r[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<s.length;a++){var h=s[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<o.length;a++)e.kerning.push({first:parseInt(o[a].getAttribute("first"),10),second:parseInt(o[a].getAttribute("second"),10),amount:parseInt(o[a].getAttribute("amount"),10)});return e},mu),Wi=(_u.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return du.test(t)}return!1},_u.parse=function(t){t=(new window.DOMParser).parseFromString(t,"text/xml");return du.parse(t)},_u),fu=[Uo,du,Wi];function _u(){}function mu(){}function gu(){}function yu(t){for(var e=0;e<fu.length;e++)if(fu[e].test(t))return fu[e];return null}function vu(t,e,i,r,n,s){var o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a=i.dropShadow?i.dropShadowDistance:0,h=i.padding||0,u=Math.ceil(t.width/r)-a-2*h,l=Math.ceil(t.height/r)-a-2*h,c=o.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var d=c.length+1,f=1;f<d;++f)p.push(f/d);if(c.unshift(o[0]),p.unshift(0),c.push(o[o.length-1]),p.push(1),i.fillGradientType===W.TEXT_GRADIENT.LINEAR_VERTICAL)for(var _=e.createLinearGradient(u/2,h,u/2,l+h),m=0,g=(s.fontProperties.fontSize+i.strokeThickness)/l,f=0;f<n.length;f++)for(var y=s.lineHeight*f,v=0;v<c.length;v++){var x=y/l+("number"==typeof p[v]?p[v]:v/c.length)*g,x=Math.max(m,x),x=Math.min(x,1);_.addColorStop(x,c[v]),m=x}else{_=e.createLinearGradient(h,l/2,u+h,l/2);var b=c.length+1,T=1;for(f=0;f<c.length;f++){var P="number"==typeof p[f]?p[f]:T/b;_.addColorStop(P,c[f]),T++}}return _}var xu,bu,Tu=(Cu.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},Cu.install=function(t,e,i){var r;if(t instanceof pu)r=t;else{var n=yu(t);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(t)}i=new Cu(r,e=e instanceof fr?[e]:e,i);return Cu.available[i.font]=i},Cu.uninstall=function(t){var e=Cu.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete Cu.available[t]},Cu.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},Cu.defaultOptions,i),u=i.chars,r=i.padding,n=i.resolution,s=i.textureWidth,o=i.textureHeight,a=function(t){for(var e=[],i=0,r=(t="string"==typeof u?[u]:u).length;i<r;i++){var n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,h=o;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(u),h=e instanceof sh?e:new sh(e),l=s,c=new pu;c.info[0]={face:h.fontFamily,size:h.fontSize},c.common[0]={lineHeight:h.fontSize};for(var p,d,f,_,m,g,y,v,x,b,T,P,w=0,E=0,S=0,I=[],A=0;A<a.length;A++){p||((p=document.createElement("canvas")).width=s,p.height=o,d=p.getContext("2d"),f=new Gi(p,{resolution:n}),I.push(new fr(f)),c.page.push({id:I.length-1,file:""}));var C=lh.measureText(a[A],h,!1,p),O=C.width,L=Math.ceil(C.height),M=Math.ceil(("italic"===h.fontStyle?2:1)*O);if(o-L*n<=E){if(0===E)throw new Error("[BitmapFont] textureHeight "+o+"px is too small for "+h.fontSize+"px fonts");--A,f=d=p=null,S=w=E=0}else S=Math.max(L+C.fontProperties.descent,S),l<=M*n+w?(--A,E+=S*n,E=Math.ceil(E),S=w=0):(_=p,m=d,y=w,v=E,x=n,b=h,P=T=void 0,T=(g=C).text,P=g.fontProperties,m.translate(y,v),m.scale(x,x),y=b.strokeThickness/2,v=-b.strokeThickness/2,m.font=b.toFontString(),m.lineWidth=b.strokeThickness,m.textBaseline=b.textBaseline,m.lineJoin=b.lineJoin,m.miterLimit=b.miterLimit,m.fillStyle=vu(_,m,b,x,[T],g),m.strokeStyle=b.stroke,m.font=b.toFontString(),m.lineWidth=b.strokeThickness,m.textBaseline=b.textBaseline,m.lineJoin=b.lineJoin,m.miterLimit=b.miterLimit,m.fillStyle=vu(_,m,b,x,[T],g),m.strokeStyle=b.stroke,x=Ct("number"==typeof(x=b.dropShadowColor)?x:Lt(x)),b.dropShadow?(m.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+b.dropShadowAlpha+")",m.shadowBlur=b.dropShadowBlur,m.shadowOffsetX=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,m.shadowOffsetY=Math.sin(b.dropShadowAngle)*b.dropShadowDistance):(m.shadowColor="black",m.shadowBlur=0,m.shadowOffsetX=0,m.shadowOffsetY=0),b.stroke&&b.strokeThickness&&m.strokeText(T,y,v+g.lineHeight-P.descent),b.fill&&m.fillText(T,y,v+g.lineHeight-P.descent),m.setTransform(1,0,0,1,0,0),m.fillStyle="rgba(0, 0, 0, 0)",C=C.text.charCodeAt(0),c.char.push({id:C,page:I.length-1,x:w/n,y:E/n,width:M,height:L,xoffset:0,yoffset:0,xadvance:Math.ceil(O-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),w+=(M+2*r)*n,w=Math.ceil(w))}e=new Cu(c,I,!0);return void 0!==Cu.available[t]&&Cu.uninstall(t),Cu.available[t]=e},Cu.ALPHA=[["a","z"],["A","Z"]," "],Cu.NUMERIC=[["0","9"]],Cu.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Cu.ASCII=[[" ","~"]],Cu.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Cu.ALPHANUMERIC},Cu.available={},Cu),Pu=[],wu=[],Uo=(au(bu=Iu,xo=xu=Ye),bu.prototype=null===xo?Object.create(xo):(Au.prototype=xo.prototype,new Au),Iu.prototype.updateText=function(){for(var t=Tu.available[this._fontName],e=this._fontSize/t.size,i=new fe,r=[],n=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",o=s.length,a=this._maxWidth*t.size/this._fontSize,h=null,u=0,l=0,c=0,p=-1,d=0,f=0,_=0,m=0;m<o;m++){var g,y,v=s.charCodeAt(m),x=s.charAt(m);/(?:\s)/.test(x)&&(p=m,d=u),"\r"!==x&&"\n"!==x?(g=t.chars[v])&&(h&&g.kerning[h]&&(i.x+=g.kerning[h]),(y=wu.pop()||{texture:fr.EMPTY,line:0,charCode:0,position:new fe}).texture=g.texture,y.line=c,y.charCode=v,y.position.x=i.x+g.xOffset+this._letterSpacing/2,y.position.y=i.y+g.yOffset,r.push(y),i.x+=g.xAdvance+this._letterSpacing,u=i.x,_=Math.max(_,g.yOffset+g.texture.height),h=v,-1!==p&&0<a&&i.x>a&&(Wt(r,1+p-++f,1+m-p),m=p,p=-1,n.push(d),l=Math.max(l,d),c++,i.x=0,i.y+=t.lineHeight,h=null)):(n.push(u),l=Math.max(l,u),++c,++f,i.x=0,i.y+=t.lineHeight,h=null)}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(u=d),n.push(u),l=Math.max(l,u));var T=[];for(m=0;m<=c;m++){var P=0;"right"===this._align?P=l-n[m]:"center"===this._align&&(P=(l-n[m])/2),T.push(P)}var w=r.length,E={},S=[],I=this._activePagesMeshData;for(m=0;m<I.length;m++)Pu.push(I[m]);for(m=0;m<w;m++){var A,C,O=(N=r[m].texture).baseTexture.uid;E[O]||((j=Pu.pop())||(A=new ou,C=new su(fr.EMPTY),j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new nu(A,C),vertices:null,uvs:null,indices:null}),j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,(C=this._textureCache)[O]=C[O]||new fr(N.baseTexture),j.mesh.texture=C[O],j.mesh.tint=this._tint,S.push(j),E[O]=j),E[O].total++}for(m=0;m<I.length;m++)-1===S.indexOf(I[m])&&this.removeChild(I[m].mesh);for(m=0;m<S.length;m++)S[m].mesh.parent!==this&&this.addChild(S[m].mesh);for(m in this._activePagesMeshData=S,E){var L=(j=E[m]).total;if(!((null===(M=j.indices)||void 0===M?void 0:M.length)>6*L)||j.vertices.length<2*nu.BATCHABLE_SIZE)j.vertices=new Float32Array(8*L),j.uvs=new Float32Array(8*L),j.indices=new Uint16Array(6*L);else for(var M=j.total,D=j.vertices,R=4*M*2;R<D.length;R++)D[R]=0;j.mesh.size=6*L}for(m=0;m<w;m++){var N,B=(x=r[m]).position.x+T[x.line],k=(B=this._roundPixels?Math.round(B):B)*e,F=x.position.y*e,G=E[(N=x.texture).baseTexture.uid],U=N.frame,X=N._uvs,B=G.index++;G.indices[6*B+0]=0+4*B,G.indices[6*B+1]=1+4*B,G.indices[6*B+2]=2+4*B,G.indices[6*B+3]=0+4*B,G.indices[6*B+4]=2+4*B,G.indices[6*B+5]=3+4*B,G.vertices[8*B+0]=k,G.vertices[8*B+1]=F,G.vertices[8*B+2]=k+U.width*e,G.vertices[8*B+3]=F,G.vertices[8*B+4]=k+U.width*e,G.vertices[8*B+5]=F+U.height*e,G.vertices[8*B+6]=k,G.vertices[8*B+7]=F+U.height*e,G.uvs[8*B+0]=X.x0,G.uvs[8*B+1]=X.y0,G.uvs[8*B+2]=X.x1,G.uvs[8*B+3]=X.y1,G.uvs[8*B+4]=X.x2,G.uvs[8*B+5]=X.y2,G.uvs[8*B+6]=X.x3,G.uvs[8*B+7]=X.y3}for(m in this._textWidth=l*e,this._textHeight=(i.y+t.lineHeight)*e,E){var j=E[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var W=0,z=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y,q=0;q<j.total;q++)j.vertices[W++]-=z,j.vertices[W++]-=H,j.vertices[W++]-=z,j.vertices[W++]-=H,j.vertices[W++]-=z,j.vertices[W++]-=H,j.vertices[W++]-=z,j.vertices[W++]-=H;this._maxLineHeight=_*e;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),$=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,$.data=j.indices,Y.update(),V.update(),$.update()}for(m=0;m<r.length;m++)wu.push(r[m])},Iu.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},Iu.prototype.getLocalBounds=function(){return this.validate(),xu.prototype.getLocalBounds.call(this)},Iu.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(Iu.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Tu.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Iu.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Iu.prototype._upgradeStyle=function(t){var e;"string"==typeof t.font?(e=t.font.split(" "),t.fontName=1===e.length?e[0]:e.slice(1).join(" "),2<=e.length&&(t.fontSize=parseInt(e[0],10))):(t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10))},Iu.prototype.destroy=function(t){var e,i=this._textureCache;for(e in i)i[e].destroy(),delete i[e];this._textureCache=null,xu.prototype.destroy.call(this,t)},Iu.registerFont=function(t,e){return Vt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Tu.install(t,e)},Object.defineProperty(Iu,"fonts",{get:function(){return Vt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Tu.available},enumerable:!1,configurable:!0}),Iu.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},Iu),Wi=(Su.add=function(){qo.setExtensionXhrType("fnt",qo.XHR_RESPONSE_TYPE.TEXT)},Su.use=function(e,i){var t=yu(e.data);if(t)for(var r=Su.getBaseUrl(this,e),n=t.parse(e.data),s={},o=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===n.page.length&&(e.bitmapFont=Tu.install(n,s,!0),i())},a=0;a<n.page.length;++a){var h,u,l=n.page[a].file,c=r+l,p=!1;for(h in this.resources){var d=this.resources[h];if(d.url===c){d.metadata.pageFile=l,d.texture?o(d):d.onAfterMiddleware.add(o),p=!0;break}}p||(u={crossOrigin:e.crossOrigin,loadType:qo.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e},this.add(c,u,o))}else i()},Su.getBaseUrl=function(t,e){var i=e.isDataUrl?"":Su.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},Su.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},Su),Eu=function(t,e){return(Eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Su(){}function Iu(t,e){void 0===e&&(e={});var i=xu.call(this)||this;i._tint=16777215,e.font&&(Vt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(e));var r=Object.assign({},Iu.styleDefaults,e),n=r.align,s=r.tint,o=r.maxWidth,a=r.letterSpacing,e=r.fontName,r=r.fontSize;if(!Tu.available[e])throw new Error('Missing BitmapFont "'+e+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=n,i._tint=s,i._fontName=e,i._fontSize=r||Tu.available[e].size,i._text=t,i._maxWidth=o,i._maxLineHeight=0,i._letterSpacing=a,i._anchor=new _e(function(){i.dirty=!0},i,0,0),i._roundPixels=O.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}function Au(){this.constructor=bu}function Cu(t,e,i){var r=t.info[0],n=t.common[0],s=ne(t.page[0].file),o={};this._ownsTextures=i,this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/s,this.chars={},this.pageTextures=o;for(var a=0;a<t.page.length;a++){var h=t.page[a],u=h.id,h=h.file;o[u]=e instanceof Array?e[a]:e[h]}for(a=0;a<t.char.length;a++){var l=t.char[a],c=(u=l.id,l.page),p=t.char[a],d=p.x,f=p.y,_=p.width,m=p.height,g=p.xoffset,l=p.yoffset,p=p.xadvance;f/=s,_/=s,m/=s,g/=s,l/=s,p/=s;m=new ue((d/=s)+o[c].frame.x/s,f+o[c].frame.y/s,_,m);this.chars[u]={xOffset:g,yOffset:l,xAdvance:p,kerning:{},texture:new fr(o[c].baseTexture,m),page:c}}for(a=0;a<t.kerning.length;a++){var y=t.kerning[a],v=y.first,x=y.second,y=y.amount;v/=s,x/=s,y/=s,this.chars[x]&&(this.chars[x].kerning[v]=y)}}var Ou,Lu,xo=(Eu(Lu=Du,xo=Ou=ts),Lu.prototype=null===xo?Object.create(xo):(Ru.prototype=xo.prototype,new Ru),Object.defineProperty(Du.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),Du),Mu=function(t,e){return(Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Du(t){void 0===t&&(t=1);var e=Ou.call(this,Js,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}function Ru(){this.constructor=Lu}function Nu(t,e){function i(){this.constructor=t}Mu(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Bu,ku,Fu,Gu,Uu,Xu,ju,Wu={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},zu=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(ju=ju=ju||{})[ju.WEBGL_LEGACY=0]="WEBGL_LEGACY",ju[ju.WEBGL=1]="WEBGL",ju[ju.WEBGL2=2]="WEBGL2",(Xu=Xu=Xu||{})[Xu.UNKNOWN=0]="UNKNOWN",Xu[Xu.WEBGL=1]="WEBGL",Xu[Xu.CANVAS=2]="CANVAS",(Uu=Uu=Uu||{})[Uu.COLOR=16384]="COLOR",Uu[Uu.DEPTH=256]="DEPTH",Uu[Uu.STENCIL=1024]="STENCIL",(Gu=Gu=Gu||{})[Gu.NORMAL=0]="NORMAL",Gu[Gu.ADD=1]="ADD",Gu[Gu.MULTIPLY=2]="MULTIPLY",Gu[Gu.SCREEN=3]="SCREEN",Gu[Gu.OVERLAY=4]="OVERLAY",Gu[Gu.DARKEN=5]="DARKEN",Gu[Gu.LIGHTEN=6]="LIGHTEN",Gu[Gu.COLOR_DODGE=7]="COLOR_DODGE",Gu[Gu.COLOR_BURN=8]="COLOR_BURN",Gu[Gu.HARD_LIGHT=9]="HARD_LIGHT",Gu[Gu.SOFT_LIGHT=10]="SOFT_LIGHT",Gu[Gu.DIFFERENCE=11]="DIFFERENCE",Gu[Gu.EXCLUSION=12]="EXCLUSION",Gu[Gu.HUE=13]="HUE",Gu[Gu.SATURATION=14]="SATURATION",Gu[Gu.COLOR=15]="COLOR",Gu[Gu.LUMINOSITY=16]="LUMINOSITY",Gu[Gu.NORMAL_NPM=17]="NORMAL_NPM",Gu[Gu.ADD_NPM=18]="ADD_NPM",Gu[Gu.SCREEN_NPM=19]="SCREEN_NPM",Gu[Gu.NONE=20]="NONE",Gu[Gu.SRC_OVER=0]="SRC_OVER",Gu[Gu.SRC_IN=21]="SRC_IN",Gu[Gu.SRC_OUT=22]="SRC_OUT",Gu[Gu.SRC_ATOP=23]="SRC_ATOP",Gu[Gu.DST_OVER=24]="DST_OVER",Gu[Gu.DST_IN=25]="DST_IN",Gu[Gu.DST_OUT=26]="DST_OUT",Gu[Gu.DST_ATOP=27]="DST_ATOP",Gu[Gu.ERASE=26]="ERASE",Gu[Gu.SUBTRACT=28]="SUBTRACT",Gu[Gu.XOR=29]="XOR",(Fu=Fu=Fu||{})[Fu.POINTS=0]="POINTS",Fu[Fu.LINES=1]="LINES",Fu[Fu.LINE_LOOP=2]="LINE_LOOP",Fu[Fu.LINE_STRIP=3]="LINE_STRIP",Fu[Fu.TRIANGLES=4]="TRIANGLES",Fu[Fu.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Fu[Fu.TRIANGLE_FAN=6]="TRIANGLE_FAN",(ku=ku=ku||{})[ku.RGBA=6408]="RGBA",ku[ku.RGB=6407]="RGB",ku[ku.ALPHA=6406]="ALPHA",ku[ku.LUMINANCE=6409]="LUMINANCE",ku[ku.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",ku[ku.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",ku[ku.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(Fl=Fl=Fl||{})[Fl.TEXTURE_2D=3553]="TEXTURE_2D",Fl[Fl.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Fl[Fl.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Fl[Fl.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Fl[Fl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Fl[Fl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Fl[Fl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Fl[Fl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Fl[Fl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(Fl=Vu=Vu||{})[Fl.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Fl[Fl.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Fl[Fl.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Fl[Fl.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Fl[Fl.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Fl[Fl.FLOAT=5126]="FLOAT",Fl[Fl.HALF_FLOAT=36193]="HALF_FLOAT",(Vu=$l=$l||{})[Vu.NEAREST=0]="NEAREST",Vu[Vu.LINEAR=1]="LINEAR",(Fl=kl=kl||{})[Fl.CLAMP=33071]="CLAMP",Fl[Fl.REPEAT=10497]="REPEAT",Fl[Fl.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",($l=Gl=Gl||{})[$l.OFF=0]="OFF",$l[$l.POW2=1]="POW2",$l[$l.ON=2]="ON",(Vu=Bl=Bl||{})[Vu.NPM=0]="NPM",Vu[Vu.UNPACK=1]="UNPACK",Vu[Vu.PMA=2]="PMA",Vu[Vu.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",Vu[Vu.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",Vu[Vu.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(kl=Bu=Bu||{})[kl.NO=0]="NO",kl[kl.YES=1]="YES",kl[kl.AUTO=2]="AUTO",kl[kl.BLEND=0]="BLEND",kl[kl.CLEAR=1]="CLEAR",kl[kl.BLIT=2]="BLIT",(Fl=tl=tl||{})[Fl.AUTO=0]="AUTO",Fl[Fl.MANUAL=1]="MANUAL",(Gl=ol=ol||{}).LOW="lowp",Gl.MEDIUM="mediump",Gl.HIGH="highp",($l=pl=pl||{})[$l.NONE=0]="NONE",$l[$l.SCISSOR=1]="SCISSOR",$l[$l.STENCIL=2]="STENCIL",$l[$l.SPRITE=3]="SPRITE",(Bl=yl=yl||{})[Bl.NONE=0]="NONE",Bl[Bl.LOW=2]="LOW",Bl[Bl.MEDIUM=4]="MEDIUM",Bl[Bl.HIGH=8]="HIGH";var Hu,qu,Yu=(Nu(Ku,qu=ts),Ku.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),s=t.renderer,o=e,a=n;this.state.blend=!1,t.applyFilter(this,o,a,Bu.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(o,Bu.BLIT);var u=this.uniforms.uSampler=a,a=o,o=u;s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},Object.defineProperty(Ku.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ku.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),Ku),Vu=(Nu(Zu,Hu=ts),Zu.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);n&&s?(n=t.getFilterTexture(),this.blurXFilter.apply(t,e,n,Bu.CLEAR),this.blurYFilter.apply(t,n,i,r),t.returnFilterTexture(n)):(s?this.blurYFilter:this.blurXFilter).apply(t,e,i,r)},Zu.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(Zu.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Zu.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(Zu.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Zu.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Zu.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Zu.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),Zu),$u=function(t,e){return($u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Zu(t,e,i,r){void 0===t&&(t=8),void 0===e&&(e=4),void 0===i&&(i=O.FILTER_RESOLUTION),void 0===r&&(r=5);var n=Hu.call(this)||this;return n.blurXFilter=new Yu(!0,t,e,i,r),n.blurYFilter=new Yu(!1,t,e,i,r),n.resolution=i,n.quality=e,n.blur=t,n.repeatEdgePixels=!1,n}function Ku(t,e,i,r,n){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=O.FILTER_RESOLUTION);var s=this,o=function(t,e){for(var i=Math.ceil(t/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",n="",s=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",o=0;o<t;o++)n+=s.replace("%index%",o.toString()).replace("%sampleIndex%",o-(i-1)+".0"),n+="\n";return(r=r.replace("%blur%",n)).replace("%size%",t.toString())}(n=void 0===n?5:n,t),n=function(t){for(var e=Wu[t],i=e.length,r=zu,n="",s=0;s<t;s++){var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString()),a=i<=s?t-s-1:s;n+=o=o.replace("%value%",e[a].toString()),n+="\n"}return(r=r.replace("%blur%",n)).replace("%size%",t.toString())}(n);return(s=qu.call(this,o,n)||this).horizontal=t,s.resolution=r,s._quality=0,s.quality=i,s.blur=e,s}var Qu,Ju,tl=($u(Ju=el,kl=Qu=ts),Ju.prototype=null===kl?Object.create(kl):(il.prototype=kl.prototype,new il),el.prototype._loadMatrix=function(t,e){var i=t;(e=void 0===e?!1:e)&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},el.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},el.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},el.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},el.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},el.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},el.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),t=(0,Math.sqrt)(1/3);this._loadMatrix([i+1/3*(1-i),1/3*(1-i)-t*r,1/3*(1-i)+t*r,0,0,1/3*(1-i)+t*r,i+1/3*(1-i),1/3*(1-i)-t*r,0,0,1/3*(1-i)-t*r,1/3*(1-i)+t*r,i+1/3*(1-i),0,0,0,0,0,1,0],e)},el.prototype.contrast=function(t,e){var i=(t||0)+1,t=-.5*(i-1);this._loadMatrix([i,0,0,0,t,0,i,0,0,t,0,0,i,0,t,0,0,0,1,0],e)},el.prototype.saturate=function(t,e){var i=2*(t=void 0===t?0:t)/3+1,t=-.5*(i-1);this._loadMatrix([i,t,t,0,0,t,i,t,0,0,t,t,i,0,0,0,0,0,1,0],e)},el.prototype.desaturate=function(){this.saturate(-1)},el.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},el.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},el.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},el.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},el.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},el.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},el.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},el.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},el.prototype.colorTone=function(t,e,i,r,n){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,i=(r>>8&255)/255,r=(255&r)/255,r=[.3,.59,.11,0,0,s,o,a,t=t||.2,0,h,i,r,e=e||.15,0,s-h,o-i,a-r,0,0];this._loadMatrix(r,n)},el.prototype.night=function(t,e){t=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(t,e)},el.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},el.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},el.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(el.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(el.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),el);function el(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=Qu.call(this,to,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}function il(){this.constructor=Ju}tl.prototype.grayscale=tl.prototype.greyscale;var rl,nl,sl=function(t,e){return(sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},ol=(sl(nl=hl,Fl=rl=ts),nl.prototype=null===Fl?Object.create(Fl):(ul.prototype=Fl.prototype,new ul),hl.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),t.applyFilter(this,e,i,r)},Object.defineProperty(hl.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),hl),al=function(t,e){return(al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function hl(t,e){var i=this,r=new me;return t.renderable=!1,(i=rl.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,i.maskMatrix=r,i.scale=new fe(e=null==e?20:e,e),i}function ul(){this.constructor=nl}var ll,cl,pl=(al(cl=fl,Gl=ll=ts),cl.prototype=null===Gl?Object.create(Gl):(_l.prototype=Gl.prototype,new _l),fl),dl=function(t,e){return(dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function fl(){return ll.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}function _l(){this.constructor=cl}var ml,gl,yl=(dl(gl=xl,$l=ml=ts),gl.prototype=null===$l?Object.create($l):(bl.prototype=$l.prototype,new bl),Object.defineProperty(xl.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(xl.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),xl),vl=new me;function xl(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var i=ml.call(this,to,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=e,i}function bl(){this.constructor=gl}Xe.prototype._cacheAsBitmap=!1,Xe.prototype._cacheData=null;var Tl=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Xe.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new Tl),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Xe.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Xe.prototype._initCachedDisplayObject=function(t){var e,i,r,n,s,o,a,h;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),i=this.getLocalBounds(null,!0).clone(),this.filters&&(a=this.filters[0].padding,i.pad(a)),i.ceil(O.RESOLUTION),r=t.renderTexture.current,n=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,h=Pr.create({width:i.width,height:i.height}),a="cacheAsBitmap_"+ ++Ht,this._cacheData.textureCacheId=a,Gi.addToCache(h.baseTexture,a),fr.addToCache(h,a),a=this.transform.localTransform.copyTo(vl).invert().translate(-i.x,-i.y),this.render=this._cacheData.originalRender,t.render(this,h,!0,a,!1),t.projection.transform=o,t.renderTexture.bind(r,n,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(h=new Ja(h)).transform.worldTransform=this.transform.worldTransform,h.anchor.x=-i.x/i.width,h.anchor.y=-i.y/i.height,h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h))},Xe.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Xe.prototype._initCachedDisplayObjectCanvas=function(t){var e,i,r,n,s,o;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),i=this.alpha,this.alpha=1,r=t.context,n=t._projTransform,e.ceil(O.RESOLUTION),o=Pr.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+ ++Ht,this._cacheData.textureCacheId=s,Gi.addToCache(o.baseTexture,s),fr.addToCache(o,s),this.transform.localTransform.copyTo(s=vl),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,s,!1),t.context=r,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(o=new Ja(o)).transform.worldTransform=this.transform.worldTransform,o.anchor.x=-e.x/e.width,o.anchor.y=-e.y/e.height,o.alpha=i,o._bounds=this._bounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o))},Xe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Xe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Xe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Gi.removeFromCache(this._cacheData.textureCacheId),fr.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Xe.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Xe.prototype.name=null,Ye.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var n=this.children[i].getChildByName(t,!0);if(n)return n}return null},Xe.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new fe),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Pl=function(t,e){return(Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function wl(t,e){function i(){this.constructor=t}Pl(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var El="5.0.0",Sl=function(t,e){return(Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Il(t,e){function i(){this.constructor=t}Sl(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Al,Cl,Ol,Ll,Ml,Dl,Rl=(Il(ql,Dl=ou),ql.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*o,l*a),i.push(u/n,l/s)}for(var c=n*s,h=0;h<c;h++){var p=h%n,d=h/n|0,f=d*this.segWidth+p,_=d*this.segWidth+p+1,m=(1+d)*this.segWidth+p,p=(1+d)*this.segWidth+p+1;r.push(f,_,m,_,p,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},ql),Nl=(Il(Hl,Ml=ou),Object.defineProperty(Hl.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Hl.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,s=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var o=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c,p,d=4*l;0<this.textureScale?(c=a.x-t[l].x,p=a.y-t[l].y,p=Math.sqrt(c*c+p*p),a=t[l],o+=p/h):o=l/(u-1),n[d]=o,n[d+1]=0,n[d+2]=o,n[d+3]=1}for(var f=0,l=0;l<u-1;l++)s[f++]=d=2*l,s[f++]=d+1,s[f++]=d+2,s[f++]=d+2,s[f++]=d+1,s[f++]=d+3;i.update(),r.update(),this.updateVertices()}}},Hl.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],i=this.buffers[0].data,r=t.length,n=0;n<r;n++){var s=t[n],o=4*n,a=-((l=n<t.length-1?t[n+1]:s).x-e.x),h=l.y-e.y,u=Math.sqrt(h*h+a*a),l=0<this.textureScale?this.textureScale*this._width/2:this._width/2;h/=u,a/=u,h*=l,a*=l,i[o]=s.x+h,i[1+o]=s.y+a,i[2+o]=s.x-h,i[3+o]=s.y-a,e=s}this.buffers[0].update()}},Hl.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},Hl),Bl=(Il(zl,Ll=nu),zl.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),Ll.prototype._render.call(this,t)},zl),kl=(Il(Wl,Ol=nu),Wl.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(Wl.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),Wl.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),Ol.prototype._render.call(this,t)},Wl.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),Ol.prototype.destroy.call(this,t)},Wl),Fl=(Il(jl,Cl=nu),Object.defineProperty(jl.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),jl.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),Cl.prototype._render.call(this,t)},jl),Gl=(Il(Xl,Al=kl),Xl.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(Xl.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),Xl.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},Xl.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},Xl.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(Xl.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Xl.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Xl.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Xl.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Xl.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Xl.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Xl.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,t=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=t*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-t*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Xl),Ul=function(t,e){return(Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Xl(t,e,i,r,n){void 0===e&&(e=10),void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10);var s=Al.call(this,fr.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=e,s._rightWidth=r,s._topHeight=i,s._bottomHeight=n,s.texture=t,s}function jl(t,e,i,r,n){void 0===t&&(t=fr.EMPTY);var s=this,r=new ou(e,i,r);r.getBuffer("aVertexPosition").static=!1;t=new su(t);return(s=Cl.call(this,r,t,null,n)||this).autoUpdate=!0,s}function Wl(t,e,i){var r=this,e=new Rl(t.width,t.height,e,i),i=new su(fr.WHITE);return(r=Ol.call(this,e,i)||this).texture=t,r}function zl(t,e,i){var r=this,n=new Nl(t.height,e,i=void 0===i?0:i),e=new su(t);return 0<i&&(t.baseTexture.wrapMode=W.WRAP_MODES.REPEAT),(r=Ll.call(this,n,e)||this).autoUpdate=!0,r}function Hl(t,e,i){void 0===t&&(t=200),void 0===i&&(i=0);var r=Ml.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return r.points=e,r._width=t,r.textureScale=i,r.build(),r}function ql(t,e,i,r){void 0===t&&(t=100),void 0===e&&(e=100),void 0===i&&(i=10),void 0===r&&(r=10);var n=Dl.call(this)||this;return n.segWidth=i,n.segHeight=r,n.width=t,n.height=e,n.build(),n}var Yl,Vl,$l,$l=(Ul(Vl=Zl,$l=Yl=Ja),Vl.prototype=null===$l?Object.create($l):(Kl.prototype=$l.prototype,new Kl),Zl.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1))},Zl.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Je.shared.add(this.update,this,W.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},Zl.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},Zl.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},Zl.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},Zl.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},Zl.prototype.destroy=function(t){this.stop(),Yl.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},Zl.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(fr.from(t[i]));return new Zl(e)},Zl.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(fr.from(t[i]));return new Zl(e)},Object.defineProperty(Zl.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(Zl.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof fr)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(Zl.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(Zl.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(Zl.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Zl);function Zl(t,e){void 0===e&&(e=!0);var i=Yl.call(this,t[0]instanceof fr?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=e,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}function Kl(){this.constructor=Vl}zs.registerPlugin("accessibility",Ze),zs.registerPlugin("extract",Po),zs.registerPlugin("interaction",mi),zs.registerPlugin("particle",ut),zs.registerPlugin("prepare",Hi),zs.registerPlugin("batch",lo),zs.registerPlugin("tilingSprite",n),Vo.registerPlugin(Wi),Vo.registerPlugin(L),co.registerPlugin(r),co.registerPlugin(D);yl={AlphaFilter:xo,BlurFilter:Vu,BlurFilterPass:Yu,ColorMatrixFilter:tl,DisplacementFilter:ol,FXAAFilter:pl,NoiseFilter:yl};return W.AbstractBatchRenderer=no,W.AbstractRenderer=Ws,W.AccessibilityManager=Ze,W.AnimatedSprite=$l,W.AppLoaderPlugin=D,W.Application=co,W.Attribute=Er,W.BasePrepare=zi,W.BaseRenderTexture=cr,W.BaseTexture=Gi,W.BatchDrawCall=eo,W.BatchGeometry=oo,W.BatchPluginFactory=uo,W.BatchRenderer=lo,W.BatchShaderGenerator=so,W.BatchTextureArray=io,W.BitmapFont=Tu,W.BitmapFontData=pu,W.BitmapFontLoader=Wi,W.BitmapText=Uo,W.Bounds=Ne,W.Buffer=Ir,W.Circle=le,W.Container=Ye,W.CountLimiter=vh,W.DEG_TO_RAD=he,W.DisplayObject=Xe,W.Ellipse=ce,W.Extract=Po,W.FillStyle=ha,W.Filter=ts,W.FilterState=$r,W.Framebuffer=lr,W.GLFramebuffer=en,W.GLProgram=fs,W.GLTexture=Gs,W.GRAPHICS_CURVES=aa,W.Geometry=zr,W.Graphics=Fa,W.GraphicsData=La,W.GraphicsGeometry=Ra,W.IGLUniformData=ds,W.InteractionData=ti,W.InteractionEvent=oi,W.InteractionManager=mi,W.InteractionTrackingData=ai,W.LineStyle=Na,W.Loader=Vo,W.LoaderResource=qo,W.MaskData=hn,W.Matrix=me,W.Mesh=nu,W.MeshBatchUvs=eu,W.MeshGeometry=ou,W.MeshMaterial=su,W.NineSlicePlane=Gl,W.ObjectRenderer=Kr,W.ObservablePoint=_e,W.PI_2=oe,W.ParticleContainer=ft,W.ParticleRenderer=ut,W.PlaneGeometry=Rl,W.Point=fe,W.Polygon=pe,W.Prepare=Hi,W.Program=Kn,W.Quad=Hr,W.QuadUv=qr,W.RAD_TO_DEG=ae,W.Rectangle=ue,W.RenderTexture=Pr,W.RenderTexturePool=wr,W.Renderer=zs,W.RopeGeometry=Nl,W.RoundedRectangle=de,W.Runner=gi,W.Shader=Qn,W.SimpleMesh=Fl,W.SimplePlane=kl,W.SimpleRope=Bl,W.Sprite=Ja,W.SpriteMaskFilter=rs,W.Spritesheet=Rh,W.SpritesheetLoader=L,W.State=Jn,W.System=hr,W.TemporaryDisplayObject=je,W.Text=_h,W.TextMetrics=lh,W.TextStyle=sh,W.Texture=fr,W.TextureLoader=i,W.TextureMatrix=is,W.TextureUvs=pr,W.Ticker=Je,W.TickerPlugin=r,W.TilingSprite=Hh,W.TilingSpriteRenderer=n,W.TimeLimiter=ss,W.Transform=De,W.UniformGroup=Vr,W.VERSION="5.3.10",W.ViewableBuffer=ro,W.accessibleTarget=$e,W.autoDetectRenderer=Zs,W.checkMaxIfStatementsInShader=Gn,W.defaultFilterVertex=to,W.defaultVertex=Js,W.filters=yl,W.graphicsUtils=Oa,W.groupD8=Me,W.interactiveTarget=ui,W.isMobile=A,W.resources=ar,W.settings=O,W.systems=Xs,W.uniformParsers=Nn,W.useDeprecated=function(){var n=this;Object.defineProperties(n,{SVG_SIZE:{get:function(){return Vt(El,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),n.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Vt(El,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),n.Transform}},TransformBase:{get:function(){return Vt(El,"PIXI.TransformBase class has been removed, use PIXI.Transform"),n.Transform}},TRANSFORM_MODE:{get:function(){return Vt(El,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Vt(El,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),n.Renderer}},CanvasRenderTarget:{get:function(){return Vt(El,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),n.utils.CanvasRenderTarget}},loader:{get:function(){return Vt(El,"PIXI.loader instance has moved to PIXI.Loader.shared"),n.Loader.shared}},FilterManager:{get:function(){return Vt(El,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),n.systems.FilterSystem}},CanvasTinter:{get:function(){return Vt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),n.canvasUtils}},GroupD8:{get:function(){return Vt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),n.groupD8}}}),n.accessibility={},Object.defineProperties(n.accessibility,{AccessibilityManager:{get:function(){return Vt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),n.AccessibilityManager}}}),n.interaction={},Object.defineProperties(n.interaction,{InteractionManager:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),n.InteractionManager}},InteractionData:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),n.InteractionData}},InteractionEvent:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),n.InteractionEvent}}}),n.prepare={},Object.defineProperties(n.prepare,{BasePrepare:{get:function(){return Vt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),n.BasePrepare}},Prepare:{get:function(){return Vt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),n.Prepare}},CanvasPrepare:{get:function(){return Vt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),n.CanvasPrepare}}}),n.extract={},Object.defineProperties(n.extract,{Extract:{get:function(){return Vt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),n.Extract}},CanvasExtract:{get:function(){return Vt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),n.CanvasExtract}}}),n.extras={},Object.defineProperties(n.extras,{TilingSprite:{get:function(){return Vt(El,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),n.TilingSprite}},TilingSpriteRenderer:{get:function(){return Vt(El,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),n.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Vt(El,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),n.AnimatedSprite}},BitmapText:{get:function(){return Vt(El,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),n.BitmapText}}}),n.TilingSprite.fromFrame=function(t,e,i){return Vt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),n.TilingSprite.from(t,{width:e,height:i})},n.TilingSprite.fromImage=function(t,e,i,r){return void 0===r&&(r={}),Vt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),(r=r&&"object"!=typeof r?{scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}:r).width=e,r.height=i,n.TilingSprite.from(t,r)},Object.defineProperties(n.utils,{getSvgSize:{get:function(){return Vt(El,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),n.resources.SVGResource.getSize}}}),n.mesh={},Object.defineProperties(n.mesh,{Mesh:{get:function(){return Vt(El,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),n.SimpleMesh}},NineSlicePlane:{get:function(){return Vt(El,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),n.NineSlicePlane}},Plane:{get:function(){return Vt(El,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),n.SimplePlane}},Rope:{get:function(){return Vt(El,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),n.SimpleRope}},RawMesh:{get:function(){return Vt(El,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),n.Mesh}},CanvasMeshRenderer:{get:function(){return Vt(El,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),n.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Vt(El,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),n.MeshRenderer}}}),n.particles={},Object.defineProperties(n.particles,{ParticleContainer:{get:function(){return Vt(El,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),n.ParticleContainer}},ParticleRenderer:{get:function(){return Vt(El,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),n.ParticleRenderer}}}),n.ticker={},Object.defineProperties(n.ticker,{Ticker:{get:function(){return Vt(El,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),n.Ticker}},shared:{get:function(){return Vt(El,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),n.Ticker.shared}}}),n.loaders={},Object.defineProperties(n.loaders,{Loader:{get:function(){return Vt(El,"PIXI.loaders.Loader class has moved to PIXI.Loader"),n.Loader}},Resource:{get:function(){return Vt(El,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),n.LoaderResource}},bitmapFontParser:{get:function(){return Vt(El,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),n.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Vt(El,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Vt(El,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),n.SpritesheetLoader.use}},getResourcePath:{get:function(){return Vt(El,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),n.SpritesheetLoader.getResourcePath}}}),n.Loader.addPixiMiddleware=function(t){return Vt(El,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),n.loaders.Loader.registerPlugin({use:t()})};function e(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)}Object.assign(n.Loader.prototype,{on:function(t){t=e(t);Vt(El,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+t+".add")},once:function(t){t=e(t);Vt(El,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+t+".once")},off:function(t){t=e(t);Vt(El,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+t+".detach")}}),Object.defineProperty(n.extract,"WebGLExtract",{get:function(){return Vt(El,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),n.Extract}}),Object.defineProperty(n.prepare,"WebGLPrepare",{get:function(){return Vt(El,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),n.Prepare}}),n.Container.prototype._renderWebGL=function(t){Vt(El,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},n.Container.prototype.renderWebGL=function(t){Vt(El,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},n.DisplayObject.prototype.renderWebGL=function(t){Vt(El,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},n.Container.prototype.renderAdvancedWebGL=function(t){Vt(El,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(n.settings,{TRANSFORM_MODE:{get:function(){return Vt(El,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Vt(El,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var s=n.BaseTexture,t=!(s.prototype.loadSource=function(t){Vt(El,"PIXI.BaseTexture.loadSource method has been deprecated");t=n.resources.autoDetectResource(t);t.internal=!0,this.setResource(t),this.update()});Object.defineProperties(s.prototype,{hasLoaded:{get:function(){return Vt(El,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return Vt(El,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){Vt(El,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return Vt(El,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){Vt(El,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return Vt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){Vt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return t||(Vt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),t=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),s.fromImage=function(t,e,i,r){return Vt(El,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:i,resourceOptions:{scale:r,crossorigin:e}})},s.fromCanvas=function(t,e){return Vt(El,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:e})},s.fromSVG=function(t,e,i,r){return Vt(El,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:i,resourceOptions:{scale:r,crossorigin:e}})},Object.defineProperties(n.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Vt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){Vt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),n.Point.prototype.copy=function(t){return Vt(El,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},n.ObservablePoint.prototype.copy=function(t){return Vt(El,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},n.Rectangle.prototype.copy=function(t){return Vt(El,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},n.Matrix.prototype.copy=function(t){return Vt(El,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},n.systems.StateSystem.prototype.setState=function(t){return Vt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(n.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return Vt(El,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){Vt(El,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){Vt(El,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),i=this.activeState,t=i.sourceFrame,i=i.destinationFrame;return e.translate(t.x/i.width,t.y/i.height),e.scale(i.width,i.height),e},calculateNormalizedScreenSpaceMatrix:function(t){Vt(El,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,i=e.sourceFrame,r=e.destinationFrame,e=t.identity();e.translate(i.x/r.width,i.y/r.height);t=r.width/i.width,i=r.height/i.height;return e.scale(t,i),e}}),Object.defineProperties(n.RenderTexture.prototype,{sourceFrame:{get:function(){return Vt(El,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Vt(El,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var o,a,i=(wl(u,a=n.filters.BlurFilterPass),u),r=(wl(h,o=n.filters.BlurFilterPass),h);function h(t,e,i,r){return Vt(El,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),o.call(this,!1,t,e,i,r)||this}function u(t,e,i,r){return Vt(El,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),a.call(this,!0,t,e,i,r)||this}Object.assign(n.filters,{BlurXFilter:i,BlurYFilter:r});var l=n.Sprite,c=n.Texture,r=n.Graphics;function p(t,e,i,r){return Vt(El,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),l.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function d(t,e,i,r){return Vt(El,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),c.from(e,{resourceOptions:{scale:r,crossorigin:i}})}r.prototype.generateCanvasTexture||(r.prototype.generateCanvasTexture=function(){Vt(El,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(r.prototype,"graphicsData",{get:function(){return Vt(El,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),l.fromImage=p.bind(null,"fromImage"),l.fromSVG=p.bind(null,"fromSVG"),l.fromCanvas=p.bind(null,"fromCanvas"),l.fromVideo=p.bind(null,"fromVideo"),l.fromFrame=p.bind(null,"fromFrame"),c.fromImage=d.bind(null,"fromImage"),c.fromSVG=d.bind(null,"fromSVG"),c.fromCanvas=d.bind(null,"fromCanvas"),c.fromVideo=d.bind(null,"fromVideo"),c.fromFrame=d.bind(null,"fromFrame"),Object.defineProperty(n.AbstractRenderer.prototype,"autoResize",{get:function(){return Vt(El,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){Vt(El,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(n.Renderer.prototype,"textureManager",{get:function(){return Vt(El,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),n.utils.mixins={mixin:function(){Vt(El,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Vt(El,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Vt(El,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(n.BitmapText.prototype,"font",{get:function(){return Vt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){Vt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t&&(this._upgradeStyle(t={font:t}),t.fontSize=t.fontSize||n.BitmapFont.available[t.fontName].size,this._fontName=t.fontName,this._fontSize=t.fontSize,this.dirty=!0)}})},W.utils=se,W}({});PIXI.useDeprecated();var PIXI=function(W){"use strict";var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e,i=t(function(t,w){!function(t){var e,i=t.Promise,r=i&&"resolve"in i&&"reject"in i&&"all"in i&&"race"in i&&(new i(function(t){e=t}),"function"==typeof e);w?(w.Promise=r?i:P,w.Polyfill=P):r||(t.Promise=P);function n(){}var s="pending",o="sealed",a="fulfilled",h="rejected";function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c="undefined"!=typeof setImmediate?setImmediate:setTimeout,p=[];function d(){for(var t=0;t<p.length;t++)p[t][0](p[t][1]);l=!(p=[])}function f(t,e){p.push([t,e]),l||(l=!0,c(d,0))}function _(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],e=t.then;if("function"==typeof n){i=a;try{r=n(r)}catch(t){v(e,t)}}m(e,r)||(i===a&&g(e,r),i===h&&v(e,r))}function m(e,i){var r;try{if(e===i)throw new TypeError("A promises callback cannot return that same promise.");if(i&&("function"==typeof i||"object"==typeof i)){var t=i.then;if("function"==typeof t)return t.call(i,function(t){r||(r=!0,(i!==t?g:y)(e,t))},function(t){r||(r=!0,v(e,t))}),1}}catch(i){return r||v(e,i),1}}function g(t,e){t!==e&&m(t,e)||y(t,e)}function y(t,e){t.state_===s&&(t.state_=o,t.data_=e,f(b,t))}function v(t,e){t.state_===s&&(t.state_=o,t.data_=e,f(T,t))}function x(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)_(e[i])}function b(t){t.state_=a,x(t)}function T(t){t.state_=h,x(t)}function P(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof P==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){v(e,t)}try{t(function(t){g(e,t)},i)}catch(t){i(t)}}(t,this)}P.prototype={constructor:P,state_:s,then_:null,data_:void 0,then:function(t,e){e={owner:this,then:new this.constructor(n),fulfilled:t,rejected:e};return this.state_===a||this.state_===h?f(_,e):this.then_.push(e),e.then},catch:function(t){return this.then(null,t)}},P.all=function(o){if(!u(o))throw new TypeError("You must pass an array to Promise.all().");return new this(function(i,t){var r=[],n=0;for(var e,s=0;s<o.length;s++)(e=o[s])&&"function"==typeof e.then?e.then(function(e){return n++,function(t){r[e]=t,--n||i(r)}}(s),t):r[s]=e;n||i(r)})},P.race=function(n){if(!u(n))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,e){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(t,e):t(i)})},P.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},P.reject=function(i){return new this(function(t,e){e(i)})}}("undefined"!=typeof window?window:C)}),r=(i.Promise,i.Polyfill),u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,n=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return}}()?Object.assign:function(t,e){for(var i,r=arguments,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var o in i=Object(r[s]))l.call(i,o)&&(n[o]=i[o]);if(u)for(var a=u(i),h=0;h<a.length;h++)c.call(i,a[h])&&(n[a[h]]=i[a[h]])}return n};window.Promise||(window.Promise=r),Object.assign||(Object.assign=n),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),window.performance&&window.performance.now||(e=Date.now(),window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-e});for(var s=Date.now(),o=["ms","moz","webkit","o"],a=0;a<o.length&&!window.requestAnimationFrame;++a){var h=o[a];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+s-e;return i<0&&(i=0),s=e,window.setTimeout(function(){s=Date.now(),t(performance.now())},i)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);function p(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var d=/iPhone/i,f=/iPod/i,_=/iPad/i,m=/\biOS-universal(?:.+)Mac\b/i,g=/\bAndroid(?:.+)Mobile\b/i,y=/Android/i,v=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,x=/Silk/i,b=/Windows Phone/i,T=/\bWindows(?:.+)ARM\b/i,P=/BlackBerry/i,w=/BB10/i,E=/Opera Mini/i,S=/\b(CriOS|Chrome)(?:.+)Mobile/i,I=/Mobile(?:.+)Firefox\b/i,A=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,t=i.split("[FBAN");void 0!==(t=(i=void 0!==t[1]?t[0]:i).split("Twitter"))[1]&&(i=t[0]);var r,i=(r=i,function(t){return t.test(r)}),i={apple:{phone:i(d)&&!i(b),ipod:i(f),tablet:!i(d)&&(i(_)||p(e))&&!i(b),universal:i(m),device:(i(d)||i(f)||i(_)||i(m)||p(e))&&!i(b)},amazon:{phone:i(v),tablet:!i(v)&&i(x),device:i(v)||i(x)},android:{phone:!i(b)&&i(v)||!i(b)&&i(g),tablet:!i(b)&&!i(v)&&!i(g)&&(i(x)||i(y)),device:!i(b)&&(i(v)||i(x)||i(g)||i(y))||i(/\bokhttp\b/i)},windows:{phone:i(b),tablet:i(T),device:i(b)||i(T)},other:{blackberry:i(P),blackberry10:i(w),opera:i(E),firefox:i(I),chrome:i(S),device:i(P)||i(w)||i(E)||i(I)||i(S)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}(window.navigator),O={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(Vh=!0,(A.tablet||A.phone)&&(A.apple.device&&(ui=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(ui[1],10)<11&&(Vh=!1),A.android.device&&(ui=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(ui[1],10)<7&&(Vh=!1)),Vh?32:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:A.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!A.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},L=t(function(t){var r=Object.prototype.hasOwnProperty,f="~";function i(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function n(t,e,i,r,n){if("function"!=typeof i)throw new TypeError("The listener must be a function");n=new s(i,r||t,n),e=f?f+e:e;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],n]:t._events[e].push(n):(t._events[e]=n,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function e(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(f=!1)),e.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},e.prototype.listeners=function(t){var t=f?f+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var i=0,r=e.length,n=new Array(r);i<r;i++)n[i]=e[i].fn;return n},e.prototype.listenerCount=function(t){t=f?f+t:t,t=this._events[t];return t?t.fn?1:t.length:0},e.prototype.emit=function(t,e,i,r,n,s){var o=arguments,a=f?f+t:t;if(!this._events[a])return!1;var h,u=this._events[a],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,n),!0;case 6:return u.fn.call(u.context,e,i,r,n,s),!0}for(d=1,h=new Array(l-1);d<l;d++)h[d-1]=o[d];u.fn.apply(u.context,h)}else for(var c,p=u.length,d=0;d<p;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),l){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,e);break;case 3:u[d].fn.call(u[d].context,e,i);break;case 4:u[d].fn.call(u[d].context,e,i,r);break;default:if(!h)for(c=1,h=new Array(l-1);c<l;c++)h[c-1]=o[c];u[d].fn.apply(u[d].context,h)}return!0},e.prototype.on=function(t,e,i){return n(this,t,e,i,!1)},e.prototype.once=function(t,e,i){return n(this,t,e,i,!0)},e.prototype.removeListener=function(t,e,i,r){t=f?f+t:t;if(!this._events[t])return this;if(!e)return h(this,t),this;var n=this._events[t];if(n.fn)n.fn!==e||r&&!n.once||i&&n.context!==i||h(this,t);else{for(var s=0,o=[],a=n.length;s<a;s++)(n[s].fn!==e||r&&!n[s].once||i&&n[s].context!==i)&&o.push(n[s]);o.length?this._events[t]=1===o.length?o[0]:o:h(this,t)}return this},e.prototype.removeAllListeners=function(t){return t?(t=f?f+t:t,this._events[t]&&h(this,t)):(this._events=new i,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prefixed=f,t.exports=e.EventEmitter=e}),M=R,D=R;function R(t,e,i){i=i||2;var r,n,s,o,a,h=e&&e.length,u=h?e[0]*i:t.length,l=N(t,0,u,i,!0),c=[];if(!l||l.next===l.prev)return c;if(h&&(l=function(t,e,i,r){for(var n,s,o,a=[],h=0,u=e.length;h<u;h++)(n=N(t,e[h]*r,h<u-1?e[h+1]*r:t.length,r,!1))===n.next&&(n.steiner=!0),a.push(function(t){var e=t,i=t;for(;(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next,e!==t;);return i}(n));for(a.sort(F),h=0;h<a.length;h++)s=a[h],(o=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&o<a){if((o=a)===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}}while((r=r.next)!==e);if(!i)return null;if(n===o)return i;for(var h,u,l,c=i,p=i.x,d=i.y,f=1/0,r=i;n>=r.x&&r.x>=p&&n!==r.x&&U(s<d?n:o,s,p,d,s<d?o:n,s,r.x,r.y)&&(h=Math.abs(s-r.y)/(n-r.x),Y(r,t)&&(h<f||h===f&&(r.x>i.x||r.x===i.x&&(l=r,X((u=i).prev,u,l.prev)<0&&X(l.next,u,u.next)<0)))&&(i=r,f=h)),(r=r.next)!==c;);return i}(s,o=i))&&(s=V(o,s),B(o,o.next),B(s,s.next)),i=B(i,i.next);return i}(t,e,l,i)),t.length>80*i){for(var p=r=t[0],d=n=t[1],f=i;f<u;f+=i)(s=t[f])<p&&(p=s),(o=t[f+1])<d&&(d=o),r<s&&(r=s),n<o&&(n=o);a=0!==(a=Math.max(r-p,n-d))?1/a:0}return k(l,c,i,p,d,a),c}function N(t,e,i,r,n){var s,o;if(n===0<Q(t,e,i,r))for(s=e;s<i;s+=r)o=$(s,t[s],t[s+1],o);else for(s=i-r;e<=s;s-=r)o=$(s,t[s],t[s+1],o);return o&&j(o,o.next)&&(Z(o),o=o.next),o}function B(t,e){if(!t)return t;e=e||t;var i,r=t;do{if(i=!1,r.steiner||!j(r,r.next)&&0!==X(r.prev,r,r.next))r=r.next;else{if(Z(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function k(t,e,i,r,n,s,o){if(t){!o&&s&&function(t,e,i,r){for(var n=t;null===n.z&&(n.z=G(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,(n=n.next)!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,h,u=1;do{for(i=t,s=t=null,o=0;i;){for(o++,r=i,e=a=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;0<a||0<h&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(i=(n=i).nextZ,a--):(r=(n=r).nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}}while(s.nextZ=null,u*=2,1<o)}(n)}(t,r,n,s);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,s?function(t,e,i,r){var n=t.prev,s=t,o=t.next;if(0<=X(n,s,o))return!1;for(var a=(n.x<s.x?n.x<o.x?n:o:s.x<o.x?s:o).x,h=(n.y<s.y?n.y<o.y?n:o:s.y<o.y?s:o).y,u=(n.x>s.x?n.x>o.x?n:o:s.x>o.x?s:o).x,l=(n.y>s.y?n.y>o.y?n:o:s.y>o.y?s:o).y,c=G(a,h,e,i,r),p=G(u,l,e,i,r),d=t.prevZ,f=t.nextZ;d&&d.z>=c&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=X(d.prev,d,d.next))return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=X(f.prev,f,f.next))return!1;f=f.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=X(d.prev,d,d.next))return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&U(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=X(f.prev,f,f.next))return!1;f=f.nextZ}return!0}(t,r,n,s):function(t){var e=t.prev,i=t,r=t.next;if(0<=X(e,i,r))return!1;for(var n=t.next.next;n!==t.prev;){if(U(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=X(n.prev,n,n.next))return!1;n=n.next}return!0}(t))e.push(a.i/i),e.push(t.i/i),e.push(h.i/i),Z(t),t=h.next,u=h.next;else if((t=h)===u){o?1===o?k(t=function(t,e,i){var r=t;do{var n=r.prev,s=r.next.next}while(!j(n,s)&&z(n,r,r.next,s)&&Y(n,s)&&Y(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),Z(r),Z(r.next),r=t=s),r=r.next,r!==t);return B(r)}(B(t),e,i),e,i,r,n,s,2):2===o&&function(t,e,i,r,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&z(i,i.next,t,e))return 1}while((i=i.next)!==t)}(t,e)&&(Y(t,e)&&Y(e,t)&&function(t,e){for(var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),(i=i.next)!==t;);return r}(t,e)&&(X(t.prev,t,e.prev)||X(t,e.prev,e))||j(t,e)&&0<X(t.prev,t,t.next)&&0<X(e.prev,e,e.next))}(o,a)){var h=V(o,a);return o=B(o,o.next),h=B(h,h.next),k(o,e,i,r,n,s),k(h,e,i,r,n,s)}a=a.next}}while(o=o.next,o!==t)}(t,e,i,r,n,s):k(B(t),e,i,r,n,s,1);break}}}function F(t,e){return t.x-e.x}function G(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function U(t,e,i,r,n,s,o,a){return 0<=(n-o)*(e-a)-(t-o)*(s-a)&&0<=(t-o)*(r-a)-(i-o)*(e-a)&&0<=(i-o)*(s-a)-(n-o)*(r-a)}function X(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function j(t,e){return t.x===e.x&&t.y===e.y}function z(t,e,i,r){var n=q(X(t,e,i)),s=q(X(t,e,r)),o=q(X(i,r,t)),a=q(X(i,r,e));return n!==s&&o!==a||0===n&&H(t,i,e)||0===s&&H(t,r,e)||0===o&&H(i,t,r)||0===a&&H(i,e,r)}function H(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function q(t){return 0<t?1:t<0?-1:0}function Y(t,e){return X(t.prev,t,t.next)<0?0<=X(t,e,t.next)&&0<=X(t,t.prev,e):X(t,e,t.prev)<0||X(t,t.next,e)<0}function V(t,e){var i=new K(t.i,t.x,t.y),r=new K(e.i,e.x,e.y),n=t.next,s=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(s.next=r).prev=s,r}function $(t,e,i,r){i=new K(t,e,i);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Z(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function K(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Q(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}R.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,o=Math.abs(Q(t,0,s,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;o-=Math.abs(Q(t,u,l,i))}for(var c=0,a=0;a<r.length;a+=3){var p=r[a]*i,d=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[p]-t[f])*(t[1+d]-t[1+p])-(t[p]-t[d])*(t[1+f]-t[1+p]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},R.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[n][s][o]);0<n&&(r+=t[n-1].length,i.holes.push(r))}return i},M.default=D;var J=t(function(I,A){!function(t){var e=A&&!A.nodeType&&A,i=I&&!I.nodeType&&I,r="object"==typeof C&&C;r.global!==r&&r.window!==r&&r.self!==r||(t=r);var n,s,m=2147483647,g=36,y=26,o=38,a=700,h=/^xn--/,u=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=g-1,v=Math.floor,x=String.fromCharCode;function b(t){throw RangeError(c[t])}function d(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function f(t,e){var i=t.split("@"),r="";return 1<i.length&&(r=i[0]+"@",t=i[1]),r+d((t=t.replace(l,".")).split("."),e).join(".")}function T(t){for(var e,i,r=[],n=0,s=t.length;n<s;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function _(t){return d(t,function(t){var e="";return 65535<t&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+x(t)}).join("")}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,i){var r=0;for(t=i?v(t/a):t>>1,t+=v(t/e);p*y>>1<t;r+=g)t=v(t/p);return v(r+(p+1)*t/(t+o))}function E(t){var e,i,r,n,s,o,a,h,u=[],l=t.length,c=0,p=128,d=72;for((i=t.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)128<=t.charCodeAt(r)&&b("not-basic"),u.push(t.charCodeAt(r));for(n=0<i?i+1:0;n<l;){for(s=c,o=1,a=g;l<=n&&b("invalid-input"),((h=(h=t.charCodeAt(n++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:g)>=g||h>v((m-c)/o))&&b("overflow"),c+=h*o,!(h<(h=a<=d?1:d+y<=a?y:a-d));a+=g)o>v(m/(h=g-h))&&b("overflow"),o*=h;d=w(c-s,e=u.length+1,0==s),v(c/e)>m-p&&b("overflow"),p+=v(c/e),c%=e,u.splice(c++,0,p)}return _(u)}function S(t){for(var e,i,r,n,s,o,a,h,u,l=[],c=(t=T(t)).length,p=128,d=0,f=72,_=0;_<c;++_)(o=t[_])<128&&l.push(x(o));for(e=i=l.length,i&&l.push("-");e<c;){for(r=m,_=0;_<c;++_)(o=t[_])>=p&&o<r&&(r=o);for(r-p>v((m-d)/(a=e+1))&&b("overflow"),d+=(r-p)*a,p=r,_=0;_<c;++_)if((o=t[_])<p&&++d>m&&b("overflow"),o==p){for(n=d,s=g;!(n<(h=s<=f?1:f+y<=s?y:s-f));s+=g)l.push(x(P(h+(u=n-h)%(h=g-h),0))),n=v(u/h);l.push(x(P(n,0))),f=w(d,a,e==i),d=0,++e}++d,++p}return l.join("")}if(n={version:"1.3.2",ucs2:{decode:T,encode:_},decode:E,encode:S,toASCII:function(t){return f(t,function(t){return u.test(t)?"xn--"+S(t):t})},toUnicode:function(t){return f(t,function(t){return h.test(t)?E(t.slice(4).toLowerCase()):t})}},e&&i)if(I.exports==e)i.exports=n;else for(s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);else t.punycode=n}(C)}),tt=function(t){return"string"==typeof t},et=function(t){return"object"==typeof t&&null!==t},it=function(t){return null===t},rt=function(t){return null==t};function nt(t,e,i,r){i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var s=/\+/g;t=t.split(e=e||"&"),e=1e3,r&&"number"==typeof r.maxKeys&&(e=r.maxKeys);var o=t.length;0<e&&e<o&&(o=e);for(var a=0;a<o;++a){var h,u=t[a].replace(s,"%20"),l=u.indexOf(i),l=0<=l?(h=u.substr(0,l),u.substr(l+1)):(h=u,""),u=decodeURIComponent(h),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(n,u)?Array.isArray(n[u])?n[u].push(l):n[u]=[n[u],l]:n[u]=l}return n}function st(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function ot(i,r,n,t){return r=r||"&",n=n||"=","object"==typeof(i=null===i?void 0:i)?Object.keys(i).map(function(t){var e=encodeURIComponent(st(t))+n;return Array.isArray(i[t])?i[t].map(function(t){return e+encodeURIComponent(st(t))}).join(r):e+encodeURIComponent(st(i[t]))}).join(r):t?encodeURIComponent(st(t))+n+encodeURIComponent(st(i)):""}var at=t(function(t,e){e.decode=e.parse=nt,e.encode=e.stringify=ot}),ht=(at.decode,at.parse,at.encode,at.stringify,Pt),ut=lt;function lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ct=/^([a-z0-9.+-]+:)/i,pt=/:[0-9]*$/,dt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ft=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),_t=["'"].concat(ft),mt=["%","/","?",";","#"].concat(_t),gt=["/","?","#"],yt=/^[+a-z0-9A-Z_-]{0,63}$/,vt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xt={javascript:!0,"javascript:":!0},bt={javascript:!0,"javascript:":!0},Tt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Pt(t,e,i){if(t&&et(t)&&t instanceof lt)return t;var r=new lt;return r.parse(t,e,i),r}lt.prototype.parse=function(t,e,i){if(!tt(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",r=t.split(n);r[0]=r[0].replace(/\\/g,"/");var s=(s=t=r.join(n)).trim();if(!i&&1===t.split("#").length){var o=dt.exec(s);if(o)return this.path=s,this.href=s,this.pathname=o[1],o[2]?(this.search=o[2],this.query=e?at.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,o=ct.exec(s);if(o&&(E=(o=o[0]).toLowerCase(),this.protocol=E,s=s.substr(o.length)),(i||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||o&&bt[o]||(s=s.substr(2),this.slashes=!0)),!bt[o]&&(a||o&&!Tt[o])){for(var h,u=-1,l=0;l<gt.length;l++)-1!==(h=s.indexOf(gt[l]))&&(-1===u||h<u)&&(u=h);for(-1!==(b=-1===u?s.lastIndexOf("@"):s.lastIndexOf("@",u))&&(T=s.slice(0,b),s=s.slice(b+1),this.auth=decodeURIComponent(T)),u=-1,l=0;l<mt.length;l++)-1!==(h=s.indexOf(mt[l]))&&(-1===u||h<u)&&(u=h);-1===u&&(u=s.length),this.host=s.slice(0,u),s=s.slice(u),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var p=this.hostname.split(/\./),d=(l=0,p.length);l<d;l++){var f=p[l];if(f&&!f.match(yt)){for(var _="",m=0,g=f.length;m<g;m++)127<f.charCodeAt(m)?_+="x":_+=f[m];if(!_.match(yt)){var y=p.slice(0,l),v=p.slice(l+1),x=f.match(vt);x&&(y.push(x[1]),v.unshift(x[2])),v.length&&(s="/"+v.join(".")+s),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=J.toASCII(this.hostname));var b=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+b,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!xt[E])for(l=0,d=_t.length;l<d;l++){var P,w=_t[l];-1!==s.indexOf(w)&&((P=encodeURIComponent(w))===w&&(P=escape(w)),s=s.split(w).join(P))}c=s.indexOf("#");-1!==c&&(this.hash=s.substr(c),s=s.slice(0,c));var E,c=s.indexOf("?");return-1!==c?(this.search=s.substr(c),this.query=s.substr(c+1),e&&(this.query=at.parse(this.query)),s=s.slice(0,c)):e&&(this.search="",this.query={}),s&&(this.pathname=s),Tt[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(b=this.pathname||"",E=this.search||"",this.path=b+E),this.href=this.format(),this},lt.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&et(this.query)&&Object.keys(this.query).length&&(s=at.stringify(this.query));s=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||Tt[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n=n||"",r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},lt.prototype.resolve=function(t){return this.resolveObject(Pt(t,!1,!0)).format()},lt.prototype.resolveObject=function(t){tt(t)&&((d=new lt).parse(t,!1,!0),t=d);for(var e=new lt,i=Object.keys(this),r=0;r<i.length;r++){var n=i[r];e[n]=this[n]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var a=s[o];"protocol"!==a&&(e[a]=t[a])}return Tt[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Tt[t.protocol]){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||bt[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(f=e.pathname||"",_=e.search||"",e.path=f+_),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var p=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=d||p||e.host&&t.pathname,_=f,m=e.pathname&&e.pathname.split("/")||[],p=(c=t.pathname&&t.pathname.split("/")||[],e.protocol&&!Tt[e.protocol]);if(p&&(e.hostname="",e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),f=f&&(""===c[0]||""===m[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,m=c;else if(c.length)(m=m||[]).pop(),m=m.concat(c),e.search=t.search,e.query=t.query;else if(!rt(t.search))return p&&(e.hostname=e.host=m.shift(),(x=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=x.shift(),e.host=e.hostname=x.shift())),e.search=t.search,e.query=t.query,it(e.pathname)&&it(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!m.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var g=m.slice(-1)[0],d=(e.host||t.host||1<m.length)&&("."===g||".."===g)||""===g,y=0,v=m.length;0<=v;v--)"."===(g=m[v])?m.splice(v,1):".."===g?(m.splice(v,1),y++):y&&(m.splice(v,1),y--);if(!f&&!_)for(;y--;)m.unshift("..");!f||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),d&&"/"!==m.join("/").substr(-1)&&m.push("");var x,d=""===m[0]||m[0]&&"/"===m[0].charAt(0);return p&&(e.hostname=e.host=!d&&m.length?m.shift():"",(x=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=x.shift(),e.host=e.hostname=x.shift())),(f=f||e.host&&m.length)&&!d&&m.unshift(""),m.length?e.pathname=m.join("/"):(e.pathname=null,e.path=null),it(e.pathname)&&it(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},lt.prototype.parseHost=function(){var t=this.host,e=pt.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var wt={parse:ht,resolve:function(t,e){return Pt(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Pt(t,!1,!0).resolveObject(e):e},format:function(t){return(t=tt(t)?Pt(t):t)instanceof lt?t.format():lt.prototype.format.call(t)},Url:ut};(Xi=W.ENV||(W.ENV={}))[Xi.WEBGL_LEGACY=0]="WEBGL_LEGACY",Xi[Xi.WEBGL=1]="WEBGL",Xi[Xi.WEBGL2=2]="WEBGL2",(Wi=W.RENDERER_TYPE||(W.RENDERER_TYPE={}))[Wi.UNKNOWN=0]="UNKNOWN",Wi[Wi.WEBGL=1]="WEBGL",Wi[Wi.CANVAS=2]="CANVAS",(zi=W.BUFFER_BITS||(W.BUFFER_BITS={}))[zi.COLOR=16384]="COLOR",zi[zi.DEPTH=256]="DEPTH",zi[zi.STENCIL=1024]="STENCIL",(Hi=W.BLEND_MODES||(W.BLEND_MODES={}))[Hi.NORMAL=0]="NORMAL",Hi[Hi.ADD=1]="ADD",Hi[Hi.MULTIPLY=2]="MULTIPLY",Hi[Hi.SCREEN=3]="SCREEN",Hi[Hi.OVERLAY=4]="OVERLAY",Hi[Hi.DARKEN=5]="DARKEN",Hi[Hi.LIGHTEN=6]="LIGHTEN",Hi[Hi.COLOR_DODGE=7]="COLOR_DODGE",Hi[Hi.COLOR_BURN=8]="COLOR_BURN",Hi[Hi.HARD_LIGHT=9]="HARD_LIGHT",Hi[Hi.SOFT_LIGHT=10]="SOFT_LIGHT",Hi[Hi.DIFFERENCE=11]="DIFFERENCE",Hi[Hi.EXCLUSION=12]="EXCLUSION",Hi[Hi.HUE=13]="HUE",Hi[Hi.SATURATION=14]="SATURATION",Hi[Hi.COLOR=15]="COLOR",Hi[Hi.LUMINOSITY=16]="LUMINOSITY",Hi[Hi.NORMAL_NPM=17]="NORMAL_NPM",Hi[Hi.ADD_NPM=18]="ADD_NPM",Hi[Hi.SCREEN_NPM=19]="SCREEN_NPM",Hi[Hi.NONE=20]="NONE",Hi[Hi.SRC_OVER=0]="SRC_OVER",Hi[Hi.SRC_IN=21]="SRC_IN",Hi[Hi.SRC_OUT=22]="SRC_OUT",Hi[Hi.SRC_ATOP=23]="SRC_ATOP",Hi[Hi.DST_OVER=24]="DST_OVER",Hi[Hi.DST_IN=25]="DST_IN",Hi[Hi.DST_OUT=26]="DST_OUT",Hi[Hi.DST_ATOP=27]="DST_ATOP",Hi[Hi.ERASE=26]="ERASE",Hi[Hi.SUBTRACT=28]="SUBTRACT",Hi[Hi.XOR=29]="XOR",(hr=W.DRAW_MODES||(W.DRAW_MODES={}))[hr.POINTS=0]="POINTS",hr[hr.LINES=1]="LINES",hr[hr.LINE_LOOP=2]="LINE_LOOP",hr[hr.LINE_STRIP=3]="LINE_STRIP",hr[hr.TRIANGLES=4]="TRIANGLES",hr[hr.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",hr[hr.TRIANGLE_FAN=6]="TRIANGLE_FAN",(ts=W.FORMATS||(W.FORMATS={}))[ts.RGBA=6408]="RGBA",ts[ts.RGB=6407]="RGB",ts[ts.ALPHA=6406]="ALPHA",ts[ts.LUMINANCE=6409]="LUMINANCE",ts[ts.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",ts[ts.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",ts[ts.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(ss=W.TARGETS||(W.TARGETS={}))[ss.TEXTURE_2D=3553]="TEXTURE_2D",ss[ss.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",ss[ss.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",ss[ss.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",ss[ss.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",ss[ss.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",ss[ss.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",ss[ss.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",ss[ss.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(ds=W.TYPES||(W.TYPES={}))[ds.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",ds[ds.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",ds[ds.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",ds[ds.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",ds[ds.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",ds[ds.FLOAT=5126]="FLOAT",ds[ds.HALF_FLOAT=36193]="HALF_FLOAT",(Xs=W.SCALE_MODES||(W.SCALE_MODES={}))[Xs.NEAREST=0]="NEAREST",Xs[Xs.LINEAR=1]="LINEAR",(Ws=W.WRAP_MODES||(W.WRAP_MODES={}))[Ws.CLAMP=33071]="CLAMP",Ws[Ws.REPEAT=10497]="REPEAT",Ws[Ws.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(uo=W.MIPMAP_MODES||(W.MIPMAP_MODES={}))[uo.OFF=0]="OFF",uo[uo.POW2=1]="POW2",uo[uo.ON=2]="ON",(lo=W.ALPHA_MODES||(W.ALPHA_MODES={}))[lo.NPM=0]="NPM",lo[lo.UNPACK=1]="UNPACK",lo[lo.PMA=2]="PMA",lo[lo.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",lo[lo.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",lo[lo.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(co=W.CLEAR_MODES||(W.CLEAR_MODES={}))[co.NO=0]="NO",co[co.YES=1]="YES",co[co.AUTO=2]="AUTO",co[co.BLEND=0]="BLEND",co[co.CLEAR=1]="CLEAR",co[co.BLIT=2]="BLIT",(xo=W.GC_MODES||(W.GC_MODES={}))[xo.AUTO=0]="AUTO",xo[xo.MANUAL=1]="MANUAL",(Po=W.PRECISION||(W.PRECISION={})).LOW="lowp",Po.MEDIUM="mediump",Po.HIGH="highp",(Oa=W.MASK_TYPES||(W.MASK_TYPES={}))[Oa.NONE=0]="NONE",Oa[Oa.SCISSOR=1]="SCISSOR",Oa[Oa.STENCIL=2]="STENCIL",Oa[Oa.SPRITE=3]="SPRITE",(Uo=W.MSAA_QUALITY||(W.MSAA_QUALITY={}))[Uo.NONE=0]="NONE",Uo[Uo.LOW=2]="LOW",Uo[Uo.MEDIUM=4]="MEDIUM",Uo[Uo.HIGH=8]="HIGH",O.RETINA_PREFIX=/@([0-9\.]+)x/;var Et,St=!(O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0);function It(t){var e;St||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(e=window.console).log.apply(e,["\n %c %c %c PixiJS 5.3.10 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS 5.3.10 - "+t+" - http://www.pixijs.com/"),St=!0)}function At(){return Et=void 0===Et?function(){var t={stencil:!0,failIfMajorPerformanceCaveat:O.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e,i=document.createElement("canvas"),r=i.getContext("webgl",t)||i.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);return!r||(e=r.getExtension("WEBGL_lose_context"))&&e.loseContext(),r=null,n}catch(t){return!1}}():Et}function Ct(t,e){return(e=void 0===e?[]:e)[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ot(t){t=t.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function Lt(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function Mt(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var Dt=function(){for(var t=[],e=[],i=0;i<32;i++)e[t[i]=i]=i;t[W.BLEND_MODES.NORMAL_NPM]=W.BLEND_MODES.NORMAL,t[W.BLEND_MODES.ADD_NPM]=W.BLEND_MODES.ADD,t[W.BLEND_MODES.SCREEN_NPM]=W.BLEND_MODES.SCREEN,e[W.BLEND_MODES.NORMAL]=W.BLEND_MODES.NORMAL_NPM,e[W.BLEND_MODES.ADD]=W.BLEND_MODES.ADD_NPM,e[W.BLEND_MODES.SCREEN]=W.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function Rt(t,e){return Dt[e?1:0][t]}function Nt(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function Bt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=255&t;return(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+(i*e+.5|0)}function kt(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,!r&&void 0!==r||(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function Ft(t,e){var i=6*t;if((e=(e=void 0===e?null:e)||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}function Gt(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Ut={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Xt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,1+((t|=t>>>8)|t>>>16)}function jt(t){return!(t&t-1||!t)}function Wt(t){var e=(65535<t?1:0)<<4,i=(255<(t>>>=e)?1:0)<<3;return e|=i,e|=i=(15<(t>>>=i)?1:0)<<2,(e|=i=(3<(t>>>=i)?1:0)<<1)|t>>>i>>1}function zt(t,e,i){var r=t.length;if(!(r<=e||0===i)){for(var n=r-(i=r<e+i?r-e:i),s=e;s<n;++s)t[s]=t[s+i];t.length=n}}function Ht(t){return 0===t?0:t<0?-1:1}var qt=0;function Yt(){return++qt}var Vt={};function $t(t,e,i){var r;void 0===i&&(i=3),Vt[e]||(void 0===(r=(new Error).stack)?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),Vt[e]=!0)}var Zt={},Kt=Object.create(null),Qt=Object.create(null),Jt=(te.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},te.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},te.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(te.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),te);function te(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||O.RESOLUTION,this.resize(t,e)}function ee(t){for(var e,i,r=t.width,n=t.height,s=t.getContext("2d"),o=s.getImageData(0,0,r,n).data,a=o.length,h={top:null,left:null,right:null,bottom:null},t=null,u=0;u<a;u+=4)0!==o[u+3]&&(e=u/4%r,i=~~(u/4/r),null===h.top&&(h.top=i),(null===h.left||e<h.left)&&(h.left=e),(null===h.right||h.right<e)&&(h.right=1+e),(null===h.bottom||h.bottom<i)&&(h.bottom=i));return null!==h.top&&(r=h.right-h.left,n=h.bottom-h.top+1,t=s.getImageData(h.left,h.top,r,n)),{height:n,width:r,data:t}}var ie,re=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ne(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,(ie=ie||document.createElement("a")).href=t;var i=ht(ie.href),t=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&t&&i.protocol===e.protocol?"":"anonymous"}function se(t,e){t=O.RETINA_PREFIX.exec(t);return t?parseFloat(t[1]):void 0!==e?e:1}var oe={BaseTextureCache:Qt,CanvasRenderTarget:Jt,DATA_URI:re,ProgramCache:Zt,TextureCache:Kt,clearTextureCache:function(){for(var t in Kt)delete Kt[t];for(t in Qt)delete Qt[t]},correctBlendMode:Rt,createIndicesForQuads:Ft,decomposeDataUri:function(t){t=re.exec(t);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},deprecation:$t,destroyTextureCache:function(){for(var t in Kt)Kt[t].destroy();for(t in Qt)Qt[t].destroy()},determineCrossOrigin:ne,getBufferType:Gt,getResolutionOfUrl:se,hex2rgb:Ct,hex2string:Ot,interleaveTypedArrays:function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,s=0;s<t.length;s++){var u=e[s],l=t[s],c=Gt(l);n[c]||(n[c]=new Ut[c](o));for(var a=n[c],p=0;p<l.length;p++)a[(p/u|0)*r+h+p%u]=l[p];h+=u}return new Float32Array(o)},isPow2:jt,isWebGLSupported:At,log2:Wt,nextPow2:Xt,premultiplyBlendMode:Dt,premultiplyRgba:Nt,premultiplyTint:Bt,premultiplyTintToRgba:kt,removeItems:zt,rgb2hex:Mt,sayHello:It,sign:Ht,skipHello:function(){St=!0},string2hex:Lt,trimCanvas:ee,uid:Yt,isMobile:A,EventEmitter:L,earcut:M,url:wt},ae=2*Math.PI,he=180/Math.PI,ue=Math.PI/180;(Hh=W.SHAPES||(W.SHAPES={}))[Hh.POLY=0]="POLY",Hh[Hh.RECT=1]="RECT",Hh[Hh.CIRC=2]="CIRC",Hh[Hh.ELIP=3]="ELIP",Hh[Hh.RREC=4]="RREC";var le=(Object.defineProperty(Me.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Me.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(Me,"EMPTY",{get:function(){return new Me(0,0,0,0)},enumerable:!1,configurable:!0}),Me.prototype.clone=function(){return new Me(this.x,this.y,this.width,this.height)},Me.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Me.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Me.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},Me.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},Me.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(t-r,0),this},Me.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},Me.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=t-r,this},Me),ce=(Le.prototype.clone=function(){return new Le(this.x,this.y,this.radius)},Le.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=i},Le.prototype.getBounds=function(){return new le(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},Le),pe=(Oe.prototype.clone=function(){return new Oe(this.x,this.y,this.width,this.height)},Oe.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+e*e<=1},Oe.prototype.getBounds=function(){return new le(this.x-this.width,this.y-this.height,this.width,this.height)},Oe),de=(Ce.prototype.clone=function(){var t=new Ce(this.points.slice());return t.closeStroke=this.closeStroke,t},Ce.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var o=this.points[2*n],a=this.points[2*n+1],h=this.points[2*s],u=this.points[2*s+1];e<a!=e<u&&t<(e-a)/(u-a)*(h-o)+o&&(i=!i)}return i},Ce),fe=(Ae.prototype.clone=function(){return new Ae(this.x,this.y,this.width,this.height,this.radius)},Ae.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},Ae),_e=(Ie.prototype.clone=function(){return new Ie(this.x,this.y)},Ie.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},Ie.prototype.copyTo=function(t){return t.set(this.x,this.y),t},Ie.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},Ie.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},Ie),me=(Se.prototype.clone=function(t,e){return new Se(t=void 0===t?this.cb:t,e=void 0===e?this.scope:e,this._x,this._y)},Se.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},Se.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},Se.prototype.copyTo=function(t){return t.set(this._x,this._y),t},Se.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(Se.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Se),ge=(Ee.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},Ee.prototype.set=function(t,e,i,r,n,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s,this},Ee.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},Ee.prototype.apply=function(t,e){e=e||new _e;var i=t.x,t=t.y;return e.x=this.a*i+this.c*t+this.tx,e.y=this.b*i+this.d*t+this.ty,e},Ee.prototype.applyInverse=function(t,e){e=e||new _e;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,t=t.y;return e.x=this.d*i*r+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},Ee.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},Ee.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},Ee.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,t=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=t*e-this.ty*i,this.ty=t*i+this.ty*e,this},Ee.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},Ee.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},Ee.prototype.prepend=function(t){var e,i,r=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,i=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d),this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},Ee.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,s=-Math.atan2(-r,n),o=Math.atan2(i,e),a=Math.abs(s+o);return a<1e-5||Math.abs(ae-a)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=o),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Ee.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this},Ee.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Ee.prototype.clone=function(){var t=new Ee;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Ee.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Ee.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(Ee,"IDENTITY",{get:function(){return new Ee},enumerable:!1,configurable:!0}),Object.defineProperty(Ee,"TEMP_MATRIX",{get:function(){return new Ee},enumerable:!1,configurable:!0}),Ee),ye=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ve=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],xe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],be=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Te=[],Pe=[],we=Math.sign;function Ee(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s}function Se(t,e,i,r){void 0===r&&(r=0),this._x=i=void 0===i?0:i,this._y=r,this.cb=t,this.scope=e}function Ie(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}function Ae(t,e,i,r,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=W.SHAPES.RREC}function Ce(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var n=[],s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=W.SHAPES.POLY,this.closeStroke=!0}function Oe(t,e,i,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=r,this.type=W.SHAPES.ELIP}function Le(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.x=t=void 0===t?0:t,this.y=e,this.radius=i,this.type=W.SHAPES.CIRC}function Me(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=W.SHAPES.RECT}!function(){for(var t=0;t<16;t++){var e=[];Te.push(e);for(var i=0;i<16;i++)for(var r=we(ye[t]*ye[i]+xe[t]*ve[i]),n=we(ve[t]*ye[i]+be[t]*ve[i]),s=we(ye[t]*xe[i]+xe[t]*be[i]),o=we(ve[t]*xe[i]+be[t]*be[i]),a=0;a<16;a++)if(ye[a]===r&&ve[a]===n&&xe[a]===s&&be[a]===o){e.push(a);break}}for(t=0;t<16;t++){var h=new ge;h.set(ye[t],ve[t],xe[t],be[t],0,0),Pe.push(h)}}();var De={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ye[t]},uY:function(t){return ve[t]},vX:function(t){return xe[t]},vY:function(t){return be[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Te[t][e]},sub:function(t,e){return Te[t][De.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?De.S:De.N:2*Math.abs(e)<=Math.abs(t)?0<t?De.E:De.W:0<e?0<t?De.SE:De.SW:0<t?De.NE:De.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);e=Pe[De.inv(e)];e.tx=i,e.ty=r,t.append(e)}},Re=(Ne.prototype.onChange=function(){this._localID++},Ne.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},Ne.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Ne.prototype.updateTransform=function(t){var e,i,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(i=this.worldTransform).a=r.a*e.a+r.b*e.c,i.b=r.a*e.b+r.b*e.d,i.c=r.c*e.a+r.d*e.c,i.d=r.c*e.b+r.d*e.d,i.tx=r.tx*e.a+r.ty*e.c+e.tx,i.ty=r.tx*e.b+r.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},Ne.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(Ne.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),Ne.IDENTITY=new Ne,Ne);function Ne(){this.worldTransform=new ge,this.localTransform=new ge,this.position=new me(this.onChange,this,0,0),this.scale=new me(this.onChange,this,1,1),this.pivot=new me(this.onChange,this,0,0),this.skew=new me(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}O.SORTABLE_CHILDREN=!1;var Be=(Fe.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Fe.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Fe.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?le.EMPTY:((t=t||new le(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Fe.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Fe.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=t[0],o=t[1],e=s<e?s:e,i=o<i?o:i,r=r<s?s:r,n=n<o?o:n;e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,r=r<s?s:r,n=n<o?o:n,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,r=r<s?s:r,n=n<o?o:n,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,r=r<s?s:r,n=n<o?o:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},Fe.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},Fe.prototype.addFrameMatrix=function(t,e,i,r,n){var s=t.a,o=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=s*e+a*i+u,p=o*e+h*i+l,d=c<(d=this.minX)?c:d,f=p<(f=this.minY)?p:f,_=(_=this.maxX)<c?c:_,t=(t=this.maxY)<p?p:t;d=(c=s*r+a*i+u)<d?c:d,f=(p=o*r+h*i+l)<f?p:f,_=_<c?c:_,t=t<p?p:t,d=(c=s*e+a*n+u)<d?c:d,f=(p=o*e+h*n+l)<f?p:f,_=_<c?c:_,t=t<p?p:t,d=(c=s*r+a*n+u)<d?c:d,f=(p=o*r+h*n+l)<f?p:f,_=_<c?c:_,t=t<p?p:t,this.minX=d,this.minY=f,this.maxX=_,this.maxY=t},Fe.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2)var h=t[a],u=t[a+1],r=h<r?h:r,n=u<n?u:n,s=s<h?h:s,o=o<u?u:o;this.minX=r,this.minY=n,this.maxX=s,this.maxY=o},Fe.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},Fe.prototype.addVerticesMatrix=function(t,e,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var o=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,p=this.minX,d=this.minY,f=this.maxX,_=this.maxY,m=i;m<r;m+=2)var g=e[m],y=e[m+1],v=o*g+h*y+l,g=u*y+a*g+c,p=Math.min(p,v-n),f=Math.max(f,v+n),d=Math.min(d,g-s),_=Math.max(_,g+s);this.minX=p,this.minY=d,this.maxX=f,this.maxY=_},Fe.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},Fe.prototype.addBoundsMask=function(t,e){var i,r,n=(t.minX>e.minX?t:e).minX,s=(t.minY>e.minY?t:e).minY,o=(t.maxX<e.maxX?t:e).maxX,a=(t.maxY<e.maxY?t:e).maxY;n<=o&&s<=a&&(i=this.minX,r=this.minY,t=this.maxX,e=this.maxY,this.minX=n<i?n:i,this.minY=s<r?s:r,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},Fe.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Fe.prototype.addBoundsArea=function(t,e){var i,r,n=t.minX>e.x?t.minX:e.x,s=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;n<=o&&s<=a&&(i=this.minX,r=this.minY,t=this.maxX,e=this.maxY,this.minX=n<i?n:i,this.minY=s<r?s:r,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},Fe.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Fe.prototype.addFramePad=function(t,e,i,r,n,s){e-=s,i+=n,r+=s,this.minX=this.minX<(t-=n)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},Fe),ke=function(t,e){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Fe(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}function Ge(t,e){function i(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ue,Xe,je=(Ge(He,Xe=L),He.mixin=function(t){for(var e=Object.keys(t),i=0;i<e.length;++i){var r=e[i];Object.defineProperty(He.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},He.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},He.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},He.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new le),e=this._boundsRect),this._bounds.getRectangle(e)},He.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new le),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Be);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,n=this._boundsID;this._bounds=this._localBounds;t=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-n,t},He.prototype.toGlobal=function(t,e,i){return(i=void 0===i?!1:i)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},He.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},He.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},He.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t=void 0===t?0:t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},He.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(He.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new We),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),He.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},He.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(He.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"angle",{get:function(){return this.transform.rotation*he},set:function(t){this.transform.rotation=t*ue},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),He),We=(Ge(ze,Ue=je),ze);function ze(){var t=null!==Ue&&Ue.apply(this,arguments)||this;return t.sortDirty=null,t}function He(){var t=Xe.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Re,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Be,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}function qe(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}je.prototype.displayObjectUpdateTransform=je.prototype.updateTransform;var Ye,Ve=(Ge($e,Ye=je),$e.prototype.onChildrenChange=function(t){},$e.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),(n.parent=this).sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},$e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},$e.prototype.swapChildren=function(t,e){var i,r;t!==e&&(i=this.getChildIndex(t),r=this.getChildIndex(e),this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r))},$e.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},$e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);zt(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},$e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},$e.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,zt(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return e[0]},$e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,zt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},$e.prototype.removeChildren=function(t,e){var i=t=void 0===t?0:t,r=(e=void 0===e?this.children.length:e)-i;if(0<r&&r<=e){for(var n=this.children.splice(i,r),s=0;s<n.length;++s)n[s].parent=null,n[s].transform&&(n[s].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),s=0;s<n.length;++s)n[s].emit("removed",this),this.emit("childRemoved",n[s],this,s);return n}if(0==r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},$e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(qe),this.sortDirty=!1},$e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},$e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,i=this.children[t];i.visible&&i.renderable&&(i.calculateBounds(),i._mask?((e=i._mask.maskObject||i._mask).calculateBounds(),this._bounds.addBoundsMask(i._bounds,e._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._bounds.updateID=this._boundsID},$e.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=Ye.prototype.getLocalBounds.call(this,t);if(!e)for(var i=0,r=this.children.length;i<r;++i){var n=this.children[i];n.visible&&n.updateTransform()}return t},$e.prototype._calculateBounds=function(){},$e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},$e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var r=0,n=this.children.length;r<n;r++)this.children[r].render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},$e.prototype._render=function(t){},$e.prototype.destroy=function(t){Ye.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(e)for(var r=0;r<i.length;++r)i[r].destroy(t)},Object.defineProperty($e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty($e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),$e);function $e(){var t=Ye.call(this)||this;return t.children=[],t.sortableChildren=O.SORTABLE_CHILDREN,t.sortDirty=!1,t}Ve.prototype.containerUpdateTransform=Ve.prototype.updateTransform;var Ze={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};je.mixin(Ze);Object.defineProperty(Ke.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(Ke.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),Ke.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},Ke.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},Ke.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},Ke.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},Ke.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},Ke.prototype.update=function(){var t=performance.now();if(!(A.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=this.renderer.resolution,i=e.width/this.renderer.width*t,r=e.height/this.renderer.height*t;(s=this.div).style.left=e.left+"px",s.style.top=e.top+"px",s.style.width=this.renderer.width+"px",s.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var s,o,a,h=this.children[n];h.renderId!==this.renderId?(h._accessibleActive=!1,zt(this.children,n,1),this.div.removeChild(h._accessibleDiv),this.pool.push(h._accessibleDiv),h._accessibleDiv=null,n--):(s=h._accessibleDiv,o=h.hitArea,a=h.worldTransform,h.hitArea?(s.style.left=(a.tx+o.x*a.a)*i+"px",s.style.top=(a.ty+o.y*a.d)*r+"px",s.style.width=o.width*a.a*i+"px",s.style.height=o.height*a.d*r+"px"):(o=h.getBounds(),this.capHitArea(o),s.style.left=o.x*i+"px",s.style.top=o.y*r+"px",s.style.width=o.width*i+"px",s.style.height=o.height*r+"px",s.title!==h.accessibleTitle&&null!==h.accessibleTitle&&(s.title=h.accessibleTitle),s.getAttribute("aria-label")!==h.accessibleHint&&null!==h.accessibleHint&&s.setAttribute("aria-label",h.accessibleHint)),h.accessibleTitle===s.title&&h.tabIndex===s.tabIndex||(s.title=h.accessibleTitle,s.tabIndex=h.tabIndex,this.debug&&this.updateDebugHTML(s)))}this.renderId++}},Ke.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},Ke.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},Ke.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},Ke.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},Ke.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},Ke.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},Ke.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},Ke.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},Ke.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i=Ke;function Ke(t){this._hookDiv=null,(A.tablet||A.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}O.TARGET_FPMS=.06,(r=W.UPDATE_PRIORITY||(W.UPDATE_PRIORITY={}))[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY";var Qe=(si.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},si.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},si.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},si.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},si),Je=(ni.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},ni.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},ni.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},ni.prototype.add=function(t,e,i){return void 0===i&&(i=W.UPDATE_PRIORITY.NORMAL),this._addListener(new Qe(t,e,i))},ni.prototype.addOnce=function(t,e,i){return void 0===i&&(i=W.UPDATE_PRIORITY.NORMAL),this._addListener(new Qe(t,e,i,!0))},ni.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}e=(i=e).next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},ni.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(ni.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),ni.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},ni.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},ni.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},ni.prototype.update=function(t){if((t=void 0===t?performance.now():t)>this.lastTime){if((i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*O.TARGET_FPMS;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(ni.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(ni.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,O.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(ni.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(ni,"shared",{get:function(){var t;return ni._shared||((t=ni._shared=new ni).autoStart=!0,t._protected=!0),ni._shared},enumerable:!1,configurable:!0}),Object.defineProperty(ni,"system",{get:function(){var t;return ni._system||((t=ni._system=new ni).autoStart=!0,t._protected=!0),ni._system},enumerable:!1,configurable:!0}),ni),n=(ri.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,W.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Je.shared:new Je,t.autoStart&&this.start()},ri.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},ri),ti=(Object.defineProperty(ii.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),ii.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},ii.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},ii.prototype.reset=function(){this.isPrimary=!1},ii),ei=function(t,e){return(ei=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function ii(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new _e,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}function ri(){}function ni(){var e=this;this._head=new Qe(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/O.TARGET_FPMS,this.elapsedMS=1/O.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}function si(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}var oi=(pi.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},pi.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},pi),ai=(ci.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(ci.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"none",{get:function(){return this._flags===ci.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"over",{get:function(){return 0!=(this._flags&ci.FLAGS.OVER)},set:function(t){this._doSet(ci.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"rightDown",{get:function(){return 0!=(this._flags&ci.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(ci.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(ci.prototype,"leftDown",{get:function(){return 0!=(this._flags&ci.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(ci.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),ci.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),ci),hi=(li.prototype.recursiveFindHit=function(t,e,i,r,n){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:h=r=!1),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;0<=l;l--){var c=u[l],p=this.recursiveFindHit(t,c,i,r,a);p&&c.parent&&(a=!1,p&&(t.target&&(r=!1),o=!0))}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},li.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},li),ui={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};function li(){this._tempPoint=new _e}function ci(t){this._pointerId=t,this._flags=ci.FLAGS.NONE}function pi(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}je.mixin(ui);var di,fi,_i={target:null,data:{global:null}},D=(ei(fi=yi,Vh=di=L),fi.prototype=null===Vh?Object.create(Vh):(vi.prototype=Vh.prototype,new vi),Object.defineProperty(yi.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(yi.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),yi.prototype.hitTest=function(t,e){return _i.target=null,_i.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(_i,e,null,!0),_i.target},yi.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},yi.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Je.system.add(this.tickerUpdate,this,W.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},yi.prototype.removeTickerListener=function(){this.tickerAdded&&(Je.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},yi.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},yi.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},yi.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},yi.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},yi.prototype.setCursorMode=function(t){if(this.currentCursorMode!==(t=t||"default")){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},yi.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},yi.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},yi.prototype.mapPositionToPoint=function(t,e,i){var r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},yi.prototype.processInteractive=function(t,e,i,r){var r=this.search.findHit(t,e,i,r),n=this.delayedEvents;if(!n.length)return r;t.stopPropagationHint=!1;var s=n.length;this.delayedEvents=[];for(var o=0;o<s;o++){var a=n[o],h=a.displayObject,u=a.eventString,a=a.eventData;a.stopsPropagatingAt===h&&(a.stopPropagationHint=!0),this.dispatchEvent(h,u,a)}return r},yi.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(!t.cancelable&&"cancelable"in t||t.preventDefault());for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType?this.emit("touchstart",s):"mouse"!==n.pointerType&&"pen"!==n.pointerType||(n=2===n.button,this.emit(n?"rightdown":"mousedown",this.eventData))}}},yi.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;i&&(e.trackedPointers[n]||(e.trackedPointers[n]=new ai(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==r.pointerType&&"pen"!==r.pointerType||((r=2===r.button)?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)))},yi.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var a=r[o],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,u),"mouse"===a.pointerType||"pen"===a.pointerType?(h=2===a.button,this.emit(h?"rightup"+s:"mouseup"+s,u)):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,u),this.releaseInteractionDataForPointerId(a.pointerId))}},yi.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},yi.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},yi.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},yi.prototype.processPointerUp=function(t,e,i){var r,n=t.data,s=t.data.identifier,o=e.trackedPointers[s],a="touch"===n.pointerType,h="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;h&&(r=2===n.button,n=ai.FLAGS,n=r?n.RIGHT_DOWN:n.LEFT_DOWN,n=void 0!==o&&o.flags&n,i?(this.dispatchEvent(e,r?"rightup":"mouseup",t),n&&(this.dispatchEvent(e,r?"rightclick":"click",t),u=!0)):n&&this.dispatchEvent(e,r?"rightupoutside":"mouseupoutside",t),o&&(r?o.rightDown=!1:o.leftDown=!1)),i?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(h&&!u||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[s]},yi.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},yi.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,r="mouse"===r.pointerType||"pen"===r.pointerType;r&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),r&&this.dispatchEvent(e,"mousemove",t))},yi.prototype.onPointerOut=function(t){var e,i;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),i=this.getInteractionDataForPointerId(e),(t=this.configureInteractionEventForDOMEvent(this.eventData,e,i)).data.originalEvent=e,this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",t),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",t):this.releaseInteractionDataForPointerId(i.identifier))},yi.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,s="mouse"===r.pointerType||"pen"===r.pointerType,r=e.trackedPointers[n];void 0!==(r=i&&!r?e.trackedPointers[n]=new ai(n):r)&&(i&&this.mouseOverRenderer?(r.over||(r.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):r.over&&(r.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),r.none&&delete e.trackedPointers[n]))},yi.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],t=this.getInteractionDataForPointerId(e),t=this.configureInteractionEventForDOMEvent(this.eventData,e,t);"mouse"===(t.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",t),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",t)},yi.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new ti).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},yi.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},yi.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},yi.prototype.normalizeToPointerData=function(t){var e,i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var s=t.changedTouches[r];void 0===s.button&&(s.button=t.touches.length?1:0),void 0===s.buttons&&(s.buttons=t.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?i.push(t):(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,i.push(e));return i},yi.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},yi),mi=(gi.prototype.emit=function(t,e,i,r,n,s,o,a){if(8<arguments.length)throw new Error("max arguments reached");var h=this.name,u=this.items;this._aliasCount++;for(var l=0,c=u.length;l<c;l++)u[l][h](t,e,i,r,n,s,o,a);return u===this.items&&this._aliasCount--,this},gi.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},gi.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},gi.prototype.remove=function(t){t=this.items.indexOf(t);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},gi.prototype.contains=function(t){return-1!==this.items.indexOf(t)},gi.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},gi.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(gi.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(gi.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),gi);function gi(t){this.items=[],this._name=t,this._aliasCount=0}function yi(t,e){var i=di.call(this)||this;return e=e||{},i.renderer=t,i.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,i.interactionFrequency=e.interactionFrequency||10,i.mouse=new ti,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new oi,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new hi,i._tempDisplayObject=new We,i._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}function vi(){this.constructor=fi}Object.defineProperties(mi.prototype,{dispatch:{value:mi.prototype.emit},run:{value:mi.prototype.emit}}),O.PREFER_ENV=A.any?W.ENV.WEBGL:W.ENV.WEBGL2,O.STRICT_TEXTURE_CACHE=!1;var xi=[];function bi(t,e){if(!t)return null;var i,r="";"string"!=typeof t||(i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(r=i[1].toLowerCase());for(var n=xi.length-1;0<=n;--n){var s=xi[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Ti=function(t,e){return(Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Pi(t,e){function i(){this.constructor=t}Ti(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var wi,Ei,Si,Ii,Ai,Ci,Oi,Li,Mi,Di,Ri,Ni=(rr.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},rr.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},rr.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(rr.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),rr.prototype.update=function(){this.destroyed||this.onUpdate.emit()},rr.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(rr.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(rr.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),rr.prototype.style=function(t,e,i){return!1},rr.prototype.dispose=function(){},rr.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},rr.test=function(t,e){return!1},rr),Bi=(Pi(ir,Ri=Ni),ir.prototype.upload=function(t,e,i){t=t.gl;return t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===W.ALPHA_MODES.UNPACK),i.width===e.width&&i.height===e.height?t.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,t.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},ir.prototype.dispose=function(){this.data=null},ir.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},ir),ki={scaleMode:W.SCALE_MODES.NEAREST,format:W.FORMATS.RGBA,alphaMode:W.ALPHA_MODES.NPM},Fi=(Pi(er,Di=L),Object.defineProperty(er.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),er.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},er.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},er.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},er.prototype._refreshPOT=function(){this.isPowerOfTwo=jt(this.realWidth)&&jt(this.realHeight)},er.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},er.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},er.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},er.prototype.onError=function(t){this.emit("error",this,t)},er.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Qt[this.cacheId],delete Kt[this.cacheId],this.cacheId=null),this.dispose(),er.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},er.prototype.dispose=function(){this.emit("dispose",this)},er.prototype.castToBaseTexture=function(){return this},er.from=function(t,e,i){void 0===i&&(i=O.STRICT_TEXTURE_CACHE);var r="string"==typeof t,n=null,n=r?t:(t._pixiId||(t._pixiId="pixiid_"+ ++qt),t._pixiId),s=Qt[n];if(r&&i&&!s)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return s||((s=new er(t,e)).cacheId=n,er.addToCache(s,n)),s},er.fromBuffer=function(t,e,i,r){t=t||new Float32Array(e*i*4);var n=new Bi(t,{width:e,height:i}),t=t instanceof Float32Array?W.TYPES.FLOAT:W.TYPES.UNSIGNED_BYTE;return new er(n,Object.assign(ki,r||{width:e,height:i,type:t}))},er.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Qt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Qt[e]=t)},er.removeFromCache=function(t){if("string"==typeof t){var e=Qt[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete Qt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete Qt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},er._globalBatch=0,er),ft=(Pi(tr,Mi=Ni),tr.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof Ni?this.addResourceAt(t[i],i):this.addResourceAt(bi(t[i],e),i))},tr.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},tr.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},tr.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");Mi.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},tr.prototype.unbind=function(t){Mi.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},tr.prototype.load=function(){var i=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=i.items[0],e=t.realWidth,t=t.realHeight;return i.resize(e,t),Promise.resolve(i)}),this._load},tr),ut=(Pi(Ji,Li=ft),Ji.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},Ji.prototype.bind=function(t){Li.prototype.bind.call(this,t),t.target=W.TARGETS.TEXTURE_2D_ARRAY},Ji.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=s[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},Ji),Gi=(Pi(Qi,Oi=Ni),Qi.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=ne(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},Qi.prototype.upload=function(t,e,i,r){var n=t.gl,s=e.realWidth,t=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===W.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||i.width!==s||i.height!==t?(i.width=s,i.height=t,n.texImage2D(e.target,0,e.format,e.format,e.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},Qi.prototype.update=function(){var t,e;this.destroyed||(t=(e=this.source).naturalWidth||e.videoWidth||e.width,e=e.naturalHeight||e.videoHeight||e.height,this.resize(t,e),Oi.prototype.update.call(this))},Qi.prototype.dispose=function(){this.source=null},Qi),Ui=(Pi(Ki,Ci=Gi),Ki.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},Ki),Xi=(Pi(Zi,Ai=ft),Zi.prototype.bind=function(t){Ai.prototype.bind.call(this,t),t.target=W.TARGETS.TEXTURE_CUBE_MAP},Zi.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=W.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},Zi.prototype.upload=function(t,e,i){for(var r=this.itemDirtyIds,n=0;n<Zi.SIDES;n++){var s=this.items[n];r[n]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),r[n]=s.dirtyId):r[n]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),r[n]=-1))}return!0},Zi.test=function(t){return Array.isArray(t)&&t.length===Zi.SIDES},Zi.SIDES=6,Zi),ji=(Pi($i,Ii=Gi),$i.prototype.load=function(t){var n=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var i=n.source;n.url=i.src;function r(){n.destroyed||(i.onload=null,i.onerror=null,n.resize(i.width,i.height),n._load=null,n.createBitmap?t(n.process()):t(n))}i.complete&&i.src?r():(i.onload=r,i.onerror=function(t){e(t),n.onError.emit(t)})}),this._load)},$i.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===W.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},$i.prototype.upload=function(t,e,i){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return Ii.prototype.upload.call(this,t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(Ii.prototype.upload.call(this,t,e,i,this.bitmap),!this.preserveBitmap){var r,n=!0,s=e._glTextures;for(r in s){var o=s[r];if(o!==i&&o.dirtyId!==e.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},$i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,Ii.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},$i.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},$i),Wi=(Pi(Vi,Si=Gi),Vi.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},Vi.prototype._loadSvg=function(){var s=this,o=new Image;Gi.crossOrigin(o,this.svg,this._crossorigin),o.src=this.svg,o.onerror=function(t){s._resolve&&(o.onerror=null,s.onError.emit(t))},o.onload=function(){if(s._resolve){var t=o.width,e=o.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=t*s.scale,r=e*s.scale;(s._overrideWidth||s._overrideHeight)&&(i=s._overrideWidth||s._overrideHeight/e*t,r=s._overrideHeight||s._overrideWidth/t*e);var i=Math.round(i),r=Math.round(r),n=s.source;n.width=i,n.height=r,n._pixiId="canvas_"+ ++qt,n.getContext("2d").drawImage(o,0,0,t,e,0,0,i,r),s._resolve(),s._resolve=null}}},Vi.getSize=function(t){var e=Vi.SVG_SIZE.exec(t),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t},Vi.prototype.dispose=function(){Si.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},Vi.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},Vi.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,Vi),zi=(Pi(Yi,Ei=Gi),Yi.prototype.update=function(t){void 0===t&&(t=0),this.destroyed||(t=Je.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(Ei.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},Yi.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,i.load())}),this._load},Yi.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},Yi.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},Yi.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},Yi.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0)},Yi.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1)},Yi.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},Yi.prototype.dispose=function(){this._isConnectedToTicker&&Je.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),Ei.prototype.dispose.call(this)},Object.defineProperty(Yi.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(Yi.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),Yi.test=function(t,e){return t instanceof HTMLVideoElement||-1<Yi.TYPES.indexOf(e)},Yi.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Yi.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},Yi),Hi=(Pi(qi,wi=Gi),qi.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},qi);function qi(){return null!==wi&&wi.apply(this,arguments)||this}function Yi(t,e){var i=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var n=(t="string"==typeof t?[t]:t)[0].src||t[0];Gi.crossOrigin(r,n,e.crossorigin);for(var s=0;s<t.length;++s){var o=document.createElement("source"),a=t[s],h=a.src,u=a.mime,a=(h=h||t[s]).split("?").shift().toLowerCase(),a=a.substr(a.lastIndexOf(".")+1),u=u||Yi.MIME_TYPES[a]||"video/"+a;o.src=h,o.type=u,r.appendChild(o)}t=r}return(i=Ei.call(this,t)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=e.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==e.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==e.autoLoad&&i.load(),i}function Vi(t,e){var i=this;return e=e||{},(i=Si.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=e.scale||1,i._overrideWidth=e.width,i._overrideHeight=e.height,i._resolve=null,i._crossorigin=e.crossorigin,i._load=null,!1!==e.autoLoad&&i.load(),i}function $i(t,e){var i,r=this;return e=e||{},t instanceof HTMLImageElement||(i=new Image,Gi.crossOrigin(i,t,e.crossorigin),i.src=t,t=i),r=Ii.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==e.createBitmap?e.createBitmap:O.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,void 0!==e.premultiplyAlpha&&(r.premultiplyAlpha=e.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==e.autoLoad&&r.load(),r}function Zi(t,e){var i=this,r=e||{},n=r.width,s=r.height,o=r.autoLoad,r=r.linkBaseTexture;if(t&&t.length!==Zi.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");for(var i=Ai.call(this,6,{width:n,height:s})||this,a=0;a<Zi.SIDES;a++)i.items[a].target=W.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+a;return i.linkBaseTexture=!1!==r,t&&i.initFromArray(t,e),!1!==o&&i.load(),i}function Ki(){return null!==Ci&&Ci.apply(this,arguments)||this}function Qi(t){var e=this,i=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;return(e=Oi.call(this,i,r)||this).source=t,e.noSubImage=!1,e}function Ji(t,e){var i,r=this,n=e||{},s=n.width,n=n.height,t=Array.isArray(t)?(i=t).length:t,r=Li.call(this,t,{width:s,height:n})||this;return i&&r.initFromArray(i,e),r}function tr(t,e){var i=this,r=e||{},e=r.width,r=r.height;(i=Mi.call(this,e,r)||this).items=[],i.itemDirtyIds=[];for(var n=0;n<t;n++){var s=new Fi;i.items.push(s),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}function er(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=Di.call(this)||this,r=(e=e||{}).alphaMode,n=e.mipmap,s=e.anisotropicLevel,o=e.scaleMode,a=e.width,h=e.height,u=e.wrapMode,l=e.format,c=e.type,p=e.target,d=e.resolution,f=e.resourceOptions;return!t||t instanceof Ni||((t=bi(t,f)).internal=!0),i.width=a||0,i.height=h||0,i.resolution=d||O.RESOLUTION,i.mipmap=void 0!==n?n:O.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:O.ANISOTROPIC_LEVEL,i.wrapMode=u||O.WRAP_MODE,i.scaleMode=void 0!==o?o:O.SCALE_MODE,i.format=l||W.FORMATS.RGBA,i.type=c||W.TYPES.UNSIGNED_BYTE,i.target=p||W.TARGETS.TEXTURE_2D,i.alphaMode=void 0!==r?r:W.ALPHA_MODES.UNPACK,void 0!==e.premultiplyAlpha&&(i.premultiplyAlpha=e.premultiplyAlpha),i.uid=++qt,i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=0<a&&0<h,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}function ir(t,e){var i=this,r=e||{},e=r.width,r=r.height;if(!e||!r)throw new Error("BufferResource width or height invalid");return(i=Ri.call(this,e,r)||this).data=t,i}function rr(t,e){void 0===e&&(e=0),this._width=t=void 0===t?0:t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new mi("setRealSize"),this.onUpdate=new mi("update"),this.onError=new mi("onError")}xi.push(ji,Hi,Ui,zi,Wi,Bi,Xi,ut);var nr,sr,or,ar={Resource:Ni,BaseImageResource:Gi,INSTALLED:xi,autoDetectResource:bi,AbstractMultiResource:ft,ArrayResource:ut,BufferResource:Bi,CanvasResource:Ui,CubeResource:Xi,ImageResource:ji,SVGResource:Wi,VideoResource:zi,ImageBitmapResource:Hi},hr=(xr.prototype.destroy=function(){this.renderer=null},xr),ur=(Pi(vr,or=Bi),vr.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===W.ALPHA_MODES.UNPACK),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},vr),lr=(Object.defineProperty(yr.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),yr.prototype.addColorTexture=function(t,e){return this.colorTextures[t=void 0===t?0:t]=e||new Fi(null,{scaleMode:W.SCALE_MODES.NEAREST,resolution:1,mipmap:W.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},yr.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Fi(new ur(null,{width:this.width,height:this.height}),{scaleMode:W.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:W.MIPMAP_MODES.OFF,format:W.FORMATS.DEPTH_COMPONENT,type:W.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},yr.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},yr.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},yr.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},yr.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},yr.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},yr),cr=(Pi(gr,sr=Fi),gr.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},gr.prototype.dispose=function(){this.framebuffer.dispose(),sr.prototype.dispose.call(this)},gr.prototype.destroy=function(){sr.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},gr),pr=(mr.prototype.set=function(t,e,i){var r,n,s,o=e.width,a=e.height;i?(r=t.width/2/o,n=t.height/2/a,s=t.x/o+r,e=t.y/a+n,i=De.add(i,De.NW),this.x0=s+r*De.uX(i),this.y0=e+n*De.uY(i),i=De.add(i,2),this.x1=s+r*De.uX(i),this.y1=e+n*De.uY(i),i=De.add(i,2),this.x2=s+r*De.uX(i),this.y2=e+n*De.uY(i),i=De.add(i,2),this.x3=s+r*De.uX(i),this.y3=e+n*De.uY(i)):(this.x0=t.x/o,this.y0=t.y/a,this.x1=(t.x+t.width)/o,this.y1=t.y/a,this.x2=(t.x+t.width)/o,this.y2=(t.y+t.height)/a,this.x3=t.x/o,this.y3=(t.y+t.height)/a),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},mr),dr=new pr,fr=(Pi(_r,nr=L),_r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},_r.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},_r.prototype.destroy=function(t){this.baseTexture&&(t&&((t=this.baseTexture)&&t.url&&Kt[t.url]&&_r.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,_r.removeFromCache(this),this.textureCacheIds=null},_r.prototype.clone=function(){return new _r(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},_r.prototype.updateUvs=function(){this._uvs===dr&&(this._uvs=new pr),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},_r.from=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=O.STRICT_TEXTURE_CACHE);var r="string"==typeof t,n=null,n=r?t:(t._pixiId||(t._pixiId="pixiid_"+ ++qt),t._pixiId),s=Kt[n];if(r&&i&&!s)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return s||(e.resolution||(e.resolution=se(t)),(s=new _r(new Fi(t,e))).baseTexture.cacheId=n,Fi.addToCache(s.baseTexture,n),_r.addToCache(s,n)),s},_r.fromURL=function(t,e){var i=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),r=_r.from(t,Object.assign({resourceOptions:i},e),!1),e=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):e.load().then(function(){return Promise.resolve(r)})},_r.fromBuffer=function(t,e,i,r){return new _r(Fi.fromBuffer(t,e,i,r))},_r.fromLoader=function(t,e,i){t=new ji(t);t.url=e;t=new _r(new Fi(t,{scaleMode:O.SCALE_MODE,resolution:se(e)}));return Fi.addToCache(t.baseTexture,i=i||e),_r.addToCache(t,i),i!==e&&(Fi.addToCache(t.baseTexture,e),_r.addToCache(t,e)),t},_r.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Kt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Kt[e]=t)},_r.removeFromCache=function(t){if("string"==typeof t){var e=Kt[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete Kt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)Kt[t.textureCacheIds[r]]===t&&delete Kt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(_r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,s=e+r>this.baseTexture.width,o=i+n>this.baseTexture.height;if(s||o){e="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,i="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+(s&&o?"and":"or")+" "+i)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(_r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),_r.prototype.castToBaseTexture=function(){return this.baseTexture},_r);function _r(t,e,i,r,n,s){var o=nr.call(this)||this;if(o.noFrame=!1,e||(o.noFrame=!0,e=new le(0,0,1,1)),t instanceof _r&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=r,o.valid=!1,o._uvs=dr,o.uvMatrix=null,o.orig=i||e,o._rotate=Number(n||0),!0===n)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return o.defaultAnchor=s?new _e(s.x,s.y):new _e(0,0),o._updateID=0,o.textureCacheIds=[],t.valid?o.noFrame?t.valid&&o.onBaseTextureUpdated(t):o.frame=e:t.once("loaded",o.onBaseTextureUpdated,o),o.noFrame&&t.on("update",o.onBaseTextureUpdated,o),o}function mr(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}function gr(t){var e=this,e=sr.call(this,null,t="number"==typeof t?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t)||this,i=t||{},t=i.width,i=i.height;return e.mipmap=0,e.width=Math.ceil(t)||100,e.height=Math.ceil(i)||100,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new lr(e.width*e.resolution,e.height*e.resolution).addColorTexture(0,e),e.maskStack=[],e.filterStack=[{}],e}function yr(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mi("disposeFramebuffer"),this.multisample=W.MSAA_QUALITY.NONE}function vr(){return null!==or&&or.apply(this,arguments)||this}function xr(t){this.renderer=t}function br(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}fr.EMPTY=new fr(new Fi),br(fr.EMPTY),br(fr.EMPTY.baseTexture),fr.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new fr(new Fi(new Ui(t)))}(),br(fr.WHITE),br(fr.WHITE.baseTexture);var Tr,Pr=(Pi(Lr,Tr=fr),Object.defineProperty(Lr.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Lr.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},Lr.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},Lr.create=function(t){return new Lr(new cr(t="number"==typeof t?{width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t))},Lr),wr=(Or.prototype.createTexture=function(t,e){e=new cr(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Pr(e)},Or.prototype.getOptimalTexture=function(t,e,i){var r=Or.SCREEN_KEY;t*=i=void 0===i?1:i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=Xt(t)))<<16|65535&(e=Xt(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return(n=n||this.createTexture(t,e)).filterPoolKey=r,n.setResolution(i),n},Or.prototype.getFilterTexture=function(t,e){e=this.getOptimalTexture(t.width,t.height,e||t.resolution);return e.filterFrame=t.filterFrame,e},Or.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},Or.prototype.returnFilterTexture=function(t){this.returnTexture(t)},Or.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},Or.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=Or.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=0<t.width&&0<t.height,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},Or.SCREEN_KEY="screen",Or),Er=(Cr.prototype.destroy=function(){this.buffer=null},Cr.from=function(t,e,i,r,n){return new Cr(t,e,i,r,n)},Cr),Sr=0,Ir=(Ar.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ar.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Ar.prototype.destroy=function(){this.dispose(),this.data=null},Ar.from=function(t){return new Ar(t=t instanceof Array?new Float32Array(t):t)},Ar);function Ar(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Sr++,this.disposeRunner=new mi("disposeBuffer")}function Cr(t,e,i,r,n,s,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=o}function Or(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}function Lr(t,e){var i,r,n,s,o=this,a=null;return t instanceof cr||(i=arguments[1],r=arguments[2],n=arguments[3],s=arguments[4],console.warn("Please use RenderTexture.create("+i+", "+r+") instead of the ctor directly."),a=arguments[0],e=null,t=new cr({width:i,height:r,scaleMode:n,resolution:s})),(o=Tr.call(this,t,e)||this).legacyRenderer=a,o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}function Mr(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Dr,Rr,Nr,Br,kr,Fr,Gr,Ur={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},Xr={5126:4,5123:2,5121:1},jr=0,Wr={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},zr=(xn.prototype.addAttribute=function(t,e,i,r,n,s,o,a){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ir||(e instanceof Array&&(e=new Float32Array(e)),e=new Ir(e));var h=t.split("|");if(1<h.length){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Er(l,i,r,n,s,o,a),this.instanced=this.instanced||a,this},xn.prototype.getAttribute=function(t){return this.attributes[t]},xn.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},xn.prototype.addIndex=function(t){return t instanceof Ir||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ir(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},xn.prototype.getIndex=function(){return this.indexBuffer},xn.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Ir;for(t in this.attributes){var n=this.attributes[t],s=this.buffers[n.buffer];e.push(s.data),i.push(n.size*Xr[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,s=0;s<t.length;s++){var u=e[s],l=t[s],c=Mr(l);n[c]||(n[c]=new Ur[c](o));for(var a=n[c],p=0;p<l.length;p++)a[(p/u|0)*r+h+p%u]=l[p];h+=u}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},xn.prototype.getSize=function(){for(var t in this.attributes){t=this.attributes[t];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},xn.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},xn.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},xn.prototype.clone=function(){for(var t=new xn,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ir(this.buffers[e].data.slice(0));for(e in this.attributes){var i=this.attributes[e];t.attributes[e]=new Er(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},xn.merge=function(t){for(var e=new xn,i=[],r=[],n=[],s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.buffers.length;a++)r[a]=r[a]||0,r[a]+=o.buffers[a].data.length,n[a]=0;for(s=0;s<o.buffers.length;s++)i[s]=new Wr[Mr(o.buffers[s].data)](r[s]),e.buffers[s]=new Ir(i[s]);for(s=0;s<t.length;s++)for(o=t[s],a=0;a<o.buffers.length;a++)i[a].set(o.buffers[a].data,n[a]),n[a]+=o.buffers[a].data.length;if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.index=!0;var h=0,u=0,l=0,c=0;for(s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){c=s;break}for(s in o.attributes){var p=o.attributes[s];(0|p.buffer)===c&&(u+=p.size*Xr[p.type]/4)}for(s=0;s<t.length;s++){for(var d=t[s].indexBuffer.data,a=0;a<d.length;a++)e.indexBuffer.data[a+l]+=h;h+=o.buffers[c].data.length/u,l+=d.length}}return e},xn),Hr=(Pi(vn,Gr=zr),vn),qr=(Pi(yn,Fr=zr),yn.prototype.map=function(t,e){var i,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},yn.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},yn),Yr=0,Vr=(gn.prototype.update=function(){this.dirtyId++},gn.prototype.add=function(t,e,i){this.uniforms[t]=new gn(e,i)},gn.from=function(t,e){return new gn(t,e)},gn),$r=(mn.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},mn),Zr=(Pi(_n,kr=hr),_n.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new $r,s=e[0].resolution,o=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++)var l=e[u],s=Math.min(s,l.resolution),o=this.useMaxPadding?Math.max(o,l.padding):o+l.padding,a=a&&l.autoFit,h=h||l.legacy;1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=s,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(o),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(s),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,s),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;t=this.tempRect;t.width=n.sourceFrame.width,t.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame,t),i.renderTexture.clear()},_n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,s=r.inputPixel,o=r.inputClamp;n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=n[0]*e.resolution,s[1]=n[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*n[2]-.5*s[2],o[3]=e.sourceFrame.height*n[3]-.5*s[3],e.legacy&&((s=r.filterArea)[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp),this.globalUniforms.update();t=t[t.length-1];if(1<e.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,t.renderTexture,W.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var a=e.renderTexture;(l=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame;for(var h=0,h=0;h<i.length-1;++h){i[h].apply(this,a,l,W.CLEAR_MODES.CLEAR,e);var u=a,a=l,l=u}i[h].apply(this,a,t.renderTexture,W.CLEAR_MODES.BLEND,e),this.returnFilterTexture(a),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},_n.prototype.bindAndClear=function(t,e){var i;void 0===e&&(e=W.CLEAR_MODES.CLEAR),t&&t.filterFrame?((i=this.tempRect).width=t.filterFrame.width,i.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,i)):this.renderer.renderTexture.bind(t),"boolean"==typeof e&&(e=e?W.CLEAR_MODES.CLEAR:W.CLEAR_MODES.BLEND,$t("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===W.CLEAR_MODES.CLEAR||e===W.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},_n.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(W.DRAW_MODES.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(W.DRAW_MODES.TRIANGLE_STRIP))},_n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,i=e._texture.orig,n=t.set(n.width,0,0,n.height,r.x,r.y),r=e.worldTransform.copyTo(ge.TEMP_MATRIX);return r.invert(),n.prepend(r),n.scale(1/i.width,1/i.height),n.translate(e.anchor.x,e.anchor.y),n},_n.prototype.destroy=function(){this.texturePool.clear(!1)},_n.prototype.getOptimalFilterTexture=function(t,e,i){return this.texturePool.getOptimalTexture(t,e,i=void 0===i?1:i)},_n.prototype.getFilterTexture=function(t,e){var i;"number"==typeof t&&(i=t,t=e,e=i),t=t||this.activeState.renderTexture;e=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return e.filterFrame=t.filterFrame,e},_n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},_n.prototype.emptyPool=function(){this.texturePool.clear(!0)},_n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},_n),Kr=(fn.prototype.flush=function(){},fn.prototype.destroy=function(){this.renderer=null},fn.prototype.start=function(){},fn.prototype.stop=function(){this.flush()},fn.prototype.render=function(t){},fn),Qr=(Pi(dn,Br=hr),dn.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},dn.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},dn.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},dn.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;0<=r;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},dn.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,s=t.ids,o=t.count,a=0,h=0;h<o;h++){var u=n[h],l=u._batchLocation;if(0<=l&&l<r&&e[l]===u)s[h]=l;else for(;a<r;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){s[h]=a,e[u._batchLocation=a]=u;break}a++}}},dn),Jr=0,tn=(Pi(pn,Nr=hr),Object.defineProperty(pn.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),pn.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Jr++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},pn.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Jr++,this.renderer.runners.contextChange.emit(t)},pn.prototype.initFromOptions=function(t){t=this.createContext(this.renderer.view,t);this.initFromContext(t)},pn.prototype.createContext=function(t,e){var i;if(i=O.PREFER_ENV>=W.ENV.WEBGL2?t.getContext("webgl2",e):i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},pn.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},pn.prototype.handleContextLost=function(t){t.preventDefault()},pn.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},pn.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},pn.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},pn.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");t=i||!!t.getExtension("OES_element_index_uint");(this.supports.uint32Indices=t)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},pn),en=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=W.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},rn=new le,nn=(Pi(cn,Rr=hr),cn.prototype.contextChange=function(){var e,t,i=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new le,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,O.PREFER_ENV===W.ENV.WEBGL_LEGACY&&(t=e=null),e?i.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,i.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=i.getInternalformatParameter(i.RENDERBUFFER,i.RGBA8,i.SAMPLES)},cn.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var s=t.colorTextures[n];this.renderer.texture.unbind(s.parentTextureArray||s)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},cn.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(cn.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),cn.prototype.clear=function(t,e,i,r,n){void 0===n&&(n=W.BUFFER_BITS.COLOR|W.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(n)},cn.prototype.initFramebuffer=function(t){var e=this.gl,e=new en(e.createFramebuffer());return e.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},cn.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},cn.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),1<i.multisample&&(i.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,i.msaaBuffer));for(var n,s,o,a=[],h=0;h<r;h++)0===h&&1<i.multisample||(s=(n=t.colorTextures[h]).parentTextureArray||n,this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,n.target,s._glTextures[this.CONTEXT_UID].texture,0),a.push(e.COLOR_ATTACHMENT0+h));1<a.length&&e.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(o=t.depthTexture,this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,0)),i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},cn.prototype.detectSamples=function(t){var e=this.msaaSamples,i=W.MSAA_QUALITY.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return i=1===i?W.MSAA_QUALITY.NONE:i},cn.prototype.blit=function(t,e,i){var r=this.current,n=this.renderer,s=this.gl,o=this.CONTEXT_UID;if(2===n.context.webGLVersion&&r){o=r.glFramebuffers[o];if(o){if(!t){if(o.multisample<=1)return;o.blitFramebuffer||(o.blitFramebuffer=new lr(r.width,r.height),o.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),(t=o.blitFramebuffer).width=r.width,t.height=r.height}e||((e=rn).width=r.width,e.height=r.height);r=e.width===(i=i||e).width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,o.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,s.COLOR_BUFFER_BIT,r?s.NEAREST:s.LINEAR)}}},cn.prototype.disposeFramebuffer=function(t,e){var i,r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;r&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(i=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)))},cn.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},cn.prototype.forceStencil=function(){var t,e,i,r,n=this.current;!n||(t=n.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(n.enableStencil(),e=n.width,i=n.height,n=(r=this.gl).createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,i),t.stencil=n,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n))},cn.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new le},cn),sn=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},on={5126:4,5123:2,5121:1},an=(Pi(ln,Dr=hr),ln.prototype.contextChange=function(){this.disposeAll(!0);var e,s,t=this.gl=this.renderer.gl,i=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion&&(e=this.renderer.context.extensions.vertexArrayObject,(e=O.PREFER_ENV===W.ENV.WEBGL_LEGACY?null:e)?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),2!==i.webGLVersion&&((s=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return s.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,n){return s.drawElementsInstancedANGLE(t,e,i,r,n)},t.drawArraysInstanced=function(t,e,i,r){return s.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},ln.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);n=r[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},ln.prototype.reset=function(){this.unbind()},ln.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r,n,s=t.buffers[i],o=s._glBuffers[this.CONTEXT_UID];s._updateID!==o.updateID&&(o.updateID=s._updateID,r=s.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,e.bindBuffer(r,o.buffer),(this._boundBuffer=o).byteLength>=s.data.byteLength?e.bufferSubData(r,0,s.data):(n=s.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,o.byteLength=s.data.byteLength,e.bufferData(r,s.data,n)))}},ln.prototype.checkCompatibility=function(t,e){var i,r=t.attributes;for(i in e.attributeData)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},ln.prototype.getSignature=function(t,e){var i,r=t.attributes,n=e.attributeData,s=["g",t.id];for(i in r)n[i]&&s.push(i);return s.join("-")},ln.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0),this.checkCompatibility(t,e);var r=this.gl,n=this.CONTEXT_UID,s=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],a=o[s];if(a)return o[e.id]=a;var h,u=t.buffers,l=t.attributes,c={},p={};for(h in u)c[h]=0,p[h]=0;for(h in l)!l[h].size&&e.attributeData[h]?l[h].size=e.attributeData[h].size:l[h].size||console.warn("PIXI Geometry attribute '"+h+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[l[h].buffer]+=l[h].size*on[l[h].type];for(h in l){var d=l[h],f=d.size;void 0===d.stride&&(c[d.buffer]===f*on[d.type]?d.stride=0:d.stride=c[d.buffer]),void 0===d.start&&(d.start=p[d.buffer],p[d.buffer]+=f*on[d.type])}a=r.createVertexArray(),r.bindVertexArray(a);for(var _=0;_<u.length;_++){var m=u[_];m._glBuffers[n]||(m._glBuffers[n]=new sn(r.createBuffer()),(this.managedBuffers[m.id]=m).disposeRunner.add(this)),i&&m._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,o[e.id]=a,o[s]=a},ln.prototype.disposeBuffer=function(t,e){var i,r;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],i=t._glBuffers[this.CONTEXT_UID],r=this.gl,t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID]))},ln.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var s=0;s<n.length;s++){var o=n[s]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(n[s],e)}if(!e)for(var a in i)"g"===a[0]&&(a=i[a],this._activeVao===a&&this.unbind(),r.deleteVertexArray(a));delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},ln.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);for(e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},ln.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,s=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var o,a=null;for(o in s){var h=s[o],u=n[h.buffer]._glBuffers[r];if(e.attributeData[o]){a!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),a=u);u=e.attributeData[o].location;if(i.enableVertexAttribArray(u),i.vertexAttribPointer(u,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(u,1)}}}},ln.prototype.draw=function(t,e,i,r){var n,s,o=this.gl,a=this._activeGeometry;return a.indexBuffer?(s=2===(n=a.indexBuffer.data.BYTES_PER_ELEMENT)?o.UNSIGNED_SHORT:o.UNSIGNED_INT,2===n||4===n&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,e||a.indexBuffer.data.length,s,(i||0)*n,r||1):o.drawElements(t,e||a.indexBuffer.data.length,s,(i||0)*n):console.warn("unsupported index buffer type: uint32")):a.instanced?o.drawArraysInstanced(t,i,e||a.getSize(),r||1):o.drawArrays(t,i,e||a.getSize()),this},ln.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ln),hn=(un.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=W.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},un.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},un);function un(t){void 0===t&&(t=null),this.type=W.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}function ln(t){t=Dr.call(this,t)||this;return t._activeGeometry=null,t._activeVao=null,t.hasVao=!0,t.hasInstance=!0,t.canUseUInt32ElementIndex=!1,t.managedGeometries={},t.managedBuffers={},t}function cn(t){t=Rr.call(this,t)||this;return t.managedFramebuffers=[],t.unknownFramebuffer=new lr(10,10),t.msaaSamples=null,t}function pn(t){var e=Nr.call(this,t)||this;return e.webGLVersion=1,e.extensions={},e.supports={uint32Indices:!1},e.handleContextLost=e.handleContextLost.bind(e),e.handleContextRestored=e.handleContextRestored.bind(e),t.view.addEventListener("webglcontextlost",e.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",e.handleContextRestored,!1),e}function dn(t){var e=Br.call(this,t)||this;return e.emptyRenderer=new Kr(t),e.currentRenderer=e.emptyRenderer,e}function fn(t){this.renderer=t}function _n(t){var e=kr.call(this,t)||this;return e.defaultFilterStack=[{}],e.texturePool=new wr,e.texturePool.setScreenSize(t.view),e.statePool=[],e.quad=new Hr,e.quadUv=new qr,e.tempRect=new le,e.activeState={},e.globalUniforms=new Vr({outputFrame:e.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),e.forceClear=!1,e.useMaxPadding=!1,e}function mn(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new le,this.destinationFrame=new le,this.filters=[]}function gn(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Yr++,this.static=!!e}function yn(){var t=Fr.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Ir(t.vertices),t.uvBuffer=new Ir(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}function vn(){var t=Gr.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}function xn(t,e){void 0===e&&(e={}),this.buffers=t=void 0===t?[]:t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=jr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mi("disposeGeometry"),this.refCount=0}function bn(t,e,i){e=t.createShader(e);return t.shaderSource(e,i),t.compileShader(e),e}function Tn(t,e,i,r){var n=bn(t,t.VERTEX_SHADER,e),s=bn(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,s),r)for(var a in r)t.bindAttribLocation(o,r[a],a);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(s,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(s))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(n),t.deleteShader(s),o}function Pn(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function wn(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Pn(2*e);case"bvec3":return Pn(3*e);case"bvec4":return Pn(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var En,Sn={},In=Sn;function An(){var t,e;return(In===Sn||In&&In.isContextLost())&&(t=document.createElement("canvas"),e=void 0,(e=O.PREFER_ENV>=W.ENV.WEBGL2?t.getContext("webgl2",{}):e)||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),In=e),In}function Cn(t,e,i){if("precision"===t.substring(0,9))return i!==W.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var r=e;return"precision "+(r=e===W.PRECISION.HIGH&&i!==W.PRECISION.HIGH?W.PRECISION.MEDIUM:r)+" float;\n"+t}var On={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};var Ln=null,Mn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Dn(t,e){if(!Ln){var i=Object.keys(Mn);Ln={};for(var r=0;r<i.length;++r){var n=i[r];Ln[t[n]]=Mn[n]}}return Ln[e]}var Rn,Nn=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Bn={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},kn={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Fn=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Gn(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=Fn.replace(/%forloop%/gi,function(t){for(var e="",i=0;i<t;++i)0<i&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}var Un,Xn,jn,Wn,zn,Hn,qn,Yn,Vn,$n=0,Zn={},Kn=(Ls.prototype.extractData=function(t,e){var i=An();i?(e=Tn(i,t,e),this.attributeData=this.getAttributeData(e,i),this.uniformData=this.getUniformData(e,i),i.deleteProgram(e)):(this.uniformData={},this.attributeData={})},Ls.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<n;s++){var o=e.getActiveAttrib(t,s),a=Dn(e,o.type),a={type:a,name:o.name,size:On[a],location:0};i[o.name]=a,r.push(a)}for(r.sort(function(t,e){return t.name>e.name?1:-1}),s=0;s<r.length;s++)r[s].location=s;return i},Ls.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=s.name.match(/\[.*?\]$/),h=Dn(e,s.type);i[o]={type:h,size:s.size,isArray:a,value:wn(h,s.size)}}return i},Object.defineProperty(Ls,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Ls,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),Ls.from=function(t,e,i){var r=t+e,n=Zt[r];return n||(Zt[r]=n=new Ls(t,e,i)),n},Ls),Qn=(Os.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){i=e.uniforms[i];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},Os.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Os.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Os.from=function(t,e,i){return new Os(Kn.from(t,e),i)},Os),Jn=(Object.defineProperty(Cs.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==W.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Cs.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),Cs.for2d=function(){var t=new Cs;return t.depthTest=!1,t.blend=!0,t},Cs),ts=(Pi(As,Vn=Qn),As.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(As.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(As,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(As,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),As),es=new ge,is=(Object.defineProperty(Is.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),Is.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],s=t[r+1];e[r]=n*i.a+s*i.c+i.tx,e[r+1]=n*i.b+s*i.d+i.ty}return e},Is.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(es.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(es));t=e.baseTexture,i=this.uClampFrame,r=this.clampMargin/t.resolution,n=this.clampOffset;return i[0]=(e._frame.x+r+n)/t.width,i[1]=(e._frame.y+r+n)/t.height,i[2]=(e._frame.x+e._frame.width-r+n)/t.width,i[3]=(e._frame.y+e._frame.height-r+n)/t.height,this.uClampOffset[0]=n/t.realWidth,this.uClampOffset[1]=n/t.realHeight,this.isSimple=e._frame.width===t.width&&e._frame.height===t.height&&0===e.rotate,!0},Is),rs=(Pi(Ss,Yn=ts),Ss.prototype.apply=function(t,e,i,r){var n=this.maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new is(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},Ss),ns=(Pi(Es,qn=hr),Es.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},Es.prototype.push=function(t,e){var i,r=e;switch(r.isMaskData||((i=this.maskDataPool.pop()||new hn).pooled=!0,i.maskObject=e,r=i),r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case W.MASK_TYPES.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case W.MASK_TYPES.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case W.MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},Es.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case W.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case W.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case W.MASK_TYPES.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},Es.prototype.detect=function(t){var e,i=t.maskObject;i.isSprite?t.type=W.MASK_TYPES.SPRITE:(t.type=W.MASK_TYPES.STENCIL,this.enableScissor&&i.isFastRect&&i.isFastRect()&&(e=i.worldTransform,i=Math.atan2(e.b,e.a),e=Math.atan2(e.d,e.c),i=Math.round(i*(180/Math.PI)*100),e=((Math.round(e*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0==(i=(i%9e3+9e3)%9e3)&&9e3===e&&(t.type=W.MASK_TYPES.SCISSOR)))},Es.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];(r=r||(this.alphaMaskPool[this.alphaMaskIndex]=[new rs(e)]))[0].resolution=this.renderer.resolution,r[0].maskSprite=e;t=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,r),i.filterArea=t,this.alphaMaskIndex++},Es.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},Es),ss=(Pi(ws,Hn=hr),ws.prototype.getStackLength=function(){return this.maskStack.length},ws.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;t=this.getStackLength();t!==i&&(0===t?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},ws.prototype._useCurrent=function(){},ws.prototype.destroy=function(){Hn.prototype.destroy.call(this),this.maskStack=null},ws),os=(Pi(Ps,zn=ss),Ps.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},Ps.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,r=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,i?r.fit(i):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},Ps.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},Ps.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,r=i.transform,n=i.sourceFrame,s=i.destinationFrame,o=(e||this.renderer).resolution,i=(t.x-n.x)*o+s.x,n=(t.y-n.y)*o+s.y,s=t.width*o,t=t.height*o;r&&(i+=r.tx*o,n+=r.ty*o),e||(n=this.renderer.height-t-n),this.renderer.gl.scissor(i,n,s,t)},Ps),as=(Pi(Ts,Wn=ss),Ts.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},Ts.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},Ts.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},Ts.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},Ts.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},Ts),hs=(Pi(bs,jn=hr),bs.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},bs.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,r=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=r*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-r-e.y*n.d},bs.prototype.setTransform=function(t){},bs),us=new le,ls=new le,cs=new le,ps=(Pi(xs,Xn=hr),xs.prototype.bind=function(t,e,i){var r,n,s,o=this.renderer;(this.current=t=void 0===t?null:t)?(s=(r=t.baseTexture).resolution,e||(us.width=t.frame.width,us.height=t.frame.height,e=us),i||(ls.x=t.frame.x,ls.y=t.frame.y,ls.width=e.width,ls.height=e.height,i=ls),n=r.framebuffer):(s=o.resolution,e||(us.width=o.screen.width,us.height=o.screen.height,e=us),i||((i=us).width=e.width,i.height=e.height)),cs.x=i.x*s,cs.y=i.y*s,cs.width=i.width*s,cs.height=i.height*s,this.renderer.framebuffer.bind(n,cs),this.renderer.projection.update(i,e,s,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},xs.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},xs.prototype.resize=function(){this.bind(null)},xs.prototype.reset=function(){this.bind(null)},xs),ds=function(){},fs=(vs.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},vs),_s=0,ms={textureCount:0},gs=(Pi(ys,Un=hr),ys.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Rn)return Rn;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Rn=!0===t({a:"b"},"a","b")}catch(t){Rn=!1}return Rn}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},ys.prototype.contextChange=function(t){this.gl=t,this.reset()},ys.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(ms.textureCount=0,this.syncUniformGroup(t.uniformGroup,ms)),r},ys.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},ys.prototype.syncUniformGroup=function(t,e){var i=this.getglProgram();t.static&&t.dirtyId===i.uniformGroups[t.id]||(i.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},ys.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},ys.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i,r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(i in t.uniforms){var n=e[i];if(n){for(var s,o=t.uniforms[i],a=!1,h=0;h<Nn.length;h++)if(Nn[h].test(n,o)){r.push(Nn[h].code(i,o)),a=!0;break}a||(s=(1===n.size?Bn:kn)[n.type].replace("location",'ud["'+i+'"].location'),r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+s+";"))}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},ys.prototype.getSignature=function(t,e){var i,r=[];for(i in t.uniforms)r.push(i),e[i]&&r.push(e[i].type);return r.join("-")},ys.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},ys.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(n in i.attributeData)r[n]=i.attributeData[n].location;var n,s=Tn(e,i.vertexSrc,i.fragmentSrc,r),o={};for(n in i.uniformData){var a=i.uniformData[n];o[n]={location:e.getUniformLocation(s,n),value:wn(a.type,a.size)}}t=new fs(s,o);return i.glPrograms[this.renderer.CONTEXT_UID]=t},ys.prototype.reset=function(){this.program=null,this.shader=null},ys.prototype.destroy=function(){this.destroyed=!0},ys);function ys(t){t=Un.call(this,t)||this;return t.destroyed=!1,t.systemCheck(),t.gl=null,t.shader=null,t.program=null,t.cache={},t.id=_s++,t}function vs(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}function xs(t){var e=Xn.call(this,t)||this;return e.clearColor=t._backgroundColorRgba,e.defaultMaskStack=[],e.current=null,e.sourceFrame=new le,e.destinationFrame=new le,e}function bs(t){t=jn.call(this,t)||this;return t.destinationFrame=null,t.sourceFrame=null,t.defaultFrame=null,t.projectionMatrix=new ge,t.transform=null,t}function Ts(t){t=Wn.call(this,t)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}function Ps(t){t=zn.call(this,t)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}function ws(t){t=Hn.call(this,t)||this;return t.maskStack=[],t.glConst=0,t}function Es(t){t=qn.call(this,t)||this;return t.enableScissor=!1,t.alphaMaskPool=[],t.maskDataPool=[],t.maskStack=[],t.alphaMaskIndex=0,t}function Ss(t){var e=this,i=new ge,e=Yn.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this;return t.renderable=!1,e.maskSprite=t,e.maskMatrix=i,e}function Is(t,e){this._texture=t,this.mapCoord=new ge,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}function As(t,e,i){var r=this,e=Kn.from(t||As.defaultVertexSrc,e||As.defaultFragmentSrc);return(r=Vn.call(this,e,i)||this).padding=0,r.resolution=O.FILTER_RESOLUTION,r.enabled=!0,r.autoFit=!0,r.legacy=!!r.program.attributeData.aTextureCoord,r.state=new Jn,r}function Cs(){this.data=0,this.blendMode=W.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}function Os(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Vr?e:new Vr(e):new Vr({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))}function Ls(t,e,i){void 0===i&&(i="pixi-shader"),this.id=$n++,this.vertexSrc=t||Ls.defaultVertexSrc,this.fragmentSrc=e||Ls.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Zn[i]?(Zn[i]++,i+="-"+Zn[i]):Zn[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Cn(this.vertexSrc,O.PRECISION_VERTEX,W.PRECISION.HIGH),this.fragmentSrc=Cn(this.fragmentSrc,O.PRECISION_FRAGMENT,(En||(En=W.PRECISION.MEDIUM,(i=An())&&i.getShaderPrecisionFormat&&(i=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT),En=i.precision?W.PRECISION.HIGH:W.PRECISION.MEDIUM)),En))),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}var Ms,Ds,Rs,Ns,Bs,ks=(Pi($s,Bs=hr),$s.prototype.contextChange=function(t){var e;this.gl=t,this.blendModes=(t=t,(e=void 0===e?[]:e)[W.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[W.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.NONE]=[0,0],e[W.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[W.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[W.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[W.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[W.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[W.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[W.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[W.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e),this.set(this.defaultState),this.reset()},$s.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},$s.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},$s.prototype.setBlend=function(t){this.updateCheck($s.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},$s.prototype.setOffset=function(t){this.updateCheck($s.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},$s.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},$s.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},$s.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},$s.prototype.setBlendMode=function(t){var e;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))},$s.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},$s.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},$s.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},$s.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},$s.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},$s),Fs=(Pi(Vs,Ns=hr),Vs.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==W.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},Vs.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),i=!(e[r]=null))}if(i){for(var s=0,r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},Vs.prototype.unload=function(t){var e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(var r=t.children.length-1;0<=r;r--)this.unload(t.children[r])},Vs),Gs=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Us=(Pi(Ys,Rs=hr),Ys.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Gs(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Gs(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},Ys.prototype.bind=function(t,e){void 0===e&&(e=0);var i,r=this.gl;t?(t=t.castToBaseTexture()).parentTextureArray||t.valid&&(t.touched=this.renderer.textureGC.count,i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t):(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null)},Ys.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},Ys.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[r]=null)},Ys.prototype.initTexture=function(t){var e=new Gs(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},Ys.prototype.initTextureType=function(t,e){var i;e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion&&(i=this.renderer.gl,t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===W.TYPES.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F))},Ys.prototype.updateTexture=function(t){var e,i,r,n=t._glTextures[this.CONTEXT_UID];n&&(r=this.renderer,this.initTextureType(t,n),t.resource&&t.resource.upload(r,t,n)||(e=t.realWidth,i=t.realHeight,r=r.gl,(n.width!==e||n.height!==i||n.dirtyId<0)&&(n.width=e,n.height=i,r.texImage2D(t.target,0,n.internalFormat,e,i,0,t.format,n.type,null))),t.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(t),n.dirtyId=t.dirtyId)},Ys.prototype.destroyTexture=function(t,e){var i=this.gl;!(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]||(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e)||-1!==(t=this.managedTextures.indexOf(t))&&zt(this.managedTextures,t,1)},Ys.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==W.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=W.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},Ys.prototype.setStyle=function(t,e){var i,r=this.gl;e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===W.SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST),(i=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===W.SCALE_MODES.LINEAR&&(e=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,e))):r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===W.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST),r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===W.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)},Ys),Xs={FilterSystem:Zr,BatchSystem:Qr,ContextSystem:tn,FramebufferSystem:nn,GeometrySystem:an,MaskSystem:ns,ScissorSystem:os,StencilSystem:as,ProjectionSystem:hs,RenderTextureSystem:ps,ShaderSystem:gs,StateSystem:ks,TextureGCSystem:Fs,TextureSystem:Us},js=new ge,Ws=(Pi(qs,Ds=L),qs.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(qs.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(qs.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),qs.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},qs.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);i=Pr.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:i});return js.tx=-r.x,js.ty=-r.y,this.render(t,i,!1,js,!!t.parent),i},qs.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=W.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(qs.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Ot(t),Ct(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),qs),zs=(Pi(Hs,Ms=Ws),Hs.create=function(t){if(At())return new Hs(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},Hs.prototype.addSystem=function(t,e){e=e||t.name;var i,r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(i in this[e]=r,this.runners)this.runners[i].add(r);return this},Hs.prototype.render=function(t,e,i,r,n){this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,this.context.isLost||(e||(this._lastObjectRendered=t),n||(n=t.enableTempParent(),t.updateTransform(),t.disableTempParent(n)),this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},Hs.prototype.resize=function(t,e){Ms.prototype.resize.call(this,t,e),this.runners.resize.emit(t,e)},Hs.prototype.reset=function(){return this.runners.reset.emit(),this},Hs.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},Hs.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();Ms.prototype.destroy.call(this,t),this.gl=null},Hs.registerPlugin=function(t,e){(Hs.__plugins=Hs.__plugins||{})[t]=e},Hs);function Hs(t){var e=Ms.call(this,W.RENDERER_TYPE.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new mi("destroy"),contextChange:new mi("contextChange"),reset:new mi("reset"),update:new mi("update"),postrender:new mi("postrender"),prerender:new mi("prerender"),resize:new mi("resize")},e.globalUniforms=new Vr({projectionMatrix:new ge},!0),e.addSystem(ns,"mask").addSystem(tn,"context").addSystem(ks,"state").addSystem(gs,"shader").addSystem(Us,"texture").addSystem(an,"geometry").addSystem(nn,"framebuffer").addSystem(os,"scissor").addSystem(as,"stencil").addSystem(hs,"projection").addSystem(Fs,"textureGC").addSystem(Zr,"filter").addSystem(ps,"renderTexture").addSystem(Qr,"batch"),e.initPlugins(Hs.__plugins),t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.transparent,antialias:t.antialias,premultipliedAlpha:e.transparent&&"notMultiplied"!==e.transparent,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,It(2===e.context.webGLVersion?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}function qs(t,e){void 0===t&&(t=W.RENDERER_TYPE.UNKNOWN);var i=Ds.call(this)||this;return(e=Object.assign({},O.RENDER_OPTIONS,e)).roundPixels&&(O.ROUND_PIXELS=e.roundPixels,$t("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=e,i.type=t,i.screen=new le(0,0,e.width,e.height),i.view=e.view||document.createElement("canvas"),i.resolution=e.resolution||O.RESOLUTION,i.transparent=e.transparent,i.autoDensity=e.autoDensity||e.autoResize||!1,i.preserveDrawingBuffer=e.preserveDrawingBuffer,i.clearBeforeRender=e.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=e.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}function Ys(t){t=Rs.call(this,t)||this;return t.boundTextures=[],t.currentLocation=-1,t.managedTextures=[],t._unknownBoundTextures=!1,t.unknownTexture=new Fi,t}function Vs(t){t=Ns.call(this,t)||this;return t.count=0,t.checkCount=0,t.maxIdle=O.GC_MAX_IDLE,t.checkCountMax=O.GC_MAX_CHECK_COUNT,t.mode=O.GC_MODE,t}function $s(t){t=Bs.call(this,t)||this;return t.gl=null,t.stateId=0,t.polygonOffset=0,t.blendMode=W.BLEND_MODES.NONE,t._blendEq=!1,t.map=[],t.map[0]=t.setBlend,t.map[1]=t.setOffset,t.map[2]=t.setCullFace,t.map[3]=t.setDepthTest,t.map[4]=t.setFrontFace,t.checks=[],t.defaultState=new Jn,t.defaultState.blend=!0,t}function Zs(t){return zs.create(t)}var Ks,Qs,Js="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",to="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",eo=function(){this.texArray=null,this.blend=0,this.type=W.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null},io=(vo.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},vo),ro=(Object.defineProperty(yo.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(yo.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),yo.prototype.view=function(t){return this[t+"View"]},yo.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},yo.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},yo),no=(Pi(go,Qs=Kr),go.prototype.contextChange=function(){var t=this.renderer.gl;O.PREFER_ENV===W.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),O.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Gn(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},go.prototype.initFlushBuffers=function(){for(var t=go._drawCallPool,e=go._textureArrayPool,i=this.size/4,r=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new eo);for(;e.length<r;)e.push(new io);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},go.prototype.onPrerender=function(){this._flushId=0},go.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},go.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,i=go._textureArrayPool,r=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count,o=++Fi._globalBatch,a=0,h=i[0],u=0;r.copyBoundTextures(n,e);for(var l=0;l<this._bufferSize;++l){var c=t[l];t[l]=null,c._batchEnabled!==o&&(h.count>=e&&(r.boundArray(h,n,o,e),this.buildDrawCalls(h,u,l),u=l,h=i[++a],++o),c._batchEnabled=o,c.touched=s,h.elements[h.count++]=c)}for(0<h.count&&(r.boundArray(h,n,o,e),this.buildDrawCalls(h,u,this._bufferSize),++a,++o),l=0;l<n.length;l++)n[l]=null;Fi._globalBatch=o},go.prototype.buildDrawCalls=function(t,e,i){var r=this._bufferedElements,n=this._attributeBuffer,s=this._indexBuffer,o=this.vertexSize,a=go._drawCallPool,h=this._dcIndex,u=this._aIndex,l=this._iIndex,c=a[h];c.start=this._iIndex,c.texArray=t;for(var p=e;p<i;++p){var d=r[p],f=d._texture.baseTexture,f=Dt[f.alphaMode?1:0][d.blendMode];r[p]=null,e<p&&c.blend!==f&&(c.size=l-c.start,e=p,(c=a[++h]).texArray=t,c.start=l),this.packInterleavedGeometry(d,n,s,u,l),u+=d.vertexData.length/2*o,l+=d.indices.length,c.blend=f}e<i&&(c.size=l-c.start,++h),this._dcIndex=h,this._aIndex=u,this._iIndex=l},go.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},go.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;O.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},go.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,i=e.gl,r=e.state,n=go._drawCallPool,s=null,o=0;o<t;o++){var a=n[o],h=a.texArray,u=a.type,l=a.size,c=a.start,a=a.blend;s!==h&&this.bindAndClearTexArray(s=h),this.state.blendMode=a,r.set(this.state),i.drawElements(u,l,i.UNSIGNED_SHORT,2*c)}},go.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},go.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),O.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},go.prototype.stop=function(){this.flush()},go.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),Qs.prototype.destroy.call(this)},go.prototype.getAttributeBuffer=function(t){var e=Xt(Math.ceil(t/8)),t=Wt(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);t=this._aBuffers[e];return t||(this._aBuffers[e]=t=new ro(e*this.vertexSize*4)),t},go.prototype.getIndexBuffer=function(t){var e=Xt(Math.ceil(t/12)),i=Wt(e),t=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);e=this._iBuffers[i];return e||(this._iBuffers[i]=e=new Uint16Array(t)),e},go.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,o=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,e=Math.min(t.worldAlpha,1),p=e<1&&t._texture.baseTexture.alphaMode?Bt(t._tintRGB,e):t._tintRGB+(255*e<<24),d=0;d<l.length;d+=2)o[r++]=l[d],o[r++]=l[d+1],o[r++]=h[d],o[r++]=h[d+1],s[r++]=p,o[r++]=c;for(d=0;d<u.length;d++)i[n++]=a+u[d]},go._drawCallPool=[],go._textureArrayPool=[],go),so=(mo.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Vr.from({uSamplers:e},!0);var r=(r=(r=this.fragTemplate).replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t));this.programCache[t]=new Kn(this.vertexSrc,r)}r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ge,default:this.defaultGroupCache[t]};return new Qn(this.programCache[t],r)},mo.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)0<i&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},mo),oo=(Pi(_o,Ks=zr),_o),ao="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ho="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",uo=(fo.create=function(t){var e,t=Object.assign({vertex:ao,fragment:ho,geometryClass:oo,vertexSize:6},t),i=t.vertex,r=t.fragment,n=t.vertexSize,s=t.geometryClass;return Pi(o,e=no),o;function o(t){t=e.call(this,t)||this;return t.shaderGenerator=new so(i,r),t.geometryClass=s,t.vertexSize=n,t}},Object.defineProperty(fo,"defaultVertexSrc",{get:function(){return ao},enumerable:!1,configurable:!0}),Object.defineProperty(fo,"defaultFragmentTemplate",{get:function(){return ho},enumerable:!1,configurable:!0}),fo),lo=uo.create(),co=(po.registerPlugin=function(t){po._plugins.push(t)},po.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(po.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(po.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),po.prototype.destroy=function(t,e){var i=this,r=po._plugins.slice(0);r.reverse(),r.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},po);function po(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Zs(e),this.stage=new Ve,po._plugins.forEach(function(t){t.init.call(i,e)})}function fo(){}function _o(t){void 0===t&&(t=!1);var e=Ks.call(this)||this;return e._buffer=new Ir(null,t,!1),e._indexBuffer=new Ir(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,W.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,W.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,W.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,W.TYPES.FLOAT).addIndex(e._indexBuffer),e}function mo(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}function go(t){var e=Qs.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=Jn.for2d(),e.size=4*O.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}function yo(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}function vo(){this.elements=[],this.ids=[],this.count=0}co._plugins=[];var xo=(bo.init=function(t){var i=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){var t,e;i._resizeTo&&(i.cancelResize(),e=i._resizeTo===window?(t=window.innerWidth,window.innerHeight):(t=(e=i._resizeTo).clientWidth,e.clientHeight),i.renderer.resize(t,e))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},bo.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},bo);function bo(){}co.registerPlugin(xo);var To=new le,Po=(wo.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},wo.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},wo.prototype.canvas=function(t){var e,i,r,n=this.renderer,s=!1,o=!1;t&&(t instanceof Pr?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,s=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,s=!0,(i=To).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(i.width*e+1e-4),h=Math.floor(i.height*e+1e-4),u=new Jt(a,h,1),t=new Uint8Array(4*a*h),n=n.gl;n.readPixels(i.x*e,i.y*e,a,h,n.RGBA,n.UNSIGNED_BYTE,t);a=u.context.getImageData(0,0,a,h);return wo.arrayPostDivide(t,a.data),u.context.putImageData(a,0,0),s&&((s=new Jt(u.width,u.height,1)).context.scale(1,-1),s.context.drawImage(u.canvas,0,-h),u.destroy(),u=s),o&&r.destroy(!0),u.canvas},wo.prototype.pixels=function(t){var e,i,r,n=this.renderer,s=!1;t&&(t instanceof Pr?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=To).width=n.width,i.height=n.height,n.renderTexture.bind(null));var o=i.width*e,a=i.height*e,t=new Uint8Array(4*o*a),n=n.gl;return n.readPixels(i.x*e,i.y*e,o,a,n.RGBA,n.UNSIGNED_BYTE,t),s&&r.destroy(!0),wo.arrayPostDivide(t,t),t},wo.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},wo.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},wo);function wo(t){(this.renderer=t).extract=this}function Eo(t,e){if(t){for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),n={},s=14;s--;)n[r.key[s]]=i[s]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}}var So=(Oa=t(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t};function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=(i(o,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),o);function o(t,e,i){void 0===e&&(e=!1),n(this,o),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}function a(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}i(h,[{key:"handlers",value:function(){var t=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!t;for(var e=[];t;)e.push(t),t=t._next;return e}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),i=h;function h(){n(this,h),this._head=this._tail=void 0}i.MiniSignalBinding=s,e.default=i,t.exports=e.default}))&&Oa.__esModule&&Object.prototype.hasOwnProperty.call(Oa,"default")?Oa.default:Oa;function Io(){}function Ao(i,r,n,s){var o=0,a=i.length;!function t(e){e||o===a?n&&n(e):s?setTimeout(function(){r(i[o++],t)},1):r(i[o++],t)}()}function Co(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:t,saturated:Io,unsaturated:Io,buffer:t/4,empty:Io,drain:Io,error:Io,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=Io,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),e(t.data,function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}(function(t){return function(){--i,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}(t)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");r.started=!0,null==t&&r.idle()?setTimeout(function(){return r.drain()},1):(i={data:t,callback:"function"==typeof i?i:Io},e?r._tasks.unshift(i):r._tasks.push(i),setTimeout(function(){return r.process()},1))}return r}var Oo={};function Lo(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(t,e,i){return e&&Lo(t.prototype,e),i&&Lo(t,i),t}var Do=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Ro=null;function No(){}var Bo=function(){function s(t,e,i){if("string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(s.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=s.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=No,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new So,this.onProgress=new So,this.onComplete=new So,this.onAfterMiddleware=new So}s.setExtensionLoadType=function(t,e){ko(s._loadTypeMap,t,e)},s.setExtensionXhrType=function(t,e){ko(s._xhrTypeMap,t,e)};var t=s.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=s.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(s.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case s.LOAD_TYPE.IMAGE:this.type=s.TYPE.IMAGE,this._loadElement("image");break;case s.LOAD_TYPE.AUDIO:this.type=s.TYPE.AUDIO,this._loadSourceElement("audio");break;case s.LOAD_TYPE.VIDEO:this.type=s.TYPE.VIDEO,this._loadSourceElement("video");break;default:s.LOAD_TYPE.XHR;Do&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(t){return 0!=(this._flags&t)},t._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(s.STATUS_FLAGS.COMPLETE,!0),this._setFlag(s.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===s.XHR_RESPONSE_TYPE.JSON||this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=s.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t._createSource=function(t,e,i){i=i||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=i,t},t._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var t=this.xhr;this.abort(Fo(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t._xhrOnTimeout=function(){var t=this.xhr;this.abort(Fo(t)+" Request timed out.")},t._xhrOnAbort=function(){var t=this.xhr;this.abort(Fo(t)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t,e,i=this.xhr,r="",n=void 0===i.status?200:i.status;if(""!==i.responseType&&"text"!==i.responseType&&void 0!==i.responseType||(r=i.responseText),0===n&&(0<r.length||i.responseType===s.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===s.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=s.TYPE.TEXT;else if(this.xhrType===s.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=s.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===s.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(t=new DOMParser,this.data=t.parseFromString(r,"text/xml")):((e=document.createElement("div")).innerHTML=r,this.data=e),this.type=s.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=i.response||r;this.complete()}else this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL)},t._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,(Ro=Ro||document.createElement("a")).href=t;var i=!(t=Eo(Ro.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},t._determineXhrType=function(){return s._xhrTypeMap[this.extension]||s.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return s._loadTypeMap[this.extension]||s.LOAD_TYPE.XHR},t._getExtension=function(){var t,e,i=this.url;return(this.isDataUrl?(e=i.indexOf("/"),i.substring(e+1,i.indexOf(";",e))):(t=i.indexOf("?"),e=i.indexOf("#"),e=Math.min(-1<t?t:i.length,-1<e?e:i.length),(i=i.substring(0,e)).substring(i.lastIndexOf(".")+1))).toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case s.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case s.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case s.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case s.XHR_RESPONSE_TYPE.JSON:return"application/json";case s.XHR_RESPONSE_TYPE.DEFAULT:case s.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Mo(s,[{key:"isDataUrl",get:function(){return this._hasFlag(s.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(s.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(s.STATUS_FLAGS.LOADING)}}]),s}();function ko(t,e,i){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=i)}function Fo(t){return t.toString().replace("object ","")}Bo.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Bo.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Bo.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Bo.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Bo._loadTypeMap={gif:Bo.LOAD_TYPE.IMAGE,png:Bo.LOAD_TYPE.IMAGE,bmp:Bo.LOAD_TYPE.IMAGE,jpg:Bo.LOAD_TYPE.IMAGE,jpeg:Bo.LOAD_TYPE.IMAGE,tif:Bo.LOAD_TYPE.IMAGE,tiff:Bo.LOAD_TYPE.IMAGE,webp:Bo.LOAD_TYPE.IMAGE,tga:Bo.LOAD_TYPE.IMAGE,svg:Bo.LOAD_TYPE.IMAGE,"svg+xml":Bo.LOAD_TYPE.IMAGE,mp3:Bo.LOAD_TYPE.AUDIO,ogg:Bo.LOAD_TYPE.AUDIO,wav:Bo.LOAD_TYPE.AUDIO,mp4:Bo.LOAD_TYPE.VIDEO,webm:Bo.LOAD_TYPE.VIDEO},Bo._xhrTypeMap={xhtml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,html:Bo.XHR_RESPONSE_TYPE.DOCUMENT,htm:Bo.XHR_RESPONSE_TYPE.DOCUMENT,xml:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,svg:Bo.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Bo.XHR_RESPONSE_TYPE.DOCUMENT,gif:Bo.XHR_RESPONSE_TYPE.BLOB,png:Bo.XHR_RESPONSE_TYPE.BLOB,bmp:Bo.XHR_RESPONSE_TYPE.BLOB,jpg:Bo.XHR_RESPONSE_TYPE.BLOB,jpeg:Bo.XHR_RESPONSE_TYPE.BLOB,tif:Bo.XHR_RESPONSE_TYPE.BLOB,tiff:Bo.XHR_RESPONSE_TYPE.BLOB,webp:Bo.XHR_RESPONSE_TYPE.BLOB,tga:Bo.XHR_RESPONSE_TYPE.BLOB,json:Bo.XHR_RESPONSE_TYPE.JSON,text:Bo.XHR_RESPONSE_TYPE.TEXT,txt:Bo.XHR_RESPONSE_TYPE.TEXT,ttf:Bo.XHR_RESPONSE_TYPE.BUFFER,otf:Bo.XHR_RESPONSE_TYPE.BUFFER},Bo.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Go=window.URL||window.webkitURL,Uo={caching:function(t,e){var i=this;Oo[t.url]?(t.data=Oo[t.url],t.complete()):t.onComplete.once(function(){return Oo[i.url]=i.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Bo.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=Go.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){Go.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],s=0;s<r.length;++s)i<t.length?r[s]=255&t.charCodeAt(i++):r[s]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var o=0;o<n.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[o])}return e}(t.xhr.responseText),t.type=Bo.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Xo=/(#[\w-]+)?$/,jo=((Hh=Wo.prototype).add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,e=(i=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Bo(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var h=s.progressChunk*(o.length+1)/(o.length+2);s.children.push(this.resources[t]),s.progressChunk=h;for(var u=0;u<o.length;++u)o[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},Hh.pre=function(t){return this._beforeMiddleware.push(t),this},Hh.use=function(t){return this._afterMiddleware.push(t),this},Hh.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){t=this.resources[t];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},Hh.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Hh._prepareUrl=function(t){var e=Eo(t,{strictMode:!0}),e=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t;return this.defaultQueryString&&(t=Xo.exec(e)[0],-1!==(e=e.substr(0,e.length-t.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=t),e},Hh._loadResource=function(i,t){var r=this;i._dequeue=t,Ao(this._beforeMiddleware,function(t,e){t.call(r,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?r._onLoad(i):(i._onLoadBinding=i.onComplete.once(r._onLoad,r),i.load())},!0)},Hh._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},Hh._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},Hh._onLoad=function(i){var r=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),Ao(this._afterMiddleware,function(t,e){t.call(r,i,e)},function(){i.onAfterMiddleware.dispatch(i),r.progress=Math.min(100,r.progress+i.progressChunk),r.onProgress.dispatch(r,i),i.error?r.onError.dispatch(i.error,r,i):r.onLoad.dispatch(r,i),r._resourcesParsing.splice(r._resourcesParsing.indexOf(i),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},Mo(Wo,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),Wo);function Wo(t,e){var i=this;void 0===e&&(e=10),this.baseUrl=t=void 0===t?"":t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Co(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new So,this.onError=new So,this.onLoad=new So,this.onStart=new So,this.onComplete=new So;for(var r=0;r<Wo._defaultBeforeMiddleware.length;++r)this.pre(Wo._defaultBeforeMiddleware[r]);for(var n=0;n<Wo._defaultAfterMiddleware.length;++n)this.use(Wo._defaultAfterMiddleware[n])}jo._defaultBeforeMiddleware=[],jo._defaultAfterMiddleware=[],jo.pre=function(t){return jo._defaultBeforeMiddleware.push(t),jo},jo.use=function(t){return jo._defaultAfterMiddleware.push(t),jo};var zo,Ho,qo=Bo,Yo=function(t,e){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},r=(Ko.use=function(t,e){t.data&&t.type===Bo.TYPE.IMAGE&&(t.texture=fr.fromLoader(t.data,t.url,t.name)),e()},Ko),Vo=(Yo(Ho=$o,Vh=zo=jo),Ho.prototype=null===Vh?Object.create(Vh):(Zo.prototype=Vh.prototype,new Zo),$o.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty($o,"shared",{get:function(){var t=$o._shared;return t||((t=new $o)._protected=!0,$o._shared=t),t},enumerable:!1,configurable:!0}),$o.registerPlugin=function(t){return $o._plugins.push(t),t.add&&t.add(),$o},$o._plugins=[],$o);function $o(t,e){for(var i=zo.call(this,t,e)||this,r=0;r<$o._plugins.length;++r){var n=$o._plugins[r],s=n.pre,n=n.use;s&&i.pre(s),n&&i.use(n)}return i._protected=!1,i}function Zo(){this.constructor=Ho}function Ko(){}Vo.registerPlugin({use:Uo.parsing}),Vo.registerPlugin(r);var ft=(Jo.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Vo.shared:new Vo},Jo.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},Jo),Qo=function(t,e){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Jo(){}function ta(t,e){function i(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ea,ia,ut=(ta(oa,ia=Ve),oa.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},oa.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(oa.prototype,"tint",{get:function(){return this._tint},set:function(t){Ct(this._tint=t,this.tintRgb)},enumerable:!1,configurable:!0}),oa.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},oa.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},oa.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},oa.prototype.destroy=function(t){ia.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},oa),ra=(sa.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ir(Ft(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i)(s=this.dynamicProperties[i]).offset=e,e+=s.size,this.dynamicStride+=s.size;var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Ir(this.dynamicData,!1,!1);for(var n=0,i=this.staticStride=0;i<this.staticProperties.length;++i)(s=this.staticProperties[i]).offset=n,n+=s.size,this.staticStride+=s.size;r=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new Ir(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===W.TYPES.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(i=0;i<this.staticProperties.length;++i)s=this.staticProperties[i],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===W.TYPES.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},sa.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===W.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},sa.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===W.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},sa.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},sa),Xi=(ta(na,ea=Kr),na.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,s=e.length;if(0!==s){i<s&&!t.autoResize&&(s=i);var o=(o=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=Rt(t.blendMode,a.alphaMode),n.state.set(this.state);var h=n.gl,i=t.worldTransform.copyTo(this.tempMatrix);i.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=i.toArray(!0),this.shader.uniforms.uColor=Nt(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var u=!1,l=0,c=0;l<s;l+=r,c+=1){var p=s-l;r<p&&(p=r),c>=o.length&&o.push(this._generateOneMoreBuffer(t));var d=o[c];d.uploadDynamic(e,l,p);var f=t._bufferUpdateIDs[c]||0;(u=u||d._updateID<f)&&(d._updateID=t._updateID,d.uploadStatic(e,l,p)),n.geometry.bind(d.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},na.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,s=0;s<i;s+=r)e.push(new ra(this.properties,n,r));return e},na.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,t=t._properties;return new ra(this.properties,t,e)},na.prototype.uploadVertices=function(t,e,i,r,n,s){for(var o=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],p=c._texture,d=c.scale.x,f=c.scale.y,_=p.trim,p=p.orig;_?(o=(a=_.x-c.anchor.x*p.width)+_.width,h=(u=_.y-c.anchor.y*p.height)+_.height):(o=p.width*(1-c.anchor.x),a=p.width*-c.anchor.x,h=p.height*(1-c.anchor.y),u=p.height*-c.anchor.y),r[s]=a*d,r[s+1]=u*f,r[s+n]=o*d,r[s+n+1]=u*f,r[s+2*n]=o*d,r[s+2*n+1]=h*f,r[s+3*n]=a*d,r[s+3*n+1]=h*f,s+=4*n}},na.prototype.uploadPosition=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].position;r[s]=a.x,r[s+1]=a.y,r[s+n]=a.x,r[s+n+1]=a.y,r[s+2*n]=a.x,r[s+2*n+1]=a.y,r[s+3*n]=a.x,r[s+3*n+1]=a.y,s+=4*n}},na.prototype.uploadRotation=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;r[s]=a,r[s+n]=a,r[s+2*n]=a,r[s+3*n]=a,s+=4*n}},na.prototype.uploadUvs=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(r[s]=a.x0,r[s+1]=a.y0,r[s+n]=a.x1,r[s+n+1]=a.y1,r[s+2*n]=a.x2,r[s+2*n+1]=a.y2,r[s+3*n]=a.x3,r[s+3*n+1]=a.y3):(r[s]=0,r[s+1]=0,r[s+n]=0,r[s+n+1]=0,r[s+2*n]=0,r[s+2*n+1]=0,r[s+3*n]=0,r[s+3*n+1]=0),s+=4*n}},na.prototype.uploadTint=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o],h=0<a._texture.baseTexture.alphaMode,u=a.alpha,u=u<1&&h?Bt(a._tintRGB,u):a._tintRGB+(255*u<<24);r[s]=u,r[s+n]=u,r[s+2*n]=u,r[s+3*n]=u,s+=4*n}},na.prototype.destroy=function(){ea.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},na);function na(t){t=ea.call(this,t)||this;return t.shader=null,t.properties=null,t.tempMatrix=new ge,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:W.TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=Qn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),t.state=Jn.for2d(),t}function sa(t,e,i){this.geometry=new zr,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n={attributeName:(n=t[r]).attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||W.TYPES.FLOAT,offset:n.offset};(e[r]?this.dynamicProperties:this.staticProperties).push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}function oa(t,e,i,r){void 0===t&&(t=1500),void 0===i&&(i=16384),void 0===r&&(r=!1);var n=ia.call(this)||this;return 16384<i&&(i=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=i,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=W.BLEND_MODES.NORMAL,n.autoResize=r,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}(Wi=W.LINE_JOIN||(W.LINE_JOIN={})).MITER="miter",Wi.BEVEL="bevel",Wi.ROUND="round",(zi=W.LINE_CAP||(W.LINE_CAP={})).BUTT="butt",zi.ROUND="round",zi.SQUARE="square";var aa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;t=Math.ceil(t/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},ha=(la.prototype.clone=function(){var t=new la;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},la.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=fr.WHITE,this.matrix=null,this.visible=!1},la.prototype.destroy=function(){this.texture=null,this.matrix=null},la),ua=function(t,e){return(ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function la(){this.color=16777215,this.alpha=1,this.texture=fr.WHITE,this.matrix=null,this.visible=!1,this.reset()}function ca(t,e){function i(){this.constructor=t}ua(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var pa={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,s=e.indices;if(6<=i.length){for(var o=[],a=0;a<r.length;a++){var h=r[a];o.push(i.length/2),i=i.concat(h.points)}var u=M(i,o,2);if(u){for(var l=n.length/2,a=0;a<u.length;a+=3)s.push(u[a]+l),s.push(u[a+1]+l),s.push(u[a+2]+l);for(a=0;a<i.length;a++)n.push(i[a])}}}},Hi={build:function(t){var e,i,r=t.shape,n=t.points,s=r.x,o=r.y;if(n.length=0,i=t.type===W.SHAPES.CIRC?(e=r.radius,r.radius):(e=(t=t.shape).width,t.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+i));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a-.5;u++)n.push(s+Math.sin(-h*u)*e,o+Math.cos(-h*u)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=s,a=t.shape,h=t.matrix,e=a.x,a=a.y;r.push(t.matrix?h.a*e+h.c*a+h.tx:e,t.matrix?h.b*e+h.d*a+h.ty:a);for(var u=0;u<i.length;u+=2)r.push(i[u],i[u+1]),n.push(s++,o,s)}},ss={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,e=e.height,t=t.points;t.length=0,t.push(i,r,i+n,r,i+n,r+e,i,r+e)},triangulate:function(t,e){var i=t.points,r=e.points,t=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(t,1+t,2+t,1+t,2+t,3+t)}};function da(t,e,i){return t+(e-t)*i}function fa(t,e,i,r,n,s,o){for(var a,h,u,l,c,p,d,f=o=void 0===o?[]:o,_=0;_<=20;++_)a=da(t,i,d=_/20),h=da(e,r,d),u=da(i,n,d),l=da(r,s,d),c=da(a,u,d),p=da(h,l,d),f.push(c,p);return f}L={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,s=e.width,t=e.height,e=Math.max(0,Math.min(e.radius,Math.min(s,t)/2));i.length=0,e?(fa(r,n+e,r,n,r+e,n,i),fa(r+s-e,n,r+s,n,r+s,n+e,i),fa(r+s,n+t-e,r+s,n+t,r+s-e,n+t,i),fa(r+e,n+t,r,n+t,r,n+t-e,i)):i.push(r,n,r+s,n,r+s,n+t,r,n+t)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=M(i,null,2),a=0,h=o.length;a<h;a+=3)n.push(o[a]+s),n.push(o[a+1]+s),n.push(o[a+2]+s);for(a=0,h=i.length;a<h;a++)r.push(i[a],i[++a])}};function _a(t,e,i,r,n,s,o,a){var h,u=o?(h=r,-i):(h=-r,i),o=t+i*s+h,s=e+r*s+u;return a.push(t-i*n+h,e-r*n+u),a.push(o,s),2}function ma(t,e,i,r,n,s,o,a){var h=i-t,u=r-e,l=Math.atan2(h,u),c=Math.atan2(n-t,s-e);a&&l<c?l+=2*Math.PI:!a&&c<l&&(c+=2*Math.PI);var p=l,c=c-l,l=Math.abs(c),d=Math.sqrt(h*h+u*u),f=1+(15*l*Math.sqrt(d)/Math.PI>>0),_=c/f;if(p+=_,a){o.push(t,e),o.push(i,r);for(var m=1,g=p;m<f;m++,g+=_)o.push(t,e),o.push(t+Math.sin(g)*d,e+Math.cos(g)*d);o.push(t,e),o.push(n,s)}else{for(o.push(i,r),o.push(t,e),m=1,g=p;m<f;m++,g+=_)o.push(t+Math.sin(g)*d,e+Math.cos(g)*d),o.push(t,e);o.push(n,s),o.push(t,e)}return 2*f}function ga(h,u){h.lineStyle.native?function(){var t=0,e=h.shape,i=h.points||e.points,r=e.type!==W.SHAPES.POLY||e.closeStroke;if(0!==i.length){var n=u.points,s=u.indices,o=i.length/2,e=n.length/2,a=e;for(n.push(i[0],i[1]),t=1;t<o;t++)n.push(i[2*t],i[2*t+1]),s.push(a,a+1),a++;r&&s.push(a,e)}}():function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0!==r.length){var s=t.lineStyle,o=new _e(r[0],r[1]),t=new _e(r[r.length-2],r[r.length-1]),i=i.type!==W.SHAPES.POLY||i.closeStroke,n=Math.abs(o.x-t.x)<n&&Math.abs(o.y-t.y)<n;i&&(r=r.slice(),n&&(r.pop(),r.pop(),t.set(r[r.length-2],r[r.length-1])),n=.5*(o.x+t.x),E=.5*(t.y+o.y),r.unshift(n,E),r.push(n,E));var a,h,u=e.points,l=r.length/2,c=r.length,p=u.length/2,d=s.width/2,f=d*d,_=s.miterLimit*s.miterLimit,m=r[0],g=r[1],y=r[2],v=r[3],x=0,b=0,T=-(g-v),P=m-y,w=Math.sqrt(T*T+P*P);T/=w,P/=w,T*=d,P*=d;var E=s.alignment,S=2*(1-E),I=2*E;i||(s.cap===W.LINE_CAP.ROUND?c+=ma(m-T*(S-I)*.5,g-P*(S-I)*.5,m-T*S,g-P*S,m+T*I,g+P*I,u,!0)+2:s.cap===W.LINE_CAP.SQUARE&&(c+=_a(m,g,T,P,S,I,!0,u))),u.push(m-T*S,g-P*S),u.push(m+T*I,g+P*I);for(var A=1;A<l-1;++A){m=r[2*(A-1)],g=r[2*(A-1)+1],y=r[2*A],v=r[2*A+1],x=r[2*(A+1)],b=r[2*(A+1)+1],T=-(g-v),P=m-y,T/=w=Math.sqrt(T*T+P*P),P/=w,T*=d,P*=d,a=-(v-b),h=y-x,a/=w=Math.sqrt(a*a+h*h),h/=w,a*=d,h*=d;var C,O,L,M,D,R,N=y-m,B=g-v,k=y-x,F=b-v,G=B*k-F*N,U=G<0;Math.abs(G)<.1?(u.push(y-T*S,v-P*S),u.push(y+T*I,v+P*I)):(L=y+((C=(N*(R=(-a+x)*(-h+v)-(-a+y)*(-h+b))-k*(D=(-T+m)*(-P+v)-(-T+y)*(-P+g)))/G)-y)*S,M=v+((O=(F*D-B*R)/G)-v)*S,D=y-(C-y)*I,R=v-(O-v)*I,G=U?S:I,(O=(C-y)*(C-y)+(O-v)*(O-v))<=Math.min(N*N+B*B,k*k+F*F)+G*G*f?s.join===W.LINE_JOIN.BEVEL||_<O/f?(U?(u.push(L,M),u.push(y+T*I,v+P*I),u.push(L,M),u.push(y+a*I,v+h*I)):(u.push(y-T*S,v-P*S),u.push(D,R),u.push(y-a*S,v-h*S),u.push(D,R)),c+=2):s.join===W.LINE_JOIN.ROUND?U?(u.push(L,M),u.push(y+T*I,v+P*I),c+=ma(y,v,y+T*I,v+P*I,y+a*I,v+h*I,u,!0)+4,u.push(L,M),u.push(y+a*I,v+h*I)):(u.push(y-T*S,v-P*S),u.push(D,R),c+=ma(y,v,y-T*S,v-P*S,y-a*S,v-h*S,u,!1)+4,u.push(y-a*S,v-h*S),u.push(D,R)):(u.push(L,M),u.push(D,R)):(u.push(y-T*S,v-P*S),u.push(y+T*I,v+P*I),s.join===W.LINE_JOIN.BEVEL||_<O/f||(s.join===W.LINE_JOIN.ROUND?c+=U?ma(y,v,y+T*I,v+P*I,y+a*I,v+h*I,u,!0)+2:ma(y,v,y-T*S,v-P*S,y-a*S,v-h*S,u,!1)+2:(U?(u.push(D,R),u.push(D,R)):(u.push(L,M),u.push(L,M)),c+=2)),u.push(y-a*S,v-h*S),u.push(y+a*I,v+h*I),c+=2))}m=r[2*(l-2)],g=r[2*(l-2)+1],y=r[2*(l-1)],T=-(g-(v=r[2*(l-1)+1])),P=m-y,T/=w=Math.sqrt(T*T+P*P),P/=w,u.push(y-(T*=d)*S,v-(P*=d)*S),u.push(y+T*I,v+P*I),i||(s.cap===W.LINE_CAP.ROUND?c+=ma(y-T*(S-I)*.5,v-P*(S-I)*.5,y-T*S,v-P*S,y+T*I,v+P*I,u,!1)+2:s.cap===W.LINE_CAP.SQUARE&&(c+=_a(y,v,T,P,S,I,!1,u)));for(var X=e.indices,j=aa.epsilon*aa.epsilon,A=p;A<c+p-2;++A)m=u[2*A],g=u[2*A+1],y=u[2*(A+1)],v=u[2*(A+1)+1],x=u[2*(A+2)],b=u[2*(A+2)+1],Math.abs(m*(v-b)+y*(b-g)+x*(g-v))<j||X.push(A,A+1,A+2)}}(h,u)}var ya,va,xa,ba,Ta=(ca(Va,ba=de),Va),Pa=(Ya.curveTo=function(t,e,i,r,n,s){var o=s[s.length-2],a=s[s.length-1]-e,h=o-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var p=a*a+h*h,d=u*u+l*l,o=a*u+h*l,r=n*Math.sqrt(p)/c,i=n*Math.sqrt(d)/c,s=r*o/p,c=i*o/d,p=r*l+i*h,o=r*u+i*a,d=l*(r+c),c=u*(r+c);return{cx:p+t,cy:o+e,radius:n,startAngle:Math.atan2(a*(i+s)-o,h*(i+s)-p),endAngle:Math.atan2(c-o,d-p),anticlockwise:l*a<h*u}},Ya.arc=function(t,e,i,r,n,s,o,a,h){for(var u=o-s,o=aa._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/ae)),l=u/(2*o),c=2*l,p=Math.cos(l),d=Math.sin(l),f=o-1,_=f%1/f,m=0;m<=f;++m){var g=l+s+c*(m+_*m),y=Math.cos(g),g=-Math.sin(g);h.push((p*y+d*g)*n+i,(p*-g+d*y)*n+r)}},Ya),wa=(qa.curveLength=function(t,e,i,r,n,s,o,a){for(var h,u,l,c,p,d,f,_,m,g,y=0,v=t,x=e,b=1;b<=10;++b)m=v-(f=(d=(p=(c=1-(h=b/10))*c)*c)*t+3*p*h*i+3*c*(u=h*h)*n+(l=u*h)*o),g=x-(_=d*e+3*p*h*r+3*c*u*s+l*a),v=f,x=_,y+=Math.sqrt(m*m+g*g);return y},qa.curveTo=function(t,e,i,r,n,s,o){var a=o[o.length-2],h=o[o.length-1];o.length-=2;var u,l,c,p,d,f=aa._segmentsCount(qa.curveLength(a,h,t,e,i,r,n,s));o.push(a,h);for(var _,m=1;m<=f;++m)c=(l=(u=1-(_=m/f))*u)*u,d=(p=_*_)*_,o.push(c*a+3*l*_*t+3*u*p*i+d*n,c*h+3*l*_*e+3*u*p*r+d*s)},qa),Ea=(Ha.curveLength=function(t,e,i,r,n,s){var o=t-2*i+n,a=e-2*r+s,n=2*i-2*t,s=2*r-2*e,i=4*(o*o+a*a),t=4*(o*n+a*s),r=n*n+s*s,e=2*Math.sqrt(i+t+r),o=Math.sqrt(i),a=2*i*o,n=2*Math.sqrt(r),s=t/o;return(a*e+o*t*(e-n)+(4*r*i-t*t)*Math.log((2*o+s+e)/(s+n)))/(4*a)},Ha.curveTo=function(t,e,i,r,n){for(var s=n[n.length-2],o=n[n.length-1],a=aa._segmentsCount(Ha.curveLength(s,o,t,e,i,r)),h=0,u=0,l=1;l<=a;++l){var c=l/a;n.push((h=s+(t-s)*c)+(t+(i-t)*c-h)*c,(u=o+(e-o)*c)+(e+(r-e)*c-u)*c)}},Ha),Sa=(za.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},za.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},za.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},za),Ia=((xo={})[W.SHAPES.POLY]=pa,xo[W.SHAPES.CIRC]=Hi,xo[W.SHAPES.ELIP]=Hi,xo[W.SHAPES.RECT]=ss,xo[W.SHAPES.RREC]=L,xo),Aa=[],Ca=[],Oa={buildPoly:pa,buildCircle:Hi,buildRectangle:ss,buildRoundedRectangle:L,FILL_COMMANDS:Ia,BATCH_POOL:Aa,DRAW_CALL_POOL:Ca,buildLine:ga,Star:Ta,ArcUtils:Pa,BezierUtils:wa,QuadraticUtils:Ea,BatchPart:Sa},La=(Wa.prototype.clone=function(){return new Wa(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Wa.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},Wa),Ma=new _e,Da=new Be,Ra=(ca(ja,xa=oo),Object.defineProperty(ja.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),ja.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ca.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Aa.push(e)}this.batches.length=0},ja.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},ja.prototype.drawShape=function(t,e,i,r){r=new La(t,e=void 0===e?null:e,i=void 0===i?null:i,r=void 0===r?null:r);return this.graphicsData.push(r),this.dirty++,this},ja.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;t=new La(t,null,null,e=void 0===e?null:e),e=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=e.lineStyle,e.holes.push(t),this.dirty++,this},ja.prototype.destroy=function(){xa.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},ja.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Ma):Ma.copyFrom(t),r.shape.contains(Ma.x,Ma.y))){var n=!1;if(r.holes)for(var s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Ma.x,Ma.y)){n=!0;break}if(!n)return!0}}return!1},ja.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,n=null;0<this.batches.length&&(n=(r=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var o=i[s],a=o.fillStyle,h=o.lineStyle;Ia[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var u=0;u<2;u++){var l,c,p,d=0===u?a:h;d.visible&&(p=d.texture.baseTexture,l=this.indices.length,c=this.points.length/2,p.wrapMode=W.WRAP_MODES.REPEAT,0===u?this.processFill(o):this.processLine(o),0!=(p=this.points.length/2-c)&&(r&&!this._compareStyles(n,d)&&(r.end(l,c),r=null),r||((r=Aa.pop()||new Sa).begin(d,l,c),this.batches.push(r),n=d),this.addUvs(this.points,e,d.texture,c,p,d.matrix)))}}var f=this.indices.length,_=this.points.length/2;r&&r.end(f,_),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=new(65535<_&&t?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},ja.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},ja.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,i=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},ja.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var s=r.start+n;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}},ja.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*ja.BATCHABLE_SIZE},ja.prototype.buildDrawCalls=function(){for(var t=++Fi._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ca.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=Ca.pop();n||((n=new eo).texArray=new io),n.texArray.count=0,n.start=0,n.size=0,n.type=W.DRAW_MODES.TRIANGLES;var s,o=0,a=null,h=!1,u=W.DRAW_MODES.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],p=c.style,d=p.texture.baseTexture;h!==!!p.native&&(u=(h=!!p.native)?W.DRAW_MODES.LINES:W.DRAW_MODES.TRIANGLES,a=null,o=8,t++),a!==d&&((a=d)._batchEnabled!==t&&(8===o&&(t++,(o=0)<n.size&&((n=Ca.pop())||((n=new eo).texArray=new io),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=10497,n.texArray.elements[n.texArray.count++]=d,o++)),n.size+=c.size,l+=c.size,s=d._batchLocation,this.addColors(i,p.color,p.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,s,c.attribSize,c.attribStart)}Fi._globalBatch=t,this.packAttributes()},ja.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),s=new Float32Array(n),o=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)s[a++]=t[2*h],s[a++]=t[2*h+1],s[a++]=e[2*h],s[a++]=e[2*h+1],o[a++]=i[h],s[a++]=r[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},ja.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),pa.triangulate(t,this)):Ia[t.type].triangulate(t,this)},ja.prototype.processLine=function(t){ga(t,this);for(var e=0;e<t.holes.length;e++)ga(t.holes[e],this)},ja.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];Ia[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},ja.prototype.calculateBounds=function(){var t=this._bounds,e=Da,i=ge.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],s=n.shape,o=n.type,a=n.lineStyle,h=n.matrix||ge.IDENTITY,u=0;a&&a.visible&&(n=a.alignment,u=a.width,o===W.SHAPES.POLY?u*=.5+Math.abs(.5-n):u*=Math.max(0,n)),i!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=h),o===W.SHAPES.RECT||o===W.SHAPES.RREC?e.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,u,u):o===W.SHAPES.CIRC?e.addFramePad(s.x,s.y,s.x,s.y,s.radius+u,s.radius+u):o===W.SHAPES.ELIP?e.addFramePad(s.x,s.y,s.x,s.y,s.width+u,s.height+u):t.addVerticesMatrix(i,s.points,0,s.points.length,u,u)}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},ja.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},ja.prototype.addColors=function(t,e,i,r,n){void 0===n&&(n=0);var s=Bt((e>>16)+(65280&e)+((255&e)<<16),i);t.length=Math.max(t.length,n+r);for(var o=0;o<r;o++)t[n+o]=s},ja.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var n=0;n<i;n++)t[r+n]=e},ja.prototype.addUvs=function(t,e,i,r,n,s){void 0===s&&(s=null);for(var o=0,a=e.length,h=i.frame;o<n;){var u,l=t[2*(r+o)],c=t[2*(r+o)+1];s&&(u=s.a*l+s.c*c+s.tx,c=s.b*l+s.d*c+s.ty,l=u),o++,e.push(l/h.width,c/h.height)}var p=i.baseTexture;(h.width<p.width||h.height<p.height)&&this.adjustUvs(e,i,a,n)},ja.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,s=i+2*r,e=e.frame,o=e.width/n.width,a=e.height/n.height,h=e.x/e.width,u=e.y/e.height,l=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),p=i+2;p<s;p+=2)l=Math.min(l,Math.floor(t[p]+1e-6)),c=Math.min(c,Math.floor(t[p+1]+1e-6));for(h-=l,u-=c,p=i;p<s;p+=2)t[p]=(t[p]+h)*o,t[p+1]=(t[p+1]+u)*a},ja.BATCHABLE_SIZE=100,ja),Na=(ca(Xa,va=ha),Xa.prototype.clone=function(){var t=new Xa;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},Xa.prototype.reset=function(){va.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},Xa),Ba=new Float32Array(3),ka={},Fa=(ca(Ua,ya=Ve),Object.defineProperty(Ua.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),Ua.prototype.clone=function(){return this.finishPoly(),new Ua(this._geometry)},Object.defineProperty(Ua.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ua.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ua.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(Ua.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),Ua.prototype.lineStyle=function(t){var e;return"number"==typeof(t=void 0===t?null:t)&&(t={width:(e=arguments)[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}),this.lineTextureStyle(t)},Ua.prototype.lineTextureStyle=function(e){"number"==typeof e&&($t("v5.2.0","Please use object-based options for Graphics#lineTextureStyle"),e={width:(t=arguments)[0],texture:t[1],color:t[2],alpha:t[3],matrix:t[4],alignment:t[5],native:t[6]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({width:0,texture:fr.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:W.LINE_CAP.BUTT,join:W.LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=0<e.width&&0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},Ua.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new de,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new de,this.currentPath.closeStroke=!1)},Ua.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},Ua.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},Ua.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},Ua.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},Ua.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Ea.curveTo(t,e,i,r,n),this},Ua.prototype.bezierCurveTo=function(t,e,i,r,n,s){return this._initCurve(),wa.curveTo(t,e,i,r,n,s,this.currentPath.points),this},Ua.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var s=this.currentPath.points,t=Pa.curveTo(t,e,i,r,n,s);return t&&(e=t.cx,i=t.cy,r=t.radius,n=t.startAngle,s=t.endAngle,t=t.anticlockwise,this.arc(e,i,r,n,s,t)),this},Ua.prototype.arc=function(t,e,i,r,n,s){if(r===n)return this;if(!(s=void 0===s?!1:s)&&n<=r?n+=ae:s&&r<=n&&(r+=ae),0==n-r)return this;var o,a,h=t+Math.cos(r)*i,u=e+Math.sin(r)*i,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(o=Math.abs(c[c.length-2]-h),a=Math.abs(c[c.length-1]-u),o<l&&a<l||c.push(h,u)):(this.moveTo(h,u),c=this.currentPath.points),Pa.arc(h,u,t,e,i,r,n,s,c),this},Ua.prototype.beginFill=function(t,e){return this.beginTextureFill({texture:fr.WHITE,color:t=void 0===t?0:t,alpha:e=void 0===e?1:e})},Ua.prototype.beginTextureFill=function(e){e instanceof fr&&($t("v5.2.0","Please use object-based options for Graphics#beginTextureFill"),e={texture:(t=arguments)[0],color:t[1],alpha:t[2],matrix:t[3]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({texture:fr.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},Ua.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},Ua.prototype.drawRect=function(t,e,i,r){return this.drawShape(new le(t,e,i,r))},Ua.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new fe(t,e,i,r,n))},Ua.prototype.drawCircle=function(t,e,i){return this.drawShape(new ce(t,e,i))},Ua.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new pe(t,e,i,r))},Ua.prototype.drawPolygon=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=!0,n=e[0],n=n.points?(r=n.closeStroke,n.points):Array.isArray(e[0])?e[0]:e,n=new de(n);return n.closeStroke=r,this.drawShape(n),this},Ua.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},Ua.prototype.drawStar=function(t,e,i,r,n,s){return this.drawPolygon(new Ta(t,e,i,r,n,s=void 0===s?0:s))},Ua.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},Ua.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===W.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},Ua.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},Ua.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],s=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),n={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:Ct(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=n}},Ua.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},Ua.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*n,s.tint[1]=(r>>8&255)/255*n,s.tint[2]=(255&r)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},Ua.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,e=e.start,s=i.count,o=0;o<s;o++)t.texture.bind(i.elements[o],o);t.geometry.draw(r,n,e)},Ua.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!ka[i]){for(var r=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(r),s=0;s<r;s++)n[s]=s;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new ge,default:Vr.from({uSamplers:n},!0)},t=t.plugins[i]._shader.program;ka[i]=new Qn(t,o)}e=ka[i]}return e},Ua.prototype._calculateBounds=function(){this.finishPoly();var t,e,i,r=this._geometry;r.graphicsData.length&&(t=(i=r.bounds).minX,e=i.minY,r=i.maxX,i=i.maxY,this._bounds.addFrame(this.transform,t,e,r,i))},Ua.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,Ua._TEMP_POINT),this._geometry.containsPoint(Ua._TEMP_POINT)},Ua.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Ct(this.tint,Ba),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,r=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},Ua.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,s=t.tx,o=t.ty,a=this._geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],p=a[l+1];h[u++]=e*c+r*p+s,h[u++]=n*p+i*c+o}}},Ua.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},Ua.prototype.setMatrix=function(t){return this._matrix=t,this},Ua.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},Ua.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},Ua.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,ya.prototype.destroy.call(this,t)},Ua._TEMP_POINT=new _e,Ua),Ga=function(t,e){return(Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Ua(t){void 0===t&&(t=null);var e=ya.call(this)||this;return e._geometry=t||new Ra,e._geometry.refCount++,e.shader=null,e.state=Jn.for2d(),e._fillStyle=new ha,e._lineStyle=new Na,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=W.BLEND_MODES.NORMAL,e}function Xa(){var t=null!==va&&va.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=W.LINE_CAP.BUTT,t.join=W.LINE_JOIN.MITER,t.miterLimit=10,t}function ja(){var t=xa.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Be,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}function Wa(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}function za(){this.reset()}function Ha(){}function qa(){}function Ya(){}function Va(t,e,i,r,n,s){void 0===s&&(s=0),n=n||r/2;for(var o=-1*Math.PI/2+s,a=2*i,h=ae/a,u=[],l=0;l<a;l++){var c=l%2?n:r,p=l*h+o;u.push(t+c*Math.cos(p),e+c*Math.sin(p))}return ba.call(this,u)||this}var $a,Za,Ka=new _e,Qa=new Uint16Array([0,1,2,0,2,3]),Ja=(Ga(Za=eh,Hh=$a=Ve),Za.prototype=null===Hh?Object.create(Hh):(ih.prototype=Hh.prototype,new ih),eh.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ht(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ht(this.scale.y)*this._height/this._texture.orig.height)},eh.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},eh.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,p=0,d=0,e=0,t=0,e=u?(p=(d=u.x-c._x*l.width)+u.width,(t=u.y-c._y*l.height)+u.height):(p=(d=-c._x*l.width)+l.width,(t=-c._y*l.height)+l.height);if(h[0]=i*d+n*t+o,h[1]=s*t+r*d+a,h[2]=i*p+n*t+o,h[3]=s*t+r*p+a,h[4]=i*p+n*e+o,h[5]=s*e+r*p+a,h[6]=i*d+n*e+o,h[7]=s*e+r*d+a,this._roundPixels)for(var f=O.RESOLUTION,_=0;_<h.length;++_)h[_]=Math.round((h[_]*f|0)/f)}},eh.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,t=-r._x*i.width,n=t+i.width,r=-r._y*i.height,i=r+i.height;e[0]=s*t+a*r+u,e[1]=h*r+o*t+l,e[2]=s*n+a*r+u,e[3]=h*r+o*n+l,e[4]=s*n+a*i+u,e[5]=h*i+o*n+l,e[6]=s*t+a*i+u,e[7]=h*i+o*t+l},eh.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},eh.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},eh.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new le),t=this._localBoundsRect),this._bounds.getRectangle(t)):$a.prototype.getLocalBounds.call(this,t)},eh.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Ka);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,t=0;return Ka.x>=r&&Ka.x<r+e&&(t=-i*this.anchor.y,Ka.y>=t&&Ka.y<t+i)},eh.prototype.destroy=function(t){$a.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},eh.from=function(t,e){return new eh(t instanceof fr?t:fr.from(t,e))},Object.defineProperty(eh.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(eh.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||fr.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),eh),th=function(t,e){return(th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function eh(t){var e=$a.call(this)||this;return e._anchor=new me(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=W.BLEND_MODES.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||fr.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=Qa,e.pluginName="batch",e.isSprite=!0,e._roundPixels=O.ROUND_PIXELS,e}function ih(){this.constructor=Za}(Vh=W.TEXT_GRADIENT||(W.TEXT_GRADIENT={}))[Vh.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var rh={align:"left",breakWords:!(Vh[Vh.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:W.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},nh=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],sh=(oh.prototype.clone=function(){var t={};return uh(t,this,rh),new oh(t)},oh.prototype.reset=function(){uh(this,rh,rh)},Object.defineProperty(oh.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=hh(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fill",{get:function(){return this._fill},set:function(t){t=hh(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(Array.isArray(t)&&Array.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;++i)if(t[i]!==e[i])return;return 1}}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=hh(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(oh.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),oh.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,i=(e=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):e).length-1;0<=i;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&nh.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},oh);function oh(t){this.styleID=0,this.reset(),uh(this,t,t)}function ah(t){return"number"==typeof t?Ot(t):t="string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function hh(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=ah(t[e]);return t}return ah(t)}function uh(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var lh=(ch.measureText=function(t,e,i,r){void 0===r&&(r=ch._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),s=ch.measureFont(n);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=r.getContext("2d");o.font=n;for(var a=(i?ch.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=o.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}n=u+e.strokeThickness;e.dropShadow&&(n+=e.dropShadowDistance);i=e.lineHeight||s.fontSize+e.strokeThickness,r=Math.max(i,s.fontSize+e.strokeThickness)+(a.length-1)*(i+e.leading);return e.dropShadow&&(r+=e.dropShadowDistance),new ch(t,e,n,r,a,h,i+e.leading,u,s)},ch.wordWrap=function(t,e,i){for(var r=(i=void 0===i?ch._canvas:i).getContext("2d"),n=0,s="",o="",a=Object.create(null),h=e.letterSpacing,i=e.whiteSpace,u=ch.collapseSpaces(i),l=ch.collapseNewlines(i),c=!u,p=e.wordWrapWidth+h,d=ch.tokenize(t),f=0;f<d.length;f++){var _=d[f];if(ch.isNewline(_)){if(!l){o+=ch.addLine(s),c=!u,s="",n=0;continue}_=" "}if(u){var m=ch.isBreakingSpace(_),g=ch.isBreakingSpace(s[s.length-1]);if(m&&g)continue}m=ch.getFromCache(_,h,a,r);if(p<m)if(""!==s&&(o+=ch.addLine(s),s="",n=0),ch.canBreakWords(_,e.breakWords))for(var y=ch.wordWrapSplit(_),v=0;v<y.length;v++){for(var x=y[v],b=1;y[v+b];){var T=y[v+b],P=x[x.length-1];if(ch.canBreakChars(P,T,_,v,e.breakWords))break;x+=T,b++}v+=x.length-1;var w=ch.getFromCache(x,h,a,r);p<w+n&&(o+=ch.addLine(s),c=!1,s="",n=0),s+=x,n+=w}else{0<s.length&&(o+=ch.addLine(s),s="",n=0);g=f===d.length-1;o+=ch.addLine(_,!g),c=!1,s="",n=0}else p<m+n&&(c=!1,o+=ch.addLine(s),s="",n=0),(0<s.length||!ch.isBreakingSpace(_)||c)&&(s+=_,n+=m)}return o+ch.addLine(s,!1)},ch.addLine=function(t,e){return void 0===e&&(e=!0),t=ch.trimRight(t),e?t+"\n":t},ch.getFromCache=function(t,e,i,r){var n=i[t];return"number"!=typeof n&&(e=t.length*e,n=r.measureText(t).width+e,i[t]=n),n},ch.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},ch.collapseNewlines=function(t){return"normal"===t},ch.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var i=t[e];if(!ch.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},ch.isNewline=function(t){return"string"==typeof t&&0<=ch._newlines.indexOf(t.charCodeAt(0))},ch.isBreakingSpace=function(t){return"string"==typeof t&&0<=ch._breakingSpaces.indexOf(t.charCodeAt(0))},ch.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];ch.isBreakingSpace(n)||ch.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},ch.canBreakWords=function(t,e){return e},ch.canBreakChars=function(t,e,i,r,n){return!0},ch.wordWrapSplit=function(t){return t.split("")},ch.measureFont=function(t){if(ch._fonts[t])return ch._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=ch._canvas,r=ch._context;r.font=t;var n=ch.METRICS_STRING+ch.BASELINE_SYMBOL,s=Math.ceil(r.measureText(n).width),o=2*(a=Math.ceil(r.measureText(ch.BASELINE_SYMBOL).width)),a=a*ch.BASELINE_MULTIPLIER|0;i.width=s,i.height=o,r.fillStyle="#f00",r.fillRect(0,0,s,o),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,a);for(var h=r.getImageData(0,0,s,o).data,r=h.length,u=4*s,l=0,c=0,p=!1,l=0;l<a;++l){for(var d=0;d<u;d+=4)if(255!==h[c+d]){p=!0;break}if(p)break;c+=u}for(e.ascent=a-l,c=r-u,p=!1,l=o;a<l;--l){for(d=0;d<u;d+=4)if(255!==h[c+d]){p=!0;break}if(p)break;c-=u}return e.descent=l-a,e.fontSize=e.ascent+e.descent,ch._fonts[t]=e},ch.clearMetrics=function(t){(t=void 0===t?"":t)?delete ch._fonts[t]:ch._fonts={}},ch),Uo=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();function ch(t,e,i,r,n,s,o,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=h}Uo.width=Uo.height=10,lh._canvas=Uo,lh._context=Uo.getContext("2d"),lh._fonts={},lh.METRICS_STRING="|ÉqÅ",lh.BASELINE_SYMBOL="M",lh.BASELINE_MULTIPLIER=1.4,lh._newlines=[10,13];var ph,dh,fh={texture:!0,children:!(lh._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},_h=(th(dh=mh,Wi=ph=Ja),dh.prototype=null===Wi?Object.create(Wi):(gh.prototype=Wi.prototype,new gh),mh.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,s=lh.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=s.width,o=s.height,a=s.lines,h=s.lineHeight,u=s.lineWidths,l=s.maxLineWidth,c=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,d=0;d<p;++d){var f=e.dropShadow&&0===d,_=f?Math.ceil(Math.max(1,o)+2*e.padding):0,m=_*this._resolution;f?(n.fillStyle="black",n.strokeStyle="black",f=Ct("number"==typeof(f=e.dropShadowColor)?f:Lt(f)),n.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m):(n.fillStyle=this._generateFillStyle(e,a,s),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);for(var g=0;g<a.length;g++)i=e.strokeThickness/2,r=e.strokeThickness/2+g*h+c.ascent,"right"===e.align?i+=l-u[g]:"center"===e.align&&(i+=(l-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[g],i+e.padding,r+e.padding-_,!0),e.fill&&this.drawLetterSpacing(a[g],i+e.padding,r+e.padding-_)}this.updateTexture()}},mh.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var s,o=e,a=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,u=0;u<a.length;++u){var l=a[u];r?this.context.strokeText(l,o,i):this.context.fillText(l,o,i),o+=h-(s=this.context.measureText(t.substring(u+1)).width)+n,h=s}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},mh.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(r=ee(t)).data&&(t.width=r.width,t.height=r.height,this.context.putImageData(r.data,0,0));var e=this._texture,i=this._style,r=i.trim?0:i.padding,i=e.baseTexture;e.trim.width=e._frame.width=Math.ceil(t.width/this._resolution),e.trim.height=e._frame.height=Math.ceil(t.height/this._resolution),e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-2*r,e.orig.height=e._frame.height-2*r,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},mh.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),ph.prototype._render.call(this,t)},mh.prototype.getLocalBounds=function(t){return this.updateText(!0),ph.prototype.getLocalBounds.call(this,t)},mh.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},mh.prototype._generateFillStyle=function(t,e,i){var r=t.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var n=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,o=Math.ceil(this.canvas.width/this._resolution)-n-2*s,a=Math.ceil(this.canvas.height/this._resolution)-n-2*s,h=r.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(r[0]),u.unshift(0),h.push(r[r.length-1]),u.push(1),t.fillGradientType===W.TEXT_GRADIENT.LINEAR_VERTICAL)for(var p=this.context.createLinearGradient(o/2,s,o/2,a+s),d=0,f=(i.fontProperties.fontSize+t.strokeThickness)/a,c=0;c<e.length;c++)for(var _=i.lineHeight*c,m=0;m<h.length;m++){var g=_/a+("number"==typeof u[m]?u[m]:m/h.length)*f,g=Math.max(d,g),g=Math.min(g,1);p.addColorStop(g,h[m]),d=g}else{p=this.context.createLinearGradient(s,a/2,o+s,a/2);var y=h.length+1,v=1;for(c=0;c<h.length;c++){var x="number"==typeof u[c]?u[c]:v/y;p.addColorStop(x,h[c]),v++}}return p},mh.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},fh,t),ph.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(mh.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"style",{get:function(){return this._style},set:function(t){this._style=(t=t||{})instanceof sh?t:new sh(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(mh.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),mh);function mh(t,e,i){var r=this,n=!1;i||(i=document.createElement("canvas"),n=!0),i.width=3,i.height=3;var s=fr.from(i);return s.orig=new le,s.trim=new le,(r=ph.call(this,s)||this)._ownCanvas=n,r.canvas=i,r.context=r.canvas.getContext("2d"),r._resolution=O.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=t,r.style=e,r.localStyleID=-1,r}function gh(){this.constructor=dh}O.UPLOADS_PER_FRAME=4;var yh=function(t,e){return(yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},vh=(xh.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},xh.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},xh);function xh(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function bh(t,e){var i,r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)t._textures[n]instanceof fr&&(i=t._textures[n].baseTexture,-1===e.indexOf(i)&&(e.push(i),r=!0));return r}function Th(t,e){if(t.baseTexture instanceof Fi){t=t.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Ph(t,e){if(t._texture&&t._texture instanceof fr){t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function wh(t,e){return e instanceof _h&&(e.updateText(!0),!0)}function Eh(t,e){if(e instanceof sh){e=e.toFontString();return lh.measureFont(e),!0}return!1}function Sh(t,e){if(t instanceof _h){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function Ih(t,e){return t instanceof sh&&(-1===e.indexOf(t)&&e.push(t),!0)}Ah.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Je.system.addOnce(this.tick,this,W.UPDATE_PRIORITY.UTILITY))):e&&e()},Ah.prototype.tick=function(){setTimeout(this.delayedTick,0)},Ah.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Je.system.addOnce(this.tick,this,W.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),i=this.completes.length=0,r=n.length;i<r;i++)n[i]()}},Ah.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},Ah.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},Ah.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ve)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},Ah.prototype.destroy=function(){this.ticking&&Je.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},zi=Ah;function Ah(t){var e=this;this.limiter=new vh(O.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Sh),this.registerFindHook(Ih),this.registerFindHook(bh),this.registerFindHook(Th),this.registerFindHook(Ph),this.registerUploadHook(wh),this.registerUploadHook(Eh)}function Ch(t,e){return e instanceof Fi&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Oh(t,e){if(!(e instanceof Fa))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var s=r[n].style.texture;s&&Ch(t,s.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function Lh(t,e){return t instanceof Fa&&(e.push(t),!0)}var Mh,Dh,Hi=(yh(Dh=Gh,xo=Mh=zi),Dh.prototype=null===xo?Object.create(xo):(Uh.prototype=xo.prototype,new Uh),Gh),ss=(Fh.prototype.beginFrame=function(){this.frameStart=Date.now()},Fh.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},Fh),Rh=(kh.prototype._updateResolution=function(t){var e=this.data.meta.scale,t=se(t=void 0===t?null:t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&this.baseTexture.setResolution(t),t},kh.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=kh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},kh.prototype._processFrames=function(t){for(var e=t,i=kh.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r,n,s,o=this._frameKeys[e],a=this._frames[o],h=a.frame;h&&(r=s=null,n=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,n=new le(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),s=a.rotated?new le(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new le(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(r=new le(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new fr(this.baseTexture,s,n,r,a.rotated?2:0,a.anchor),fr.addToCache(this.textures[o],o)),e++}},kh.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var i=0;i<e[t].length;i++){var r=e[t][i];this.animations[t].push(this.textures[r])}}},kh.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},kh.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*kh.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*kh.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},kh.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},kh.BATCH_SIZE=1e3,kh),L=(Bh.use=function(i,r){var t,e,n=i.name+"_image";i.data&&i.type===qo.TYPE.JSON&&i.data.frames&&!this.resources[n]?(t={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},e=Bh.getResourcePath(i,this.baseUrl),this.add(n,e,t,function(t){var e;t.error?r(t.error):(e=new Rh(t.texture,i.data,i.url)).parse(function(){i.spritesheet=e,i.textures=e.textures,r()})})):r()},Bh.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:wt.resolve(t.url.replace(e,""),t.data.meta.image)},Bh),Nh=function(t,e){return(Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Bh(){}function kh(t,e,i){void 0===i&&(i=null),this._texture=t instanceof fr?t:null,this.baseTexture=t instanceof Fi?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(i||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}function Fh(t){this.maxMilliseconds=t,this.frameStart=0}function Gh(t){t=Mh.call(this,t)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(Lh),t.registerUploadHook(Ch),t.registerUploadHook(Oh),t}function Uh(){this.constructor=Dh}function Xh(t,e){function i(){this.constructor=t}Nh(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var jh,Wh,zh=new _e,Hh=(Xh(Kh,Wh=Ja),Object.defineProperty(Kh.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Kh.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Kh.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Kh.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},Kh.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},Kh.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},Kh.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new le),t=this._localBoundsRect),this._bounds.getRectangle(t)):Wh.prototype.getLocalBounds.call(this,t)},Kh.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,zh);var e=this._width,i=this._height,t=-e*this.anchor._x;if(zh.x>=t&&zh.x<t+e){e=-i*this.anchor._y;if(zh.y>=e&&zh.y<e+i)return!0}return!1},Kh.prototype.destroy=function(t){Wh.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},Kh.from=function(t,e){return"number"==typeof e&&($t("5.3.0","TilingSprite.from use options instead of width and height args"),e={width:e,height:arguments[2]}),new Kh(fr.from(t,e),e.width,e.height)},Object.defineProperty(Kh.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Kh.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),Kh),qh="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Yh=new ge,Vh=(Xh(Zh,jh=Kr),Zh.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,s=n.baseTexture,o=t.tileTransform.localTransform,a=t.uvMatrix,h=s.isPowerOfTwo&&n.frame.width===s.width&&n.frame.height===s.height;h&&(s._glTextures[e.CONTEXT_UID]?h=s.wrapMode!==W.WRAP_MODES.CLAMP:s.wrapMode===W.WRAP_MODES.CLAMP&&(s.wrapMode=W.WRAP_MODES.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,p=t._width,r=t._height;Yh.set(o.a*l/p,o.b*l/r,o.c*c/p,o.d*c/r,o.tx/p,o.ty/r),Yh.invert(),h?Yh.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Yh.toArray(!0),u.uniforms.uColor=kt(t.tint,t.worldAlpha,u.uniforms.uColor,s.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),this.state.blendMode=Rt(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},Zh),$h=function(t,e){return($h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Zh(t){var e=jh.call(this,t)||this,t={globals:e.renderer.globalUniforms};return e.shader=Qn.from(qh,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",t),e.simpleShader=Qn.from(qh,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",t),e.quad=new qr,e.state=Jn.for2d(),e}function Kh(t,e,i){void 0===e&&(e=100),void 0===i&&(i=100);var r=Wh.call(this,t)||this;return r.tileTransform=new Re,r._width=e,r._height=i,r.uvMatrix=r.texture.uvMatrix||new is(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}function Qh(t,e){function i(){this.constructor=t}$h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Jh,tu,eu,iu=(pu.prototype.update=function(t){!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},pu),ru=new _e,nu=new de,su=(Qh(cu,eu=Ve),Object.defineProperty(cu.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),cu.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===W.DRAW_MODES.TRIANGLES&&e.length<2*cu.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},cu.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},cu.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;e=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[e]),t.plugins[e].render(this)},cu.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,s=i.c,o=i.d,a=i.tx,h=i.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],p=e[2*l+1];u[2*l]=r*c+s*p+a,u[2*l+1]=n*c+o*p+h}if(this._roundPixels)for(var d=O.RESOLUTION,l=0;l<u.length;++l)u[l]=Math.round((u[l]*d|0)/d);this.vertexDirty=t.vertexDirtyId}},cu.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new iu(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},cu.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},cu.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ru);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=nu.points,r=this.geometry.getIndex().data,n=r.length,s=4===this.drawMode?3:1,o=0;o+2<n;o+=s){var a=2*r[o],h=2*r[o+1],u=2*r[o+2];if(i[0]=e[a],i[1]=e[1+a],i[2]=e[h],i[3]=e[1+h],i[4]=e[u],i[5]=e[1+u],nu.contains(ru.x,ru.y))return!0}return!1},cu.prototype.destroy=function(t){eu.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},cu.BATCHABLE_SIZE=100,cu),ou=(Qh(lu,tu=Qn),Object.defineProperty(lu.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(lu.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),lu.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,kt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},lu),au=(Qh(uu,Jh=zr),Object.defineProperty(uu.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),uu),hu=function(t,e){return(hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function uu(t,e,i){var r=Jh.call(this)||this,t=new Ir(t),e=new Ir(e,!0),i=new Ir(i,!0,!0);return r.addAttribute("aVertexPosition",t,2,!1,W.TYPES.FLOAT).addAttribute("aTextureCoord",e,2,!1,W.TYPES.FLOAT).addIndex(i),r._updateId=-1,r}function lu(t,e){var i=this,r={uSampler:t,alpha:1,uTextureMatrix:ge.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(r,e.uniforms),(i=tu.call(this,e.program||Kn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r)||this)._colorDirty=!1,i.uvMatrix=new is(t),i.batchable=void 0===e.program,i.pluginName=e.pluginName,i.tint=e.tint,i.alpha=e.alpha,i}function cu(t,e,i,r){void 0===r&&(r=W.DRAW_MODES.TRIANGLES);var n=eu.call(this)||this;return(n.geometry=t).refCount++,n.shader=e,n.state=i||Jn.for2d(),n.drawMode=r,n.start=0,n.size=0,n.uvs=null,n.indices=null,n.vertexData=new Float32Array(1),n.vertexDirty=0,n._transformID=-1,n._roundPixels=O.ROUND_PIXELS,n.batchUvs=null,n}function pu(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var du=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Uo=(yu.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},yu.parse=function(t){var e,i=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(e in i){var n,s=i[e].match(/^[a-z]+/gm)[0],o=i[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(n in o){var h=o[n].split("="),u=h[0],l=h[1].replace(/"/gm,""),h=parseFloat(l),h=isNaN(h)?l:h;a[u]=h}r[s].push(a)}var c=new du;return r.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),r.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),r.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),r.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),r.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),c},yu),fu=(gu.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},gu.parse=function(t){for(var e=new du,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),a=0;a<i.length;a++)e.info.push({face:i[a].getAttribute("face"),size:parseInt(i[a].getAttribute("size"),10)});for(a=0;a<r.length;a++)e.common.push({lineHeight:parseInt(r[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<s.length;a++){var h=s[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<o.length;a++)e.kerning.push({first:parseInt(o[a].getAttribute("first"),10),second:parseInt(o[a].getAttribute("second"),10),amount:parseInt(o[a].getAttribute("amount"),10)});return e},gu),Wi=(mu.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return fu.test(t)}return!1},mu.parse=function(t){t=(new window.DOMParser).parseFromString(t,"text/xml");return fu.parse(t)},mu),_u=[Uo,fu,Wi];function mu(){}function gu(){}function yu(){}function vu(t){for(var e=0;e<_u.length;e++)if(_u[e].test(t))return _u[e];return null}function xu(t,e,i,r,n,s){var o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a=i.dropShadow?i.dropShadowDistance:0,h=i.padding||0,u=Math.ceil(t.width/r)-a-2*h,l=Math.ceil(t.height/r)-a-2*h,c=o.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var d=c.length+1,f=1;f<d;++f)p.push(f/d);if(c.unshift(o[0]),p.unshift(0),c.push(o[o.length-1]),p.push(1),i.fillGradientType===W.TEXT_GRADIENT.LINEAR_VERTICAL)for(var _=e.createLinearGradient(u/2,h,u/2,l+h),m=0,g=(s.fontProperties.fontSize+i.strokeThickness)/l,f=0;f<n.length;f++)for(var y=s.lineHeight*f,v=0;v<c.length;v++){var x=y/l+("number"==typeof p[v]?p[v]:v/c.length)*g,x=Math.max(m,x),x=Math.min(x,1);_.addColorStop(x,c[v]),m=x}else{_=e.createLinearGradient(h,l/2,u+h,l/2);var b=c.length+1,T=1;for(f=0;f<c.length;f++){var P="number"==typeof p[f]?p[f]:T/b;_.addColorStop(P,c[f]),T++}}return _}var bu,Tu,Pu=(Ou.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},Ou.install=function(t,e,i){var r;if(t instanceof du)r=t;else{var n=vu(t);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(t)}i=new Ou(r,e=e instanceof fr?[e]:e,i);return Ou.available[i.font]=i},Ou.uninstall=function(t){var e=Ou.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete Ou.available[t]},Ou.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},Ou.defaultOptions,i),u=i.chars,r=i.padding,n=i.resolution,s=i.textureWidth,o=i.textureHeight,a=function(t){for(var e=[],i=0,r=(t="string"==typeof u?[u]:u).length;i<r;i++){var n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,h=o;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(u),h=e instanceof sh?e:new sh(e),l=s,c=new du;c.info[0]={face:h.fontFamily,size:h.fontSize},c.common[0]={lineHeight:h.fontSize};for(var p,d,f,_,m,g,y,v,x,b,T,P,w=0,E=0,S=0,I=[],A=0;A<a.length;A++){p||((p=document.createElement("canvas")).width=s,p.height=o,d=p.getContext("2d"),f=new Fi(p,{resolution:n}),I.push(new fr(f)),c.page.push({id:I.length-1,file:""}));var C=lh.measureText(a[A],h,!1,p),O=C.width,L=Math.ceil(C.height),M=Math.ceil(("italic"===h.fontStyle?2:1)*O);if(o-L*n<=E){if(0===E)throw new Error("[BitmapFont] textureHeight "+o+"px is too small for "+h.fontSize+"px fonts");--A,f=d=p=null,S=w=E=0}else S=Math.max(L+C.fontProperties.descent,S),l<=M*n+w?(--A,E+=S*n,E=Math.ceil(E),S=w=0):(_=p,m=d,y=w,v=E,x=n,b=h,P=T=void 0,T=(g=C).text,P=g.fontProperties,m.translate(y,v),m.scale(x,x),y=b.strokeThickness/2,v=-b.strokeThickness/2,m.font=b.toFontString(),m.lineWidth=b.strokeThickness,m.textBaseline=b.textBaseline,m.lineJoin=b.lineJoin,m.miterLimit=b.miterLimit,m.fillStyle=xu(_,m,b,x,[T],g),m.strokeStyle=b.stroke,m.font=b.toFontString(),m.lineWidth=b.strokeThickness,m.textBaseline=b.textBaseline,m.lineJoin=b.lineJoin,m.miterLimit=b.miterLimit,m.fillStyle=xu(_,m,b,x,[T],g),m.strokeStyle=b.stroke,x=Ct("number"==typeof(x=b.dropShadowColor)?x:Lt(x)),b.dropShadow?(m.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+b.dropShadowAlpha+")",m.shadowBlur=b.dropShadowBlur,m.shadowOffsetX=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,m.shadowOffsetY=Math.sin(b.dropShadowAngle)*b.dropShadowDistance):(m.shadowColor="black",m.shadowBlur=0,m.shadowOffsetX=0,m.shadowOffsetY=0),b.stroke&&b.strokeThickness&&m.strokeText(T,y,v+g.lineHeight-P.descent),b.fill&&m.fillText(T,y,v+g.lineHeight-P.descent),m.setTransform(1,0,0,1,0,0),m.fillStyle="rgba(0, 0, 0, 0)",C=C.text.charCodeAt(0),c.char.push({id:C,page:I.length-1,x:w/n,y:E/n,width:M,height:L,xoffset:0,yoffset:0,xadvance:Math.ceil(O-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),w+=(M+2*r)*n,w=Math.ceil(w))}e=new Ou(c,I,!0);return void 0!==Ou.available[t]&&Ou.uninstall(t),Ou.available[t]=e},Ou.ALPHA=[["a","z"],["A","Z"]," "],Ou.NUMERIC=[["0","9"]],Ou.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Ou.ASCII=[[" ","~"]],Ou.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ou.ALPHANUMERIC},Ou.available={},Ou),wu=[],Eu=[],Uo=(hu(Tu=Au,xo=bu=Ve),Tu.prototype=null===xo?Object.create(xo):(Cu.prototype=xo.prototype,new Cu),Au.prototype.updateText=function(){for(var t=Pu.available[this._fontName],e=this._fontSize/t.size,i=new _e,r=[],n=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",o=s.length,a=this._maxWidth*t.size/this._fontSize,h=null,u=0,l=0,c=0,p=-1,d=0,f=0,_=0,m=0;m<o;m++){var g,y,v=s.charCodeAt(m),x=s.charAt(m);/(?:\s)/.test(x)&&(p=m,d=u),"\r"!==x&&"\n"!==x?(g=t.chars[v])&&(h&&g.kerning[h]&&(i.x+=g.kerning[h]),(y=Eu.pop()||{texture:fr.EMPTY,line:0,charCode:0,position:new _e}).texture=g.texture,y.line=c,y.charCode=v,y.position.x=i.x+g.xOffset+this._letterSpacing/2,y.position.y=i.y+g.yOffset,r.push(y),i.x+=g.xAdvance+this._letterSpacing,u=i.x,_=Math.max(_,g.yOffset+g.texture.height),h=v,-1!==p&&0<a&&i.x>a&&(zt(r,1+p-++f,1+m-p),m=p,p=-1,n.push(d),l=Math.max(l,d),c++,i.x=0,i.y+=t.lineHeight,h=null)):(n.push(u),l=Math.max(l,u),++c,++f,i.x=0,i.y+=t.lineHeight,h=null)}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(u=d),n.push(u),l=Math.max(l,u));var T=[];for(m=0;m<=c;m++){var P=0;"right"===this._align?P=l-n[m]:"center"===this._align&&(P=(l-n[m])/2),T.push(P)}var w=r.length,E={},S=[],I=this._activePagesMeshData;for(m=0;m<I.length;m++)wu.push(I[m]);for(m=0;m<w;m++){var A,C,O=(N=r[m].texture).baseTexture.uid;E[O]||((j=wu.pop())||(A=new au,C=new ou(fr.EMPTY),j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new su(A,C),vertices:null,uvs:null,indices:null}),j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,(C=this._textureCache)[O]=C[O]||new fr(N.baseTexture),j.mesh.texture=C[O],j.mesh.tint=this._tint,S.push(j),E[O]=j),E[O].total++}for(m=0;m<I.length;m++)-1===S.indexOf(I[m])&&this.removeChild(I[m].mesh);for(m=0;m<S.length;m++)S[m].mesh.parent!==this&&this.addChild(S[m].mesh);for(m in this._activePagesMeshData=S,E){var L=(j=E[m]).total;if(!((null===(M=j.indices)||void 0===M?void 0:M.length)>6*L)||j.vertices.length<2*su.BATCHABLE_SIZE)j.vertices=new Float32Array(8*L),j.uvs=new Float32Array(8*L),j.indices=new Uint16Array(6*L);else for(var M=j.total,D=j.vertices,R=4*M*2;R<D.length;R++)D[R]=0;j.mesh.size=6*L}for(m=0;m<w;m++){var N,B=(x=r[m]).position.x+T[x.line],k=(B=this._roundPixels?Math.round(B):B)*e,F=x.position.y*e,G=E[(N=x.texture).baseTexture.uid],U=N.frame,X=N._uvs,B=G.index++;G.indices[6*B+0]=0+4*B,G.indices[6*B+1]=1+4*B,G.indices[6*B+2]=2+4*B,G.indices[6*B+3]=0+4*B,G.indices[6*B+4]=2+4*B,G.indices[6*B+5]=3+4*B,G.vertices[8*B+0]=k,G.vertices[8*B+1]=F,G.vertices[8*B+2]=k+U.width*e,G.vertices[8*B+3]=F,G.vertices[8*B+4]=k+U.width*e,G.vertices[8*B+5]=F+U.height*e,G.vertices[8*B+6]=k,G.vertices[8*B+7]=F+U.height*e,G.uvs[8*B+0]=X.x0,G.uvs[8*B+1]=X.y0,G.uvs[8*B+2]=X.x1,G.uvs[8*B+3]=X.y1,G.uvs[8*B+4]=X.x2,G.uvs[8*B+5]=X.y2,G.uvs[8*B+6]=X.x3,G.uvs[8*B+7]=X.y3}for(m in this._textWidth=l*e,this._textHeight=(i.y+t.lineHeight)*e,E){var j=E[m];if(0!==this.anchor.x||0!==this.anchor.y)for(var W=0,z=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y,q=0;q<j.total;q++)j.vertices[W++]-=z,j.vertices[W++]-=H,j.vertices[W++]-=z,j.vertices[W++]-=H,j.vertices[W++]-=z,j.vertices[W++]-=H,j.vertices[W++]-=z,j.vertices[W++]-=H;this._maxLineHeight=_*e;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),$=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,$.data=j.indices,Y.update(),V.update(),$.update()}for(m=0;m<r.length;m++)Eu.push(r[m])},Au.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},Au.prototype.getLocalBounds=function(){return this.validate(),bu.prototype.getLocalBounds.call(this)},Au.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(Au.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Pu.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Au.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Au.prototype._upgradeStyle=function(t){var e;"string"==typeof t.font?(e=t.font.split(" "),t.fontName=1===e.length?e[0]:e.slice(1).join(" "),2<=e.length&&(t.fontSize=parseInt(e[0],10))):(t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10))},Au.prototype.destroy=function(t){var e,i=this._textureCache;for(e in i)i[e].destroy(),delete i[e];this._textureCache=null,bu.prototype.destroy.call(this,t)},Au.registerFont=function(t,e){return $t("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Pu.install(t,e)},Object.defineProperty(Au,"fonts",{get:function(){return $t("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Pu.available},enumerable:!1,configurable:!0}),Au.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},Au),Wi=(Iu.add=function(){qo.setExtensionXhrType("fnt",qo.XHR_RESPONSE_TYPE.TEXT)},Iu.use=function(e,i){var t=vu(e.data);if(t)for(var r=Iu.getBaseUrl(this,e),n=t.parse(e.data),s={},o=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===n.page.length&&(e.bitmapFont=Pu.install(n,s,!0),i())},a=0;a<n.page.length;++a){var h,u,l=n.page[a].file,c=r+l,p=!1;for(h in this.resources){var d=this.resources[h];if(d.url===c){d.metadata.pageFile=l,d.texture?o(d):d.onAfterMiddleware.add(o),p=!0;break}}p||(u={crossOrigin:e.crossOrigin,loadType:qo.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e},this.add(c,u,o))}else i()},Iu.getBaseUrl=function(t,e){var i=e.isDataUrl?"":Iu.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},Iu.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},Iu),Su=function(t,e){return(Su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Iu(){}function Au(t,e){void 0===e&&(e={});var i=bu.call(this)||this;i._tint=16777215,e.font&&($t("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(e));var r=Object.assign({},Au.styleDefaults,e),n=r.align,s=r.tint,o=r.maxWidth,a=r.letterSpacing,e=r.fontName,r=r.fontSize;if(!Pu.available[e])throw new Error('Missing BitmapFont "'+e+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=n,i._tint=s,i._fontName=e,i._fontSize=r||Pu.available[e].size,i._text=t,i._maxWidth=o,i._maxLineHeight=0,i._letterSpacing=a,i._anchor=new me(function(){i.dirty=!0},i,0,0),i._roundPixels=O.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}function Cu(){this.constructor=Tu}function Ou(t,e,i){var r=t.info[0],n=t.common[0],s=se(t.page[0].file),o={};this._ownsTextures=i,this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/s,this.chars={},this.pageTextures=o;for(var a=0;a<t.page.length;a++){var h=t.page[a],u=h.id,h=h.file;o[u]=e instanceof Array?e[a]:e[h]}for(a=0;a<t.char.length;a++){var l=t.char[a],c=(u=l.id,l.page),p=t.char[a],d=p.x,f=p.y,_=p.width,m=p.height,g=p.xoffset,l=p.yoffset,p=p.xadvance;f/=s,_/=s,m/=s,g/=s,l/=s,p/=s;m=new le((d/=s)+o[c].frame.x/s,f+o[c].frame.y/s,_,m);this.chars[u]={xOffset:g,yOffset:l,xAdvance:p,kerning:{},texture:new fr(o[c].baseTexture,m),page:c}}for(a=0;a<t.kerning.length;a++){var y=t.kerning[a],v=y.first,x=y.second,y=y.amount;v/=s,x/=s,y/=s,this.chars[x]&&(this.chars[x].kerning[v]=y)}}var Lu,Mu,xo=(Su(Mu=Ru,xo=Lu=ts),Mu.prototype=null===xo?Object.create(xo):(Nu.prototype=xo.prototype,new Nu),Object.defineProperty(Ru.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),Ru),Du=function(t,e){return(Du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Ru(t){void 0===t&&(t=1);var e=Lu.call(this,Js,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}function Nu(){this.constructor=Mu}function Bu(t,e){function i(){this.constructor=t}Du(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var ku,Fu,Gu,Uu,Xu,ju,Wu,zu={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Hu=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(Wu=Wu=Wu||{})[Wu.WEBGL_LEGACY=0]="WEBGL_LEGACY",Wu[Wu.WEBGL=1]="WEBGL",Wu[Wu.WEBGL2=2]="WEBGL2",(ju=ju=ju||{})[ju.UNKNOWN=0]="UNKNOWN",ju[ju.WEBGL=1]="WEBGL",ju[ju.CANVAS=2]="CANVAS",(Xu=Xu=Xu||{})[Xu.COLOR=16384]="COLOR",Xu[Xu.DEPTH=256]="DEPTH",Xu[Xu.STENCIL=1024]="STENCIL",(Uu=Uu=Uu||{})[Uu.NORMAL=0]="NORMAL",Uu[Uu.ADD=1]="ADD",Uu[Uu.MULTIPLY=2]="MULTIPLY",Uu[Uu.SCREEN=3]="SCREEN",Uu[Uu.OVERLAY=4]="OVERLAY",Uu[Uu.DARKEN=5]="DARKEN",Uu[Uu.LIGHTEN=6]="LIGHTEN",Uu[Uu.COLOR_DODGE=7]="COLOR_DODGE",Uu[Uu.COLOR_BURN=8]="COLOR_BURN",Uu[Uu.HARD_LIGHT=9]="HARD_LIGHT",Uu[Uu.SOFT_LIGHT=10]="SOFT_LIGHT",Uu[Uu.DIFFERENCE=11]="DIFFERENCE",Uu[Uu.EXCLUSION=12]="EXCLUSION",Uu[Uu.HUE=13]="HUE",Uu[Uu.SATURATION=14]="SATURATION",Uu[Uu.COLOR=15]="COLOR",Uu[Uu.LUMINOSITY=16]="LUMINOSITY",Uu[Uu.NORMAL_NPM=17]="NORMAL_NPM",Uu[Uu.ADD_NPM=18]="ADD_NPM",Uu[Uu.SCREEN_NPM=19]="SCREEN_NPM",Uu[Uu.NONE=20]="NONE",Uu[Uu.SRC_OVER=0]="SRC_OVER",Uu[Uu.SRC_IN=21]="SRC_IN",Uu[Uu.SRC_OUT=22]="SRC_OUT",Uu[Uu.SRC_ATOP=23]="SRC_ATOP",Uu[Uu.DST_OVER=24]="DST_OVER",Uu[Uu.DST_IN=25]="DST_IN",Uu[Uu.DST_OUT=26]="DST_OUT",Uu[Uu.DST_ATOP=27]="DST_ATOP",Uu[Uu.ERASE=26]="ERASE",Uu[Uu.SUBTRACT=28]="SUBTRACT",Uu[Uu.XOR=29]="XOR",(Gu=Gu=Gu||{})[Gu.POINTS=0]="POINTS",Gu[Gu.LINES=1]="LINES",Gu[Gu.LINE_LOOP=2]="LINE_LOOP",Gu[Gu.LINE_STRIP=3]="LINE_STRIP",Gu[Gu.TRIANGLES=4]="TRIANGLES",Gu[Gu.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Gu[Gu.TRIANGLE_FAN=6]="TRIANGLE_FAN",(Fu=Fu=Fu||{})[Fu.RGBA=6408]="RGBA",Fu[Fu.RGB=6407]="RGB",Fu[Fu.ALPHA=6406]="ALPHA",Fu[Fu.LUMINANCE=6409]="LUMINANCE",Fu[Fu.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Fu[Fu.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Fu[Fu.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(Bl=Bl=Bl||{})[Bl.TEXTURE_2D=3553]="TEXTURE_2D",Bl[Bl.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Bl[Bl.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Bl[Bl.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Bl[Bl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Bl[Bl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Bl[Bl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Bl[Bl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Bl[Bl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(Bl=$u=$u||{})[Bl.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Bl[Bl.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Bl[Bl.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Bl[Bl.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Bl[Bl.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Bl[Bl.FLOAT=5126]="FLOAT",Bl[Bl.HALF_FLOAT=36193]="HALF_FLOAT",($u=Yl=Yl||{})[$u.NEAREST=0]="NEAREST",$u[$u.LINEAR=1]="LINEAR",(Bl=Nl=Nl||{})[Bl.CLAMP=33071]="CLAMP",Bl[Bl.REPEAT=10497]="REPEAT",Bl[Bl.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(Yl=kl=kl||{})[Yl.OFF=0]="OFF",Yl[Yl.POW2=1]="POW2",Yl[Yl.ON=2]="ON",($u=Rl=Rl||{})[$u.NPM=0]="NPM",$u[$u.UNPACK=1]="UNPACK",$u[$u.PMA=2]="PMA",$u[$u.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",$u[$u.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",$u[$u.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(Nl=ku=ku||{})[Nl.NO=0]="NO",Nl[Nl.YES=1]="YES",Nl[Nl.AUTO=2]="AUTO",Nl[Nl.BLEND=0]="BLEND",Nl[Nl.CLEAR=1]="CLEAR",Nl[Nl.BLIT=2]="BLIT",(Bl=el=el||{})[Bl.AUTO=0]="AUTO",Bl[Bl.MANUAL=1]="MANUAL",(kl=al=al||{}).LOW="lowp",kl.MEDIUM="mediump",kl.HIGH="highp",(Yl=dl=dl||{})[Yl.NONE=0]="NONE",Yl[Yl.SCISSOR=1]="SCISSOR",Yl[Yl.STENCIL=2]="STENCIL",Yl[Yl.SPRITE=3]="SPRITE",(Rl=vl=vl||{})[Rl.NONE=0]="NONE",Rl[Rl.LOW=2]="LOW",Rl[Rl.MEDIUM=4]="MEDIUM",Rl[Rl.HIGH=8]="HIGH";var qu,Yu,Vu=(Bu(Qu,Yu=ts),Qu.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),s=t.renderer,o=e,a=n;this.state.blend=!1,t.applyFilter(this,o,a,ku.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(o,ku.BLIT);var u=this.uniforms.uSampler=a,a=o,o=u;s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},Object.defineProperty(Qu.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(Qu.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),Qu),$u=(Bu(Ku,qu=ts),Ku.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);n&&s?(n=t.getFilterTexture(),this.blurXFilter.apply(t,e,n,ku.CLEAR),this.blurYFilter.apply(t,n,i,r),t.returnFilterTexture(n)):(s?this.blurYFilter:this.blurXFilter).apply(t,e,i,r)},Ku.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(Ku.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Ku.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ku.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Ku.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Ku.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ku.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),Ku),Zu=function(t,e){return(Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Ku(t,e,i,r){void 0===t&&(t=8),void 0===e&&(e=4),void 0===i&&(i=O.FILTER_RESOLUTION),void 0===r&&(r=5);var n=qu.call(this)||this;return n.blurXFilter=new Vu(!0,t,e,i,r),n.blurYFilter=new Vu(!1,t,e,i,r),n.resolution=i,n.quality=e,n.blur=t,n.repeatEdgePixels=!1,n}function Qu(t,e,i,r,n){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=O.FILTER_RESOLUTION);var s=this,o=function(t,e){for(var i=Math.ceil(t/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",n="",s=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",o=0;o<t;o++)n+=s.replace("%index%",o.toString()).replace("%sampleIndex%",o-(i-1)+".0"),n+="\n";return(r=r.replace("%blur%",n)).replace("%size%",t.toString())}(n=void 0===n?5:n,t),n=function(t){for(var e=zu[t],i=e.length,r=Hu,n="",s=0;s<t;s++){var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString()),a=i<=s?t-s-1:s;n+=o=o.replace("%value%",e[a].toString()),n+="\n"}return(r=r.replace("%blur%",n)).replace("%size%",t.toString())}(n);return(s=Yu.call(this,o,n)||this).horizontal=t,s.resolution=r,s._quality=0,s.quality=i,s.blur=e,s}var Ju,tl,el=(Zu(tl=il,Nl=Ju=ts),tl.prototype=null===Nl?Object.create(Nl):(rl.prototype=Nl.prototype,new rl),il.prototype._loadMatrix=function(t,e){var i=t;(e=void 0===e?!1:e)&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},il.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},il.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},il.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},il.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},il.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},il.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),t=(0,Math.sqrt)(1/3);this._loadMatrix([i+1/3*(1-i),1/3*(1-i)-t*r,1/3*(1-i)+t*r,0,0,1/3*(1-i)+t*r,i+1/3*(1-i),1/3*(1-i)-t*r,0,0,1/3*(1-i)-t*r,1/3*(1-i)+t*r,i+1/3*(1-i),0,0,0,0,0,1,0],e)},il.prototype.contrast=function(t,e){var i=(t||0)+1,t=-.5*(i-1);this._loadMatrix([i,0,0,0,t,0,i,0,0,t,0,0,i,0,t,0,0,0,1,0],e)},il.prototype.saturate=function(t,e){var i=2*(t=void 0===t?0:t)/3+1,t=-.5*(i-1);this._loadMatrix([i,t,t,0,0,t,i,t,0,0,t,t,i,0,0,0,0,0,1,0],e)},il.prototype.desaturate=function(){this.saturate(-1)},il.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},il.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},il.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},il.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},il.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},il.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},il.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},il.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},il.prototype.colorTone=function(t,e,i,r,n){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,i=(r>>8&255)/255,r=(255&r)/255,r=[.3,.59,.11,0,0,s,o,a,t=t||.2,0,h,i,r,e=e||.15,0,s-h,o-i,a-r,0,0];this._loadMatrix(r,n)},il.prototype.night=function(t,e){t=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(t,e)},il.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},il.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},il.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(il.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(il.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),il);function il(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=Ju.call(this,to,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}function rl(){this.constructor=tl}el.prototype.grayscale=el.prototype.greyscale;var nl,sl,ol=function(t,e){return(ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},al=(ol(sl=ul,Bl=nl=ts),sl.prototype=null===Bl?Object.create(Bl):(ll.prototype=Bl.prototype,new ll),ul.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),t.applyFilter(this,e,i,r)},Object.defineProperty(ul.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),ul),hl=function(t,e){return(hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function ul(t,e){var i=this,r=new ge;return t.renderable=!1,(i=nl.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,i.maskMatrix=r,i.scale=new _e(e=null==e?20:e,e),i}function ll(){this.constructor=sl}var cl,pl,dl=(hl(pl=_l,kl=cl=ts),pl.prototype=null===kl?Object.create(kl):(ml.prototype=kl.prototype,new ml),_l),fl=function(t,e){return(fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function _l(){return cl.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}function ml(){this.constructor=pl}var gl,yl,vl=(fl(yl=bl,Yl=gl=ts),yl.prototype=null===Yl?Object.create(Yl):(Tl.prototype=Yl.prototype,new Tl),Object.defineProperty(bl.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(bl.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),bl),xl=new ge;function bl(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var i=gl.call(this,to,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=e,i}function Tl(){this.constructor=yl}je.prototype._cacheAsBitmap=!1,je.prototype._cacheData=null;var Pl=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(je.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new Pl),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),je.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},je.prototype._initCachedDisplayObject=function(t){var e,i,r,n,s,o,a,h;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),i=this.getLocalBounds(null,!0).clone(),this.filters&&(a=this.filters[0].padding,i.pad(a)),i.ceil(O.RESOLUTION),r=t.renderTexture.current,n=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,h=Pr.create({width:i.width,height:i.height}),a="cacheAsBitmap_"+ ++qt,this._cacheData.textureCacheId=a,Fi.addToCache(h.baseTexture,a),fr.addToCache(h,a),a=this.transform.localTransform.copyTo(xl).invert().translate(-i.x,-i.y),this.render=this._cacheData.originalRender,t.render(this,h,!0,a,!1),t.projection.transform=o,t.renderTexture.bind(r,n,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(h=new Ja(h)).transform.worldTransform=this.transform.worldTransform,h.anchor.x=-i.x/i.width,h.anchor.y=-i.y/i.height,h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h))},je.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},je.prototype._initCachedDisplayObjectCanvas=function(t){var e,i,r,n,s,o;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),i=this.alpha,this.alpha=1,r=t.context,n=t._projTransform,e.ceil(O.RESOLUTION),o=Pr.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+ ++qt,this._cacheData.textureCacheId=s,Fi.addToCache(o.baseTexture,s),fr.addToCache(o,s),this.transform.localTransform.copyTo(s=xl),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,s,!1),t.context=r,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(o=new Ja(o)).transform.worldTransform=this.transform.worldTransform,o.anchor.x=-e.x/e.width,o.anchor.y=-e.y/e.height,o.alpha=i,o._bounds=this._bounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o))},je.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},je.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},je.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Fi.removeFromCache(this._cacheData.textureCacheId),fr.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},je.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},je.prototype.name=null,Ve.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var n=this.children[i].getChildByName(t,!0);if(n)return n}return null},je.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new _e),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var wl=function(t,e){return(wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function El(t,e){function i(){this.constructor=t}wl(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Sl,Il,Al,Cl,Ol,Ll,Ml=(El(zl,Ll=au),zl.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*o,l*a),i.push(u/n,l/s)}for(var c=n*s,h=0;h<c;h++){var p=h%n,d=h/n|0,f=d*this.segWidth+p,_=d*this.segWidth+p+1,m=(1+d)*this.segWidth+p,p=(1+d)*this.segWidth+p+1;r.push(f,_,m,_,p,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},zl),Dl=(El(Wl,Ol=au),Object.defineProperty(Wl.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Wl.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,s=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var o=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c,p,d=4*l;0<this.textureScale?(c=a.x-t[l].x,p=a.y-t[l].y,p=Math.sqrt(c*c+p*p),a=t[l],o+=p/h):o=l/(u-1),n[d]=o,n[d+1]=0,n[d+2]=o,n[d+3]=1}for(var f=0,l=0;l<u-1;l++)s[f++]=d=2*l,s[f++]=d+1,s[f++]=d+2,s[f++]=d+2,s[f++]=d+1,s[f++]=d+3;i.update(),r.update(),this.updateVertices()}}},Wl.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],i=this.buffers[0].data,r=t.length,n=0;n<r;n++){var s=t[n],o=4*n,a=-((l=n<t.length-1?t[n+1]:s).x-e.x),h=l.y-e.y,u=Math.sqrt(h*h+a*a),l=0<this.textureScale?this.textureScale*this._width/2:this._width/2;h/=u,a/=u,h*=l,a*=l,i[o]=s.x+h,i[1+o]=s.y+a,i[2+o]=s.x-h,i[3+o]=s.y-a,e=s}this.buffers[0].update()}},Wl.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},Wl),Rl=(El(jl,Cl=su),jl.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),Cl.prototype._render.call(this,t)},jl),Nl=(El(Xl,Al=su),Xl.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(Xl.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),Xl.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),Al.prototype._render.call(this,t)},Xl.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),Al.prototype.destroy.call(this,t)},Xl),Bl=(El(Ul,Il=su),Object.defineProperty(Ul.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),Ul.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),Il.prototype._render.call(this,t)},Ul),kl=(El(Gl,Sl=Nl),Gl.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(Gl.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),Gl.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},Gl.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},Gl.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(Gl.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gl.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gl.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gl.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gl.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gl.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Gl.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,t=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=t*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-t*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Gl),Fl=function(t,e){return(Fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Gl(t,e,i,r,n){void 0===e&&(e=10),void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10);var s=Sl.call(this,fr.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=e,s._rightWidth=r,s._topHeight=i,s._bottomHeight=n,s.texture=t,s}function Ul(t,e,i,r,n){void 0===t&&(t=fr.EMPTY);var s=this,r=new au(e,i,r);r.getBuffer("aVertexPosition").static=!1;t=new ou(t);return(s=Il.call(this,r,t,null,n)||this).autoUpdate=!0,s}function Xl(t,e,i){var r=this,e=new Ml(t.width,t.height,e,i),i=new ou(fr.WHITE);return(r=Al.call(this,e,i)||this).texture=t,r}function jl(t,e,i){var r=this,n=new Dl(t.height,e,i=void 0===i?0:i),e=new ou(t);return 0<i&&(t.baseTexture.wrapMode=W.WRAP_MODES.REPEAT),(r=Cl.call(this,n,e)||this).autoUpdate=!0,r}function Wl(t,e,i){void 0===t&&(t=200),void 0===i&&(i=0);var r=Ol.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return r.points=e,r._width=t,r.textureScale=i,r.build(),r}function zl(t,e,i,r){void 0===t&&(t=100),void 0===e&&(e=100),void 0===i&&(i=10),void 0===r&&(r=10);var n=Ll.call(this)||this;return n.segWidth=i,n.segHeight=r,n.width=t,n.height=e,n.build(),n}var Hl,ql,Yl,Yl=(Fl(ql=$l,Yl=Hl=Ja),ql.prototype=null===Yl?Object.create(Yl):(Zl.prototype=Yl.prototype,new Zl),$l.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1))},$l.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Je.shared.add(this.update,this,W.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},$l.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},$l.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},$l.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},$l.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},$l.prototype.destroy=function(t){this.stop(),Hl.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},$l.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(fr.from(t[i]));return new $l(e)},$l.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(fr.from(t[i]));return new $l(e)},Object.defineProperty($l.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty($l.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof fr)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty($l.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty($l.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty($l.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Je.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Je.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),$l),Vl=function(t,e){return(Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function $l(t,e){void 0===e&&(e=!0);var i=Hl.call(this,t[0]instanceof fr?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=e,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}function Zl(){this.constructor=ql}function Kl(t,e){function i(){this.constructor=t}Vl(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Ql="5.0.0";zs.registerPlugin("accessibility",i),zs.registerPlugin("extract",Po),zs.registerPlugin("interaction",D),zs.registerPlugin("particle",Xi),zs.registerPlugin("prepare",Hi),zs.registerPlugin("batch",lo),zs.registerPlugin("tilingSprite",Vh),Vo.registerPlugin(Wi),Vo.registerPlugin(L),co.registerPlugin(n),co.registerPlugin(ft);var xo={AlphaFilter:xo,BlurFilter:$u,BlurFilterPass:Vu,ColorMatrixFilter:el,DisplacementFilter:al,FXAAFilter:dl,NoiseFilter:vl},Jl=function(t,e){return(Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},tc=(ec.prototype.pushMask=function(t){var e=this.renderer,t=t.maskObject||t;e.context.save();var i=this._foundShapes;if(this.recursiveFindShapes(t,i),0<i.length){e=e.context;e.beginPath();for(var r=0;r<i.length;r++){var n=i[r],s=n.transform.worldTransform;this.renderer.setContextTransform(s),this.renderGraphicsShape(n)}i.length=0,e.clip()}},ec.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},ec.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var n=0;n<r;n++){var s,o,a,h,u,l,c,p,d=i[n].shape;if(d.type===W.SHAPES.POLY){var f=d.points;e.moveTo(f[0],f[1]);for(var _=1;_<f.length/2;_++)e.lineTo(f[2*_],f[2*_+1]);f[0]===f[f.length-2]&&f[1]===f[f.length-1]&&e.closePath()}else d.type===W.SHAPES.RECT?(e.rect(d.x,d.y,d.width,d.height),e.closePath()):d.type===W.SHAPES.CIRC?(e.arc(d.x,d.y,d.radius,0,2*Math.PI),e.closePath()):d.type===W.SHAPES.ELIP?(h=(a=2*d.width)/2*.5522848,l=(p=2*d.height)/2*.5522848,o=(c=d.x-a/2)+a,u=(s=d.y-p/2)+p,a=c+a/2,e.moveTo(c,p=s+p/2),e.bezierCurveTo(c,p-l,a-h,s,a,s),e.bezierCurveTo(a+h,s,o,p-l,o,p),e.bezierCurveTo(o,p+l,a+h,u,a,u),e.bezierCurveTo(a-h,u,c,p+l,c,p),e.closePath()):d.type===W.SHAPES.RREC&&(h=d.x,u=d.y,l=d.width,c=d.height,p=d.radius,d=Math.min(l,c)/2|0,e.moveTo(h,u+(p=d<p?d:p)),e.lineTo(h,u+c-p),e.quadraticCurveTo(h,u+c,h+p,u+c),e.lineTo(h+l-p,u+c),e.quadraticCurveTo(h+l,u+c,h+l,u+c-p),e.lineTo(h+l,u+p),e.quadraticCurveTo(h+l,u,h+l-p,u),e.lineTo(h+p,u),e.quadraticCurveTo(h,u,h,u+p),e.closePath())}},ec.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},ec.prototype.destroy=function(){},ec);function ec(t){this.renderer=t,this._foundShapes=[]}function ic(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}function rc(){if("undefined"==typeof document)return!1;var t=ic("#ff00ff"),e=ic("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;i=i.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);i=i.getImageData(2,0,1,1);if(!i)return!1;i=i.data;return 255===i[0]&&0===i[1]&&0===i[2]}var nc,sc,oc=new ge,ac=(Jl(sc=uc,$u=nc=Ws),sc.prototype=null===$u?Object.create($u):(lc.prototype=$u.prototype,new lc),uc.prototype.render=function(t,e,i,r,n){var s,o;this.view&&(this.renderingToScreen=!e,this.emit("prerender"),s=this.resolution,e?((e=e.castToBaseTexture())._canvasRenderTarget||(e._canvasRenderTarget=new Jt(e.width,e.height,e.resolution),e.resource=new ar.CanvasResource(e._canvasRenderTarget.canvas),e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext,o=this.context,this._projTransform=r||null,e||(this._lastObjectRendered=t),n||(n=t.enableTempParent(),t.updateTransform(),t.disableTempParent(n)),o.save(),o.setTransform(1,0,0,1,0,0),o.globalAlpha=1,this._activeBlendMode=W.BLEND_MODES.NORMAL,this._outerBlend=!1,o.globalCompositeOperation=this.blendModes[W.BLEND_MODES.NORMAL],(void 0!==i?i:this.clearBeforeRender)&&(this.renderingToScreen?this.transparent?o.clearRect(0,0,this.width,this.height):(o.fillStyle=this._backgroundColorString,o.fillRect(0,0,this.width,this.height)):(e._canvasRenderTarget.clear(),0<(i=e.clearColor)[3]&&(o.fillStyle=Ot(Mt(i)),o.fillRect(0,0,e.realWidth,e.realHeight)))),e=this.context,this.context=o,t.renderCanvas(this),this.context=e,o.restore(),this.resolution=s,this._projTransform=null,this.emit("postrender"))},uc.prototype.setContextTransform=function(t,e,i){var r=t,n=this._projTransform,s=this.resolution;i=i||s,n&&((r=oc).copyFrom(t),r.prepend(n)),e?this.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*s|0,r.ty*s|0):this.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*s,r.ty*s)},uc.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},uc.prototype.setBlendMode=function(t,e){var i=t===W.BLEND_MODES.SRC_IN||t===W.BLEND_MODES.SRC_OUT||t===W.BLEND_MODES.DST_IN||t===W.BLEND_MODES.DST_ATOP;!e&&i&&(t=W.BLEND_MODES.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=i,this.context.globalCompositeOperation=this.blendModes[t])},uc.prototype.destroy=function(t){nc.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},uc.prototype.resize=function(t,e){nc.prototype.resize.call(this,t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=O.SCALE_MODE===W.SCALE_MODES.LINEAR)},uc.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},uc.registerPlugin=function(t,e){(uc.__plugins=uc.__plugins||{})[t]=e},uc),hc={canvas:null,getTintedCanvas:function(t,e){var i=t.texture,r="#"+("00000"+(0|(e=hc.roundColor(e))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var n,t=i.tintCache[r];if(t){if(t.tintId===i._updateID)return i.tintCache[r];n=i.tintCache[r]}else n=document.createElement("canvas");return hc.tintMethod(i,e,n),n.tintId=i._updateID,hc.convertTintToImage?((e=new Image).src=n.toDataURL(),i.tintCache[r]=e):i.tintCache[r]=n,n},getTintedPattern:function(t,e){var i="#"+("00000"+(0|(e=hc.roundColor(e))).toString(16)).substr(-6);t.patternCache=t.patternCache||{};var r=t.patternCache[i];return r&&r.tintId===t._updateID||(hc.canvas||(hc.canvas=document.createElement("canvas")),hc.tintMethod(t,e,hc.canvas),(r=hc.canvas.getContext("2d").createPattern(hc.canvas,"repeat")).tintId=t._updateID,t.patternCache[i]=r),r},tintWithMultiply:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),s=t.baseTexture.resolution;n.x*=s,n.y*=s,n.width*=s,n.height*=s,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="multiply";t=t.baseTexture.getDrawableSource();r.drawImage(t,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithOverlay:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),s=t.baseTexture.resolution;n.x*=s,n.y*=s,n.width*=s,n.height*=s,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.getDrawableSource(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithPerPixel:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),s=t.baseTexture.resolution;n.x*=s,n.y*=s,n.width*=s,n.height*=s,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.getDrawableSource(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore();for(var e=Ct(e),o=e[0],a=e[1],h=e[2],n=r.getImageData(0,0,n.width,n.height),u=n.data,l=0;l<u.length;l+=4)u[l+0]*=o,u[l+1]*=a,u[l+2]*=h;r.putImageData(n,0,0)},roundColor:function(t){var e=hc.cacheStepsPerColorChannel,t=Ct(t);return t[0]=Math.min(255,t[0]/e*e),t[1]=Math.min(255,t[1]/e*e),t[2]=Math.min(255,t[2]/e*e),Mt(t)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:rc(),tintMethod:null};function uc(t){var e,i=nc.call(this,W.RENDERER_TYPE.CANVAS,t)||this;return i.rootContext=i.view.getContext("2d",{alpha:i.transparent}),i.context=i.rootContext,i.refresh=!0,i.maskManager=new tc(i),i.smoothProperty="imageSmoothingEnabled",i.rootContext.imageSmoothingEnabled||((t=i.rootContext).webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":t.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":t.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":t.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")),i.initPlugins(uc.__plugins),i.blendModes=(void 0===e&&(e=[]),rc()?(e[W.BLEND_MODES.NORMAL]="source-over",e[W.BLEND_MODES.ADD]="lighter",e[W.BLEND_MODES.MULTIPLY]="multiply",e[W.BLEND_MODES.SCREEN]="screen",e[W.BLEND_MODES.OVERLAY]="overlay",e[W.BLEND_MODES.DARKEN]="darken",e[W.BLEND_MODES.LIGHTEN]="lighten",e[W.BLEND_MODES.COLOR_DODGE]="color-dodge",e[W.BLEND_MODES.COLOR_BURN]="color-burn",e[W.BLEND_MODES.HARD_LIGHT]="hard-light",e[W.BLEND_MODES.SOFT_LIGHT]="soft-light",e[W.BLEND_MODES.DIFFERENCE]="difference",e[W.BLEND_MODES.EXCLUSION]="exclusion",e[W.BLEND_MODES.HUE]="hue",e[W.BLEND_MODES.SATURATION]="saturate",e[W.BLEND_MODES.COLOR]="color",e[W.BLEND_MODES.LUMINOSITY]="luminosity"):(e[W.BLEND_MODES.NORMAL]="source-over",e[W.BLEND_MODES.ADD]="lighter",e[W.BLEND_MODES.MULTIPLY]="source-over",e[W.BLEND_MODES.SCREEN]="source-over",e[W.BLEND_MODES.OVERLAY]="source-over",e[W.BLEND_MODES.DARKEN]="source-over",e[W.BLEND_MODES.LIGHTEN]="source-over",e[W.BLEND_MODES.COLOR_DODGE]="source-over",e[W.BLEND_MODES.COLOR_BURN]="source-over",e[W.BLEND_MODES.HARD_LIGHT]="source-over",e[W.BLEND_MODES.SOFT_LIGHT]="source-over",e[W.BLEND_MODES.DIFFERENCE]="source-over",e[W.BLEND_MODES.EXCLUSION]="source-over",e[W.BLEND_MODES.HUE]="source-over",e[W.BLEND_MODES.SATURATION]="source-over",e[W.BLEND_MODES.COLOR]="source-over",e[W.BLEND_MODES.LUMINOSITY]="source-over"),e[W.BLEND_MODES.NORMAL_NPM]=e[W.BLEND_MODES.NORMAL],e[W.BLEND_MODES.ADD_NPM]=e[W.BLEND_MODES.ADD],e[W.BLEND_MODES.SCREEN_NPM]=e[W.BLEND_MODES.SCREEN],e[W.BLEND_MODES.SRC_IN]="source-in",e[W.BLEND_MODES.SRC_OUT]="source-out",e[W.BLEND_MODES.SRC_ATOP]="source-atop",e[W.BLEND_MODES.DST_OVER]="destination-over",e[W.BLEND_MODES.DST_IN]="destination-in",e[W.BLEND_MODES.DST_OUT]="destination-out",e[W.BLEND_MODES.DST_ATOP]="destination-atop",e[W.BLEND_MODES.XOR]="xor",e[W.BLEND_MODES.SUBTRACT]="source-over",e),i._activeBlendMode=null,i._outerBlend=!1,i._projTransform=null,i.renderingToScreen=!1,It("Canvas"),i.resize(i.options.width,i.options.height),i}function lc(){this.constructor=sc}hc.tintMethod=hc.canUseMultiply?hc.tintWithMultiply:hc.tintWithPerPixel;var cc=zs.create;zs.create=function(t){if(!t||!t.forceCanvas)try{return cc(t)}catch(t){}return new ac(t)},Fi.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},cr.prototype._canvasRenderTarget=null,fr.prototype.patternCache=null,fr.prototype.tintCache=null;pc.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==W.DRAW_MODES.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},pc.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,2+r,4+r)}},pc.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3){var n=2*e[r],s=2*e[r+1],o=2*e[r+2];this._renderDrawTriangle(t,n,s,o)}},pc.prototype._renderDrawTriangle=function(t,e,i,r){var n,s,o,a,h,u,l,c,p,d,f,_,m,g,y,v,x=this.renderer.context,b=t.geometry.buffers[0].data,T=t.uvs,P=t.texture;P.valid&&(_=16777215!==t.tint,s=(n=P.baseTexture).width,o=n.height,_&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._tintedCanvas=hc.getTintedCanvas(t,t.tint)),a=_?t._tintedCanvas:n.getDrawableSource(),h=T[e]*n.width,u=T[i]*n.width,l=T[r]*n.width,c=T[e+1]*n.height,p=T[i+1]*n.height,d=T[r+1]*n.height,m=b[e],y=b[i],f=b[r],g=b[e+1],P=b[i+1],_=b[r+1],0<(T=t.canvasPadding/this.renderer.resolution)&&(e=T/Math.abs(t.worldTransform.a),v=T/Math.abs(t.worldTransform.d),b=g-(i=(g+P+_)/3),m=(r=(m+y+f)/3)+(T=m-r)/(t=Math.sqrt(T*T+b*b))*(t+e),g=i+b/t*(t+v),b=P-i,y=r+(T=y-r)/(t=Math.sqrt(T*T+b*b))*(t+e),P=i+b/t*(t+v),b=_-i,f=r+(T=f-r)/(t=Math.sqrt(T*T+b*b))*(t+e),_=i+b/t*(t+v)),x.save(),x.beginPath(),x.moveTo(m,g),x.lineTo(y,P),x.lineTo(f,_),x.closePath(),x.clip(),x.transform((m*p+c*f+y*d-p*f-c*y-m*d)/(v=h*p+c*l+u*d-p*l-c*u-h*d),(g*p+c*_+P*d-p*_-c*P-g*d)/v,(h*y+m*l+u*f-y*l-m*u-h*f)/v,(h*P+g*l+u*_-P*l-g*u-h*_)/v,(h*p*f+c*y*l+m*u*d-m*p*l-c*u*f-h*y*d)/v,(h*p*_+c*P*l+g*u*d-g*p*l-c*u*_-h*P*d)/v),x.drawImage(a,0,0,s*n.resolution,o*n.resolution,0,0,s,o),x.restore(),this.renderer.invalidateBlendMode())},pc.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var n=1;n<r-2;++n){var s=2*n,o=i[s],a=i[1+s],h=i[2+s],u=i[3+s],l=i[4+s],s=i[5+s];e.moveTo(o,a),e.lineTo(h,u),e.lineTo(l,s)}e.fillStyle="#FF0000",e.fill(),e.closePath()},pc.prototype.destroy=function(){this.renderer=null},el=pc;function pc(t){this.renderer=t}O.MESH_CANVAS_PADDING=0,ou.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},kl.prototype._cachedTint=16777215,kl.prototype._tintedCanvas=null,kl.prototype._canvasUvs=null;var dc=!(kl.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,n=this.texture;if(n.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=hc.getTintedCanvas(this,this.tint));var s=r?this._tintedCanvas:n.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var o=this.vertices,a=this._canvasUvs,h=r?0:n.frame.x,u=r?0:n.frame.y,l=h+n.frame.width,r=u+n.frame.height;a[0]=h,a[1]=h+this._leftWidth,a[2]=l-this._rightWidth,a[3]=l,a[4]=u,a[5]=u+this._topHeight,a[6]=r-this._bottomHeight,a[7]=r;for(var c=0;c<8;c++)a[c]*=n.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var p=0;p<3;p++)for(var d=0;d<3;d++){var f=2*d+8*p,_=Math.max(1,a[d+1]-a[d]),m=Math.max(1,a[p+5]-a[p+4]),g=Math.max(1,o[10+f]-o[f]),y=Math.max(1,o[11+f]-o[1+f]);e.drawImage(s,a[d],a[p+4],_,m,o[f],o[1+f],g,y)}}});su.prototype._cachedTint=16777215,su.prototype._tintedCanvas=null,su.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):dc||(dc=!0,window.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},su.prototype._canvasPadding=null,Object.defineProperty(su.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:O.MESH_CANVAS_PADDING},set:function(t){this._canvasPadding=t}}),Bl.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},Rl.prototype._renderCanvas=function(t){!this.autoUpdate&&this.geometry._width===this.shader.texture.height||(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var fc,al=(mc.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==fr.WHITE.baseTexture?t.texture.valid?(i=hc.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||ge.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},mc.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,n=t.transform.worldTransform;e.setContextTransform(n),e.setBlendMode(t.blendMode);for(var s=t.geometry.graphicsData,o=(t.tint>>16&255)/255,a=(t.tint>>8&255)/255,h=(255&t.tint)/255,u=0;u<s.length;u++){var l,c,p,d,f,_,m,g,y,v=s[u],x=v.shape,b=v.fillStyle,T=v.lineStyle,P=0|v.fillStyle.color,w=0|v.lineStyle.color;if(v.matrix&&e.setContextTransform(n.copyTo(this._tempMatrix).append(v.matrix)),b.visible&&(l=this._calcCanvasStyle(b,((P>>16&255)/255*o*255<<16)+((P>>8&255)/255*a*255<<8)+(255&P)/255*h*255)),T.visible&&(c=this._calcCanvasStyle(T,((w>>16&255)/255*o*255<<16)+((w>>8&255)/255*a*255<<8)+(255&w)/255*h*255)),i.lineWidth=T.width,i.lineCap=T.cap,i.lineJoin=T.join,i.miterLimit=T.miterLimit,v.type===W.SHAPES.POLY){i.beginPath();var E=(p=x).points,S=v.holes,I=void 0,A=void 0,C=void 0,O=void 0;i.moveTo(E[0],E[1]);for(var L=2;L<E.length;L+=2)i.lineTo(E[L],E[L+1]);if(p.closeStroke&&i.closePath(),0<S.length){for(C=E[I=0],O=E[1],L=2;L+2<E.length;L+=2)I+=(E[L]-C)*(E[L+3]-O)-(E[L+2]-C)*(E[L+1]-O);for(var M=0;M<S.length;M++)if(E=S[M].shape.points){for(C=E[A=0],O=E[1],L=2;L+2<E.length;L+=2)A+=(E[L]-C)*(E[L+3]-O)-(E[L+2]-C)*(E[L+1]-O);if(A*I<0)for(i.moveTo(E[0],E[1]),L=2;L<E.length;L+=2)i.lineTo(E[L],E[L+1]);else for(i.moveTo(E[E.length-2],E[E.length-1]),L=E.length-4;0<=L;L-=2)i.lineTo(E[L],E[L+1]);S[M].shape.closeStroke&&i.closePath()}}b.visible&&(i.globalAlpha=b.alpha*r,i.fillStyle=l,i.fill()),T.visible&&(i.globalAlpha=T.alpha*r,i.strokeStyle=c,i.stroke())}else v.type===W.SHAPES.RECT?(p=x,b.visible&&(i.globalAlpha=b.alpha*r,i.fillStyle=l,i.fillRect(p.x,p.y,p.width,p.height)),T.visible&&(i.globalAlpha=T.alpha*r,i.strokeStyle=c,i.strokeRect(p.x,p.y,p.width,p.height))):v.type===W.SHAPES.CIRC?(p=x,i.beginPath(),i.arc(p.x,p.y,p.radius,0,2*Math.PI),i.closePath(),b.visible&&(i.globalAlpha=b.alpha*r,i.fillStyle=l,i.fill()),T.visible&&(i.globalAlpha=T.alpha*r,i.strokeStyle=c,i.stroke())):v.type===W.SHAPES.ELIP?(f=2*(p=x).width,y=2*p.height,g=p.x-f/2,d=p.y-y/2,i.beginPath(),P=f/2*.5522848,m=y/2*.5522848,w=g+f,_=d+y,f=g+f/2,i.moveTo(g,y=d+y/2),i.bezierCurveTo(g,y-m,f-P,d,f,d),i.bezierCurveTo(f+P,d,w,y-m,w,y),i.bezierCurveTo(w,y+m,f+P,_,f,_),i.bezierCurveTo(f-P,_,g,y+m,g,y),i.closePath(),b.visible&&(i.globalAlpha=b.alpha*r,i.fillStyle=l,i.fill()),T.visible&&(i.globalAlpha=T.alpha*r,i.strokeStyle=c,i.stroke())):v.type===W.SHAPES.RREC&&(_=(p=x).x,m=p.y,g=p.width,y=p.height,v=p.radius,v=(x=Math.min(g,y)/2|0)<v?x:v,i.beginPath(),i.moveTo(_,m+v),i.lineTo(_,m+y-v),i.quadraticCurveTo(_,m+y,_+v,m+y),i.lineTo(_+g-v,m+y),i.quadraticCurveTo(_+g,m+y,_+g,m+y-v),i.lineTo(_+g,m+v),i.quadraticCurveTo(_+g,m,_+g-v,m),i.lineTo(_+v,m),i.quadraticCurveTo(_,m,_,m+v),i.closePath(),b.visible&&(i.globalAlpha=b.alpha*r,i.fillStyle=l,i.fill()),T.visible&&(i.globalAlpha=T.alpha*r,i.strokeStyle=c,i.stroke()))}},mc.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},mc.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},mc),_c=new ge;function mc(t){this.renderer=t,this._svgMatrix=null,this._tempMatrix=new ge}Fa.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=Pr.create({width:i.width,height:i.height,scaleMode:t,resolution:e});fc=fc||new ac,this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(_c),_c.invert(),_c.tx-=i.x,_c.ty-=i.y,fc.render(this,r,!0,_c);t=fr.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return t.baseTexture.setResolution(e),t},Fa.prototype.cachedGraphicsData=[],Fa.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var gc=new ge,dl=(yc.prototype.render=function(t){var e,i=t._texture,r=this.renderer,n=r.context,s=i._frame.width,o=i._frame.height,a=t.transform.worldTransform,h=0,u=0,l=i.baseTexture.getDrawableSource();!(i.orig.width<=0||i.orig.height<=0)&&i.valid&&l&&i.valid&&(r.setBlendMode(t.blendMode,!0),r.context.globalAlpha=t.worldAlpha,e=i.baseTexture.scaleMode===W.SCALE_MODES.LINEAR,r.smoothProperty&&r.context[r.smoothProperty]!==e&&(n[r.smoothProperty]=e),u=i.trim?(h=i.trim.width/2+i.trim.x-t.anchor.x*i.orig.width,i.trim.height/2+i.trim.y-t.anchor.y*i.orig.height):(h=(.5-t.anchor.x)*i.orig.width,(.5-t.anchor.y)*i.orig.height),i.rotate&&(a.copyTo(gc),De.matrixAppendRotationInv(a=gc,i.rotate,h,u),u=h=0),h-=s/2,u-=o/2,r.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(h|=0,u|=0),e=i.baseTexture.resolution,(a=r._outerBlend)&&(n.save(),n.beginPath(),n.rect(h*r.resolution,u*r.resolution,s*r.resolution,o*r.resolution),n.clip()),16777215!==t.tint?(t._cachedTint===t.tint&&t._tintedCanvas.tintId===t._texture._updateID||(t._cachedTint=t.tint,t._tintedCanvas=hc.getTintedCanvas(t,t.tint)),n.drawImage(t._tintedCanvas,0,0,Math.floor(s*e),Math.floor(o*e),Math.floor(h*r.resolution),Math.floor(u*r.resolution),Math.floor(s*r.resolution),Math.floor(o*r.resolution))):n.drawImage(l,i._frame.x*e,i._frame.y*e,Math.floor(s*e),Math.floor(o*e),Math.floor(h*r.resolution),Math.floor(u*r.resolution),Math.floor(s*r.resolution),Math.floor(o*r.resolution)),a&&n.restore(),r.setBlendMode(W.BLEND_MODES.NORMAL))},yc.prototype.destroy=function(){this.renderer=null},yc);function yc(t){this.renderer=t}Ja.prototype._tintedCanvas=null,Ja.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var vc=new le,vl=(xc.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},xc.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},xc.prototype.canvas=function(t){var e,i,r,n=this.renderer;(s=t?t instanceof Pr?t:n.generateTexture(t):s)?(e=s.baseTexture._canvasRenderTarget.context,i=s.baseTexture._canvasRenderTarget.resolution,r=s.frame):(e=n.rootContext,i=n.resolution,(r=vc).width=this.renderer.width,r.height=this.renderer.height);var t=Math.floor(r.width*i+1e-4),s=Math.floor(r.height*i+1e-4),n=new Jt(t,s,1),s=e.getImageData(r.x*i,r.y*i,t,s);return n.context.putImageData(s,0,0),n.canvas},xc.prototype.pixels=function(t){var e,i,r,n,s=this.renderer;return(n=t?t instanceof Pr?t:s.generateTexture(t):n)?(e=n.baseTexture._canvasRenderTarget.context,i=n.baseTexture._canvasRenderTarget.resolution,r=n.frame):(e=s.rootContext,(r=vc).width=s.width,r.height=s.height),e.getImageData(0,0,r.width*i,r.height*i).data},xc.prototype.destroy=function(){this.renderer=null},xc);function xc(t){this.renderer=t}Object.defineProperty(ac.prototype,"extract",{get:function(){return $t("v5.3.0","CanvasRenderer#extract is deprecated, use CanvasRenderer#plugins.extract"),this.plugins.extract}});var bc=function(t,e){return(bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function Tc(t,e){var i=t;if(e instanceof Fi){var r=e.source,t=0===r.width?i.canvas.width:Math.min(i.canvas.width,r.width),e=0===r.height?i.canvas.height:Math.min(i.canvas.height,r.height);return i.ctx.drawImage(r,0,0,t,e,0,0,i.canvas.width,i.canvas.height),!0}return!1}var Pc,wc,$u=(bc(wc=Ec,$u=Pc=zi),wc.prototype=null===$u?Object.create($u):(Sc.prototype=$u.prototype,new Sc),Ec.prototype.destroy=function(){Pc.prototype.destroy.call(this),this.ctx=null,this.canvas=null},Ec);function Ec(t){t=Pc.call(this,t)||this;return(t.uploadHookHelper=t).canvas=document.createElement("canvas"),t.canvas.width=16,t.canvas.height=16,t.ctx=t.canvas.getContext("2d"),t.registerUploadHook(Tc),t}function Sc(){this.constructor=wc}return Hh.prototype._renderCanvas=function(t){var e,i,r,n,s,o,a,h=this._texture;h.baseTexture.valid&&(e=t.context,a=this.worldTransform,i=(o=h.baseTexture).getDrawableSource(),r=o.resolution,n=this.tilePosition.x/this.tileScale.x%h._frame.width*r,s=this.tilePosition.y/this.tileScale.y%h._frame.height*r,this._textureID===this._texture._updateID&&this._cachedTint===this.tint||(this._textureID=this._texture._updateID,o=new Jt(h._frame.width,h._frame.height,r),16777215!==this.tint?(this._tintedCanvas=hc.getTintedCanvas(this,this.tint),o.context.drawImage(this._tintedCanvas,0,0)):o.context.drawImage(i,-h._frame.x*r,-h._frame.y*r),this._cachedTint=this.tint,this._canvasPattern=o.context.createPattern(o.canvas,"repeat")),e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(a),e.fillStyle=this._canvasPattern,e.scale(this.tileScale.x/r,this.tileScale.y/r),t=this.anchor.x*-this._width,a=this.anchor.y*-this._height,this.uvRespectAnchor?(e.translate(n,s),e.fillRect(t-n,a-s,this._width/this.tileScale.x*r,this._height/this.tileScale.y*r)):(e.translate(n+t,s+a),e.fillRect(-n,-s,this._width/this.tileScale.x*r,this._height/this.tileScale.y*r)))},ut.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,n=0,s=0,o=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var u,l,c=this.children[h];c.visible&&c._texture.valid&&(u=c._texture.frame,e.globalAlpha=this.worldAlpha*c.alpha,a=c.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),n=c.anchor.x*(-u.width*c.scale.x)+c.position.x+.5,s=c.anchor.y*(-u.height*c.scale.y)+c.position.y+.5,o=u.width*c.scale.x,u.height*c.scale.y):(r=r||!0,c.displayObjectUpdateTransform(),l=c.worldTransform,t.setContextTransform(l,this.roundPixels,1),n=c.anchor.x*-u.width+.5,s=c.anchor.y*-u.height+.5,o=u.width,u.height),l=c._texture.baseTexture.resolution,e.drawImage(c._texture.baseTexture.getDrawableSource(),u.x*l,u.y*l,u.width*l,u.height*l,n*t.resolution,s*t.resolution,o*t.resolution,a*t.resolution))}}},Ve.prototype._renderCanvas=function(t){},Ve.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},je.prototype.renderCanvas=function(t){},_h.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Ja.prototype._renderCanvas.call(this,t)},ac.registerPlugin("accessibility",i),ac.registerPlugin("extract",vl),ac.registerPlugin("graphics",al),ac.registerPlugin("interaction",D),ac.registerPlugin("mesh",el),ac.registerPlugin("prepare",$u),ac.registerPlugin("sprite",dl),W.AbstractBatchRenderer=no,W.AbstractRenderer=Ws,W.AccessibilityManager=i,W.AnimatedSprite=Yl,W.AppLoaderPlugin=ft,W.Application=co,W.Attribute=Er,W.BasePrepare=zi,W.BaseRenderTexture=cr,W.BaseTexture=Fi,W.BatchDrawCall=eo,W.BatchGeometry=oo,W.BatchPluginFactory=uo,W.BatchRenderer=lo,W.BatchShaderGenerator=so,W.BatchTextureArray=io,W.BitmapFont=Pu,W.BitmapFontData=du,W.BitmapFontLoader=Wi,W.BitmapText=Uo,W.Bounds=Be,W.Buffer=Ir,W.CanvasExtract=vl,W.CanvasGraphicsRenderer=al,W.CanvasMeshRenderer=el,W.CanvasPrepare=$u,W.CanvasRenderer=ac,W.CanvasSpriteRenderer=dl,W.Circle=ce,W.Container=Ve,W.CountLimiter=vh,W.DEG_TO_RAD=ue,W.DisplayObject=je,W.Ellipse=pe,W.Extract=Po,W.FillStyle=ha,W.Filter=ts,W.FilterState=$r,W.Framebuffer=lr,W.GLFramebuffer=en,W.GLProgram=fs,W.GLTexture=Gs,W.GRAPHICS_CURVES=aa,W.Geometry=zr,W.Graphics=Fa,W.GraphicsData=La,W.GraphicsGeometry=Ra,W.IGLUniformData=ds,W.InteractionData=ti,W.InteractionEvent=oi,W.InteractionManager=D,W.InteractionTrackingData=ai,W.LineStyle=Na,W.Loader=Vo,W.LoaderResource=qo,W.MaskData=hn,W.Matrix=ge,W.Mesh=su,W.MeshBatchUvs=iu,W.MeshGeometry=au,W.MeshMaterial=ou,W.NineSlicePlane=kl,W.ObjectRenderer=Kr,W.ObservablePoint=me,W.PI_2=ae,W.ParticleContainer=ut,W.ParticleRenderer=Xi,W.PlaneGeometry=Ml,W.Point=_e,W.Polygon=de,W.Prepare=Hi,W.Program=Kn,W.Quad=Hr,W.QuadUv=qr,W.RAD_TO_DEG=he,W.Rectangle=le,W.RenderTexture=Pr,W.RenderTexturePool=wr,W.Renderer=zs,W.RopeGeometry=Dl,W.RoundedRectangle=fe,W.Runner=mi,W.Shader=Qn,W.SimpleMesh=Bl,W.SimplePlane=Nl,W.SimpleRope=Rl,W.Sprite=Ja,W.SpriteMaskFilter=rs,W.Spritesheet=Rh,W.SpritesheetLoader=L,W.State=Jn,W.System=hr,W.TemporaryDisplayObject=We,W.Text=_h,W.TextMetrics=lh,W.TextStyle=sh,W.Texture=fr,W.TextureLoader=r,W.TextureMatrix=is,W.TextureUvs=pr,W.Ticker=Je,W.TickerPlugin=n,W.TilingSprite=Hh,W.TilingSpriteRenderer=Vh,W.TimeLimiter=ss,W.Transform=Re,W.UniformGroup=Vr,W.VERSION="5.3.10",W.ViewableBuffer=ro,W.accessibleTarget=Ze,W.autoDetectRenderer=Zs,W.canvasUtils=hc,W.checkMaxIfStatementsInShader=Gn,W.defaultFilterVertex=to,W.defaultVertex=Js,W.filters=xo,W.graphicsUtils=Oa,W.groupD8=De,W.interactiveTarget=ui,W.isMobile=A,W.resources=ar,W.settings=O,W.systems=Xs,W.uniformParsers=Nn,W.useDeprecated=function(){var n=this;Object.defineProperties(n,{SVG_SIZE:{get:function(){return $t(Ql,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),n.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return $t(Ql,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),n.Transform}},TransformBase:{get:function(){return $t(Ql,"PIXI.TransformBase class has been removed, use PIXI.Transform"),n.Transform}},TRANSFORM_MODE:{get:function(){return $t(Ql,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return $t(Ql,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),n.Renderer}},CanvasRenderTarget:{get:function(){return $t(Ql,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),n.utils.CanvasRenderTarget}},loader:{get:function(){return $t(Ql,"PIXI.loader instance has moved to PIXI.Loader.shared"),n.Loader.shared}},FilterManager:{get:function(){return $t(Ql,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),n.systems.FilterSystem}},CanvasTinter:{get:function(){return $t("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),n.canvasUtils}},GroupD8:{get:function(){return $t("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),n.groupD8}}}),n.accessibility={},Object.defineProperties(n.accessibility,{AccessibilityManager:{get:function(){return $t("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),n.AccessibilityManager}}}),n.interaction={},Object.defineProperties(n.interaction,{InteractionManager:{get:function(){return $t("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),n.InteractionManager}},InteractionData:{get:function(){return $t("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),n.InteractionData}},InteractionEvent:{get:function(){return $t("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),n.InteractionEvent}}}),n.prepare={},Object.defineProperties(n.prepare,{BasePrepare:{get:function(){return $t("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),n.BasePrepare}},Prepare:{get:function(){return $t("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),n.Prepare}},CanvasPrepare:{get:function(){return $t("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),n.CanvasPrepare}}}),n.extract={},Object.defineProperties(n.extract,{Extract:{get:function(){return $t("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),n.Extract}},CanvasExtract:{get:function(){return $t("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),n.CanvasExtract}}}),n.extras={},Object.defineProperties(n.extras,{TilingSprite:{get:function(){return $t(Ql,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),n.TilingSprite}},TilingSpriteRenderer:{get:function(){return $t(Ql,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),n.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return $t(Ql,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),n.AnimatedSprite}},BitmapText:{get:function(){return $t(Ql,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),n.BitmapText}}}),n.TilingSprite.fromFrame=function(t,e,i){return $t("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),n.TilingSprite.from(t,{width:e,height:i})},n.TilingSprite.fromImage=function(t,e,i,r){return void 0===r&&(r={}),$t("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),(r=r&&"object"!=typeof r?{scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}:r).width=e,r.height=i,n.TilingSprite.from(t,r)},Object.defineProperties(n.utils,{getSvgSize:{get:function(){return $t(Ql,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),n.resources.SVGResource.getSize}}}),n.mesh={},Object.defineProperties(n.mesh,{Mesh:{get:function(){return $t(Ql,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),n.SimpleMesh}},NineSlicePlane:{get:function(){return $t(Ql,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),n.NineSlicePlane}},Plane:{get:function(){return $t(Ql,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),n.SimplePlane}},Rope:{get:function(){return $t(Ql,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),n.SimpleRope}},RawMesh:{get:function(){return $t(Ql,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),n.Mesh}},CanvasMeshRenderer:{get:function(){return $t(Ql,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),n.CanvasMeshRenderer}},MeshRenderer:{get:function(){return $t(Ql,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),n.MeshRenderer}}}),n.particles={},Object.defineProperties(n.particles,{ParticleContainer:{get:function(){return $t(Ql,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),n.ParticleContainer}},ParticleRenderer:{get:function(){return $t(Ql,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),n.ParticleRenderer}}}),n.ticker={},Object.defineProperties(n.ticker,{Ticker:{get:function(){return $t(Ql,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),n.Ticker}},shared:{get:function(){return $t(Ql,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),n.Ticker.shared}}}),n.loaders={},Object.defineProperties(n.loaders,{Loader:{get:function(){return $t(Ql,"PIXI.loaders.Loader class has moved to PIXI.Loader"),n.Loader}},Resource:{get:function(){return $t(Ql,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),n.LoaderResource}},bitmapFontParser:{get:function(){return $t(Ql,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),n.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){$t(Ql,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return $t(Ql,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),n.SpritesheetLoader.use}},getResourcePath:{get:function(){return $t(Ql,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),n.SpritesheetLoader.getResourcePath}}}),n.Loader.addPixiMiddleware=function(t){return $t(Ql,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),n.loaders.Loader.registerPlugin({use:t()})};function e(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)}Object.assign(n.Loader.prototype,{on:function(t){t=e(t);$t(Ql,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+t+".add")},once:function(t){t=e(t);$t(Ql,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+t+".once")},off:function(t){t=e(t);$t(Ql,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+t+".detach")}}),Object.defineProperty(n.extract,"WebGLExtract",{get:function(){return $t(Ql,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),n.Extract}}),Object.defineProperty(n.prepare,"WebGLPrepare",{get:function(){return $t(Ql,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),n.Prepare}}),n.Container.prototype._renderWebGL=function(t){$t(Ql,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},n.Container.prototype.renderWebGL=function(t){$t(Ql,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},n.DisplayObject.prototype.renderWebGL=function(t){$t(Ql,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},n.Container.prototype.renderAdvancedWebGL=function(t){$t(Ql,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(n.settings,{TRANSFORM_MODE:{get:function(){return $t(Ql,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){$t(Ql,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var s=n.BaseTexture,t=!(s.prototype.loadSource=function(t){$t(Ql,"PIXI.BaseTexture.loadSource method has been deprecated");t=n.resources.autoDetectResource(t);t.internal=!0,this.setResource(t),this.update()});Object.defineProperties(s.prototype,{hasLoaded:{get:function(){return $t(Ql,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return $t(Ql,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){$t(Ql,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return $t(Ql,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){$t(Ql,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return $t("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){$t("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return t||($t("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),t=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),s.fromImage=function(t,e,i,r){return $t(Ql,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:i,resourceOptions:{scale:r,crossorigin:e}})},s.fromCanvas=function(t,e){return $t(Ql,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:e})},s.fromSVG=function(t,e,i,r){return $t(Ql,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:i,resourceOptions:{scale:r,crossorigin:e}})},Object.defineProperties(n.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return $t("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){$t("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),n.Point.prototype.copy=function(t){return $t(Ql,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},n.ObservablePoint.prototype.copy=function(t){return $t(Ql,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},n.Rectangle.prototype.copy=function(t){return $t(Ql,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},n.Matrix.prototype.copy=function(t){return $t(Ql,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},n.systems.StateSystem.prototype.setState=function(t){return $t("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(n.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return $t(Ql,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){$t(Ql,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){$t(Ql,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),i=this.activeState,t=i.sourceFrame,i=i.destinationFrame;return e.translate(t.x/i.width,t.y/i.height),e.scale(i.width,i.height),e},calculateNormalizedScreenSpaceMatrix:function(t){$t(Ql,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,i=e.sourceFrame,r=e.destinationFrame,e=t.identity();e.translate(i.x/r.width,i.y/r.height);t=r.width/i.width,i=r.height/i.height;return e.scale(t,i),e}}),Object.defineProperties(n.RenderTexture.prototype,{sourceFrame:{get:function(){return $t(Ql,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return $t(Ql,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var o,a,i=(Kl(u,a=n.filters.BlurFilterPass),u),r=(Kl(h,o=n.filters.BlurFilterPass),h);function h(t,e,i,r){return $t(Ql,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),o.call(this,!1,t,e,i,r)||this}function u(t,e,i,r){return $t(Ql,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),a.call(this,!0,t,e,i,r)||this}Object.assign(n.filters,{BlurXFilter:i,BlurYFilter:r});var l=n.Sprite,c=n.Texture,r=n.Graphics;function p(t,e,i,r){return $t(Ql,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),l.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function d(t,e,i,r){return $t(Ql,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),c.from(e,{resourceOptions:{scale:r,crossorigin:i}})}r.prototype.generateCanvasTexture||(r.prototype.generateCanvasTexture=function(){$t(Ql,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(r.prototype,"graphicsData",{get:function(){return $t(Ql,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),l.fromImage=p.bind(null,"fromImage"),l.fromSVG=p.bind(null,"fromSVG"),l.fromCanvas=p.bind(null,"fromCanvas"),l.fromVideo=p.bind(null,"fromVideo"),l.fromFrame=p.bind(null,"fromFrame"),c.fromImage=d.bind(null,"fromImage"),c.fromSVG=d.bind(null,"fromSVG"),c.fromCanvas=d.bind(null,"fromCanvas"),c.fromVideo=d.bind(null,"fromVideo"),c.fromFrame=d.bind(null,"fromFrame"),Object.defineProperty(n.AbstractRenderer.prototype,"autoResize",{get:function(){return $t(Ql,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){$t(Ql,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(n.Renderer.prototype,"textureManager",{get:function(){return $t(Ql,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),n.utils.mixins={mixin:function(){$t(Ql,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){$t(Ql,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){$t(Ql,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(n.BitmapText.prototype,"font",{get:function(){return $t("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){$t("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t&&(this._upgradeStyle(t={font:t}),t.fontSize=t.fontSize||n.BitmapFont.available[t.fontName].size,this._fontName=t.fontName,this._fontSize=t.fontSize,this.dirty=!0)}})},W.utils=oe,W}({});PIXI.useDeprecated(),this.PIXI=this.PIXI||{},this.PIXI.sound=function(i,s,a,d){"use strict";var f;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var _=function(){return(_=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},h=["mp3","ogg","oga","opus","mpeg","wav","m4a","aiff","wma","mid","caf"],u={};function e(t){var r=_({m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},t||{}),n=document.createElement("audio"),s={},o=/^no$/;h.forEach(function(t){var e=n.canPlayType("audio/"+t).replace(o,""),i=r[t]?n.canPlayType(r[t]).replace(o,""):"";s[t]=!!e||!!i}),Object.assign(u,s)}e();var l=/\.(\{([^\}]+)\})(\?.*)?$/;function n(t){var e=l,i="string"==typeof t?t:t.url;if(!e.test(i))return i;for(var e=e.exec(i),r=e[2].split(","),n=r[r.length-1],s=0,o=r.length;s<o;s++){var a=r[s];if(u[a]){n=a;break}}e=i.replace(e[1],n);return"string"!=typeof t&&((t=t).extension=n,t.url=e),e}var o,c,p,m,g,y,v,x,b,T,P,w,E=(lt.add=function(){lt.setLegacy(f.useLegacy)},lt.setLegacy=function(t){var e=h;t?e.forEach(function(t){i.LoaderResource.setExtensionXhrType(t,i.LoaderResource.XHR_RESPONSE_TYPE.DEFAULT),i.LoaderResource.setExtensionLoadType(t,i.LoaderResource.LOAD_TYPE.AUDIO)}):e.forEach(function(t){i.LoaderResource.setExtensionXhrType(t,i.LoaderResource.XHR_RESPONSE_TYPE.BUFFER),i.LoaderResource.setExtensionLoadType(t,i.LoaderResource.LOAD_TYPE.XHR)})},lt.pre=function(t,e){n(t),e()},lt.use=function(t,e){t.data&&-1<h.indexOf(t.extension)?t.sound=f.add(t.name,{loaded:e,preload:!0,url:t.url,source:t.data}):e()},lt),S=0,I=(t(ut,w=s.EventEmitter),ut.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"paused":this.paused=e;break;case"loop":this.loop=e;break;case"muted":this.muted=e}return this},Object.defineProperty(ut.prototype,"progress",{get:function(){return this._source.currentTime/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),ut.prototype._onPlay=function(){this._playing=!0},ut.prototype._onPause=function(){this._playing=!1},ut.prototype.init=function(t){this._playing=!1,this._duration=t.source.duration;var e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on("refresh",this.refresh,this),t.context.on("refreshPaused",this.refreshPaused,this),this._media=t},ut.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},ut.prototype.stop=function(){this._internalStop(),this._source&&this.emit("stop")},Object.defineProperty(ut.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),ut.prototype.refresh=function(){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var i=t.volume*(t.muted?0:1),r=e.volume*(e.muted?0:1),n=this._volume*(this._muted?0:1);this._source.volume=n*i*r,this._source.playbackRate=this._speed*t.speed*e.speed},ut.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,t=this._paused||e.paused||t.paused;t!==this._pausedReal&&((this._pausedReal=t)?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",t))},ut.prototype.play=function(t){var e=this,i=t.start,r=t.end,n=t.speed,s=t.loop,o=t.volume,t=t.muted;this._speed=n,this._volume=o,this._loop=!!s,this._muted=t,this.refresh(),this.loop&&null!==r&&(this.loop=!1),this._start=i,this._end=r||this._duration,this._start=Math.max(0,this._start-ut.PADDING),this._end=Math.min(this._end+ut.PADDING,this._duration),this._source.onloadedmetadata=function(){e._source&&(e._source.currentTime=i,e._source.onloadedmetadata=null,e.emit("progress",i,e._duration),a.Ticker.shared.add(e._onUpdate,e))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")},ut.prototype._onUpdate=function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},ut.prototype._onComplete=function(){a.Ticker.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)},ut.prototype.destroy=function(){a.Ticker.shared.remove(this._onUpdate,this),this.removeAllListeners();var t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)},ut.prototype.toString=function(){return"[HTMLAudioInstance id="+this.id+"]"},ut.PADDING=.1,ut),A=(t(ht,P=s.EventEmitter),ht.prototype.init=function(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)},ht.prototype.create=function(){return new I(this)},Object.defineProperty(ht.prototype,"isPlayable",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(ht.prototype,"duration",{get:function(){return this._source.duration},enumerable:!1,configurable:!0}),Object.defineProperty(ht.prototype,"context",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(ht.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),ht.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)},Object.defineProperty(ht.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),ht.prototype.load=function(e){var t,i,r,n,s,o=this._source,a=this.parent;4!==o.readyState?a.url?(o.src=a.url,t=function(){n(),a.isLoaded=!0;var t=a.autoPlayStart();e&&e(null,a,t)},i=function(){n(),e&&e(new Error("Sound loading has been aborted"))},r=function(){n();var t="Failed to load audio element (code: "+o.error.code+")";e&&e(new Error(t))},n=function(){o.removeEventListener("canplaythrough",t),o.removeEventListener("load",t),o.removeEventListener("abort",i),o.removeEventListener("error",r)},o.addEventListener("canplaythrough",t,!1),o.addEventListener("load",t,!1),o.addEventListener("abort",i,!1),o.addEventListener("error",r,!1),o.load()):e(new Error("sound.url or sound.source must be set")):(a.isLoaded=!0,s=a.autoPlayStart(),e&&setTimeout(function(){e(null,a,s)},0))},ht),C=(at.prototype.play=function(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},at.prototype.destroy=function(){this.parent=null},at),O=(ot.setParamValue=function(t,e){var i;return t.setValueAtTime?(i=f.context,t.setValueAtTime(e,i.audioContext.currentTime)):t.value=e,e},ot),L=0,M=(t(st,T=s.EventEmitter),st.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"muted":this.muted=e;break;case"loop":this.loop=e;break;case"paused":this.paused=e}return this},st.prototype.stop=function(){this._source&&(this._internalStop(),this.emit("stop"))},Object.defineProperty(st.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh(),this._update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),st.prototype.refresh=function(){var t,e,i,r,n;this._source&&(t=this._media.context,e=this._media.parent,this._source.loop=this._loop||e.loop,i=t.volume*(t.muted?0:1),r=e.volume*(e.muted?0:1),n=this._volume*(this._muted?0:1),O.setParamValue(this._gain.gain,n*r*i),O.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed))},st.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,t=this._paused||e.paused||t.paused;t!==this._pausedReal&&((this._pausedReal=t)?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",t))},st.prototype.play=function(t){var e=t.start,i=t.end,r=t.speed,n=t.loop,s=t.volume,o=t.muted;this._paused=!1;var a=this._media.nodes.cloneBufferSource(),t=a.source,a=a.gain;this._source=t,this._gain=a,this._speed=r,this._volume=s,this._loop=!!n,this._muted=o,this.refresh();o=this._source.buffer.duration;this._duration=o,this._end=i,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=i,this._source.loopStart=e,this._source.start(0,e)):i?this._source.start(0,e,i-e):this._source.start(0,e),this.emit("start"),this._update(!0),this.enableTicker(!0)},st.prototype.enableTicker=function(t){a.Ticker.shared.remove(this._updateListener,this),t&&a.Ticker.shared.add(this._updateListener,this)},Object.defineProperty(st.prototype,"progress",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(st.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),st.prototype.destroy=function(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},st.prototype.toString=function(){return"[WebAudioInstance id="+this.id+"]"},st.prototype._now=function(){return this._media.context.audioContext.currentTime},st.prototype._updateListener=function(){this._update()},st.prototype._update=function(t){var e,i;void 0===t&&(t=!1),this._source&&(0<(e=(i=this._now())-this._lastUpdate)||t)&&(t=this._source.playbackRate.value,this._elapsed+=e*t,this._lastUpdate=i,e=this._duration,t=void 0,t=this._source.loopStart?(i=this._source.loopEnd-this._source.loopStart,(this._source.loopStart+this._elapsed%i)/e):this._elapsed%e/e,this._progress=t,this.emit("progress",this._progress,e))},st.prototype.init=function(t){(this._media=t).context.events.on("refresh",this.refresh,this),t.context.events.on("refreshPaused",this.refreshPaused,this)},st.prototype._internalStop=function(){this._source&&(this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect(),this._source.buffer=null,this._source=null)},st.prototype._onComplete=function(){this._source&&(this.enableTicker(!1),this._source.onended=null,this._source.disconnect(),this._source.buffer=null),this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)},st),D=(Object.defineProperty(nt.prototype,"destination",{get:function(){return this._input},enumerable:!1,configurable:!0}),Object.defineProperty(nt.prototype,"filters",{get:function(){return this._filters},set:function(t){var e,i=this;this._filters&&(this._filters.forEach(function(t){t&&t.disconnect()}),this._filters=null,this._input.connect(this._output)),t&&t.length&&(this._filters=t.slice(0),this._input.disconnect(),e=null,t.forEach(function(t){(null===e?i._input:e).connect(t.destination),e=t}),e.connect(this._output))},enumerable:!1,configurable:!0}),nt.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},nt),R=(t(rt,b=D),Object.defineProperty(rt.prototype,"script",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(rt.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!1,configurable:!0}),rt.prototype.destroy=function(){b.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},rt.prototype.cloneBufferSource=function(){var t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,O.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;t=this.context.audioContext.createGain();return e.connect(t),t.connect(this.destination),{source:e,gain:t}},Object.defineProperty(rt.prototype,"bufferSize",{get:function(){return this.script.bufferSize},enumerable:!1,configurable:!0}),rt.BUFFER_SIZE=0,rt),N=(it.prototype.init=function(t){this.parent=t,this._nodes=new R(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source},it.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null,this._source.buffer=null,this._source=null,this.source=null},it.prototype.create=function(){return new M(this)},Object.defineProperty(it.prototype,"context",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"isPlayable",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"filters",{get:function(){return this._nodes.filters},set:function(t){this._nodes.filters=t},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"duration",{get:function(){return this._source.buffer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"buffer",{get:function(){return this._source.buffer},set:function(t){this._source.buffer=t},enumerable:!1,configurable:!0}),Object.defineProperty(it.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),it.prototype.load=function(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t&&t(new Error("sound.url or sound.source must be set"))},it.prototype._loadUrl=function(t){var e=this,i=new XMLHttpRequest,r=this.parent.url;i.open("GET",r,!0),i.responseType="arraybuffer",i.onload=function(){e.source=i.response,e._decode(i.response,t)},i.send()},it.prototype._decode=function(t,i){var r=this;this.parent.context.decode(t,function(t,e){t?i&&i(t):(r.parent.isLoaded=!0,r.buffer=e,e=r.parent.autoPlayStart(),i&&i(null,r.parent,e))})},it),B=(et.from=function(t){var e={};return"string"==typeof t?e.url=t:t instanceof ArrayBuffer||t instanceof HTMLAudioElement?e.source=t:e=t,(e=_({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},e)).url&&(e.url=n(e.url)),Object.freeze(e),new et(new(f.useLegacy?A:N),e)},Object.defineProperty(et.prototype,"context",{get:function(){return f.context},enumerable:!1,configurable:!0}),et.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},et.prototype.resume=function(){return this.isPlaying=0<this._instances.length,this.paused=!1,this},Object.defineProperty(et.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"filters",{get:function(){return this.media.filters},set:function(t){this.media.filters=t},enumerable:!1,configurable:!0}),et.prototype.addSprites=function(t,e){if("object"==typeof t){var i,r={};for(i in t)r[i]=this.addSprites(i,t[i]);return r}e=new C(this,e);return this._sprites[t]=e},et.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},et.prototype.removeSprites=function(t){if(t){var e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(var i in this._sprites)this.removeSprites(i);return this},Object.defineProperty(et.prototype,"isPlayable",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!1,configurable:!0}),et.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var t=this._instances.length-1;0<=t;t--)this._instances[t].stop();return this},et.prototype.play=function(t,e){var s,i,o=this;if("string"==typeof t?s={sprite:i=t,loop:this.loop,complete:e}:"function"==typeof t?(s={}).complete=t:s=t,(s=_({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},s||{})).sprite&&(t=s.sprite,i=this._sprites[t],s.start=i.start+(s.start||0),s.end=i.end,s.speed=i.speed||1,s.loop=i.loop||s.loop,delete s.sprite),s.offset&&(s.start=s.offset),!this.isLoaded)return new Promise(function(r,n){o.autoPlay=!0,o._autoPlayOptions=s,o._preload(function(t,e,i){t?n(t):(s.loaded&&s.loaded(t,e,i),r(i))})});this.singleInstance&&this._removeInstances();var r=this._createInstance();return this._instances.push(r),this.isPlaying=!0,r.once("end",function(){s.complete&&s.complete(o),o._onComplete(r)}),r.once("stop",function(){o._onComplete(r)}),r.play(s),r},et.prototype.refresh=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refresh()},et.prototype.refreshPaused=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refreshPaused()},Object.defineProperty(et.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),et.prototype._preload=function(t){this.media.load(t)},Object.defineProperty(et.prototype,"instances",{get:function(){return this._instances},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"sprites",{get:function(){return this._sprites},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"duration",{get:function(){return this.media.duration},enumerable:!1,configurable:!0}),et.prototype.autoPlayStart=function(){var t;return t=this.autoPlay?this.play(this._autoPlayOptions):t},et.prototype._removeInstances=function(){for(var t=this._instances.length-1;0<=t;t--)this._poolInstance(this._instances[t]);this._instances.length=0},et.prototype._onComplete=function(t){var e;this._instances&&(-1<(e=this._instances.indexOf(t))&&this._instances.splice(e,1),this.isPlaying=0<this._instances.length),this._poolInstance(t)},et.prototype._createInstance=function(){if(0<et._pool.length){var t=et._pool.pop();return t.init(this.media),t}return this.media.create()},et.prototype._poolInstance=function(t){t.destroy(),et._pool.indexOf(t)<0&&et._pool.push(t)},et._pool=[],et),k=(t(tt,x=s.EventEmitter),tt.prototype.refresh=function(){this.emit("refresh")},tt.prototype.refreshPaused=function(){this.emit("refreshPaused")},Object.defineProperty(tt.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(tt.prototype,"audioContext",{get:function(){return null},enumerable:!1,configurable:!0}),tt.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},tt.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},tt.prototype.destroy=function(){this.removeAllListeners()},tt),F=(t(J,v=D),J.prototype._unlock=function(){this._unlocked||(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._unlocked=!0))},J.prototype.playEmptySound=function(){var t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),"suspended"===t.context.state&&t.context.resume()},Object.defineProperty(J,"AudioContext",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!1,configurable:!0}),Object.defineProperty(J,"OfflineAudioContext",{get:function(){var t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null},enumerable:!1,configurable:!0}),J.prototype.destroy=function(){v.prototype.destroy.call(this);var t=this._ctx;void 0!==t.close&&t.close(),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(J.prototype,"audioContext",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"offlineContext",{get:function(){return this._offlineCtx},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"paused",{get:function(){return this._paused},set:function(t){t&&"running"===this._ctx.state?this._ctx.suspend():t||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=t},enumerable:!1,configurable:!0}),J.prototype.refresh=function(){this.events.emit("refresh")},J.prototype.refreshPaused=function(){this.events.emit("refreshPaused")},J.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},J.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},J.prototype.decode=function(t,e){function i(t){e(new Error(t.message||"Unable to decode file"))}t=this._offlineCtx.decodeAudioData(t,function(t){e(null,t)},i);t&&t.catch(i)},J),G=(Q.prototype.init=function(){return this.supported&&(this._webAudioContext=new F),this._htmlAudioContext=new k,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(Q.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"filtersAll",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(t){this.useLegacy||(this._context.filters=t)},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"supported",{get:function(){return null!==F.AudioContext},enumerable:!1,configurable:!0}),Q.prototype.add=function(t,e){if("object"==typeof t){var i,r={};for(i in t){var n=this._getOptions(t[i],e);r[i]=this.add(i,n)}return r}if(e instanceof B)return this._sounds[t]=e;var s=this._getOptions(e),s=B.from(s);return this._sounds[t]=s},Q.prototype._getOptions=function(t,e){t="string"==typeof t?{url:t}:t instanceof ArrayBuffer||t instanceof HTMLAudioElement?{source:t}:t;return _(_({},t),e||{})},Object.defineProperty(Q.prototype,"useLegacy",{get:function(){return this._useLegacy},set:function(t){E.setLegacy(t),this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!1,configurable:!0}),Q.prototype.remove=function(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this},Object.defineProperty(Q.prototype,"volumeAll",{get:function(){return this._context.volume},set:function(t){this._context.volume=t,this._context.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"speedAll",{get:function(){return this._context.speed},set:function(t){this._context.speed=t,this._context.refresh()},enumerable:!1,configurable:!0}),Q.prototype.togglePauseAll=function(){return this._context.togglePause()},Q.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},Q.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},Q.prototype.toggleMuteAll=function(){return this._context.toggleMute()},Q.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},Q.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},Q.prototype.removeAll=function(){for(var t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this},Q.prototype.stopAll=function(){for(var t in this._sounds)this._sounds[t].stop();return this},Q.prototype.exists=function(t,e){return void 0===e&&(e=!1),!!this._sounds[t]},Q.prototype.find=function(t){return this.exists(t,!0),this._sounds[t]},Q.prototype.play=function(t,e){return this.find(t).play(e)},Q.prototype.stop=function(t){return this.find(t).stop()},Q.prototype.pause=function(t){return this.find(t).pause()},Q.prototype.resume=function(t){return this.find(t).resume()},Q.prototype.volume=function(t,e){t=this.find(t);return void 0!==e&&(t.volume=e),t.volume},Q.prototype.speed=function(t,e){t=this.find(t);return void 0!==e&&(t.speed=e),t.speed},Q.prototype.duration=function(t){return this.find(t).duration},Q.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},Q),U={HTMLAudioContext:k,HTMLAudioMedia:A,HTMLAudioInstance:I},X=(K.prototype.init=function(t,e){this.destination=t,this.source=e||t},K.prototype.connect=function(t){this.source.connect(t)},K.prototype.disconnect=function(){this.source.disconnect()},K.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},K),j={Filter:X,EqualizerFilter:(t(Z,y=X),Z.prototype.setGain=function(t,e){if(void 0===e&&(e=0),!this.bandsMap[t])throw new Error("No band found for frequency "+t);O.setParamValue(this.bandsMap[t].gain,e)},Z.prototype.getGain=function(t){if(!this.bandsMap[t])throw new Error("No band found for frequency "+t);return this.bandsMap[t].gain.value},Object.defineProperty(Z.prototype,"f32",{get:function(){return this.getGain(Z.F32)},set:function(t){this.setGain(Z.F32,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f64",{get:function(){return this.getGain(Z.F64)},set:function(t){this.setGain(Z.F64,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f125",{get:function(){return this.getGain(Z.F125)},set:function(t){this.setGain(Z.F125,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f250",{get:function(){return this.getGain(Z.F250)},set:function(t){this.setGain(Z.F250,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f500",{get:function(){return this.getGain(Z.F500)},set:function(t){this.setGain(Z.F500,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f1k",{get:function(){return this.getGain(Z.F1K)},set:function(t){this.setGain(Z.F1K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f2k",{get:function(){return this.getGain(Z.F2K)},set:function(t){this.setGain(Z.F2K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f4k",{get:function(){return this.getGain(Z.F4K)},set:function(t){this.setGain(Z.F4K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f8k",{get:function(){return this.getGain(Z.F8K)},set:function(t){this.setGain(Z.F8K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"f16k",{get:function(){return this.getGain(Z.F16K)},set:function(t){this.setGain(Z.F16K,t)},enumerable:!1,configurable:!0}),Z.prototype.reset=function(){this.bands.forEach(function(t){O.setParamValue(t.gain,0)})},Z.prototype.destroy=function(){this.bands.forEach(function(t){t.disconnect()}),this.bands=null,this.bandsMap=null},Z.F32=32,Z.F64=64,Z.F125=125,Z.F250=250,Z.F500=500,Z.F1K=1e3,Z.F2K=2e3,Z.F4K=4e3,Z.F8K=8e3,Z.F16K=16e3,Z),DistortionFilter:(t($,g=X),Object.defineProperty($.prototype,"amount",{get:function(){return this._amount},set:function(t){this._amount=t*=1e3;for(var e,i=new Float32Array(44100),r=Math.PI/180,n=0;n<44100;++n)i[n]=(3+t)*(e=2*n/44100-1)*20*r/(Math.PI+t*Math.abs(e));this._distortion.curve=i,this._distortion.oversample="4x"},enumerable:!1,configurable:!0}),$.prototype.destroy=function(){this._distortion=null,g.prototype.destroy.call(this)},$),StereoFilter:(t(V,m=X),Object.defineProperty(V.prototype,"pan",{get:function(){return this._pan},set:function(t){this._pan=t,this._stereo?O.setParamValue(this._stereo.pan,t):this._panner.setPosition(t,0,1-Math.abs(t))},enumerable:!1,configurable:!0}),V.prototype.destroy=function(){m.prototype.destroy.call(this),this._stereo=null,this._panner=null},V),ReverbFilter:(t(Y,p=X),Y.prototype._clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},Object.defineProperty(Y.prototype,"seconds",{get:function(){return this._seconds},set:function(t){this._seconds=this._clamp(t,1,50),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"decay",{get:function(){return this._decay},set:function(t){this._decay=this._clamp(t,0,100),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"reverse",{get:function(){return this._reverse},set:function(t){this._reverse=t,this._rebuild()},enumerable:!1,configurable:!0}),Y.prototype._rebuild=function(){for(var t,e=f.context.audioContext,i=e.sampleRate,r=i*this._seconds,e=e.createBuffer(2,r,i),n=e.getChannelData(0),s=e.getChannelData(1),o=0;o<r;o++)t=this._reverse?r-o:o,n[o]=(2*Math.random()-1)*Math.pow(1-t/r,this._decay),s[o]=(2*Math.random()-1)*Math.pow(1-t/r,this._decay);i=f.context.audioContext.createConvolver();i.buffer=e,this.init(i)},Y),MonoFilter:(t(q,c=X),q.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,c.prototype.destroy.call(this)},q),TelephoneFilter:(t(H,o=X),H)},W={WebAudioMedia:N,WebAudioInstance:M,WebAudioNodes:R,WebAudioContext:F,WebAudioUtils:O},z=0;function H(){if(!f.useLegacy){var t=f.context.audioContext,e=t.createBiquadFilter(),i=t.createBiquadFilter(),r=t.createBiquadFilter(),t=t.createBiquadFilter();return e.type="lowpass",O.setParamValue(e.frequency,2e3),i.type="lowpass",O.setParamValue(i.frequency,2e3),r.type="highpass",O.setParamValue(r.frequency,500),t.type="highpass",O.setParamValue(t.frequency,500),e.connect(i),i.connect(r),r.connect(t),o.call(this,e,t)||this}o.call(this,null)}function q(){var t=this;if(!f.useLegacy){var e=f.context.audioContext,i=e.createChannelSplitter(),e=e.createChannelMerger();return e.connect(i),(t=c.call(this,e,i)||this)._merger=e,t}c.call(this,null)}function Y(t,e,i){void 0===t&&(t=3),void 0===e&&(e=2),void 0===i&&(i=!1);var r=this;if(!f.useLegacy)return(r=p.call(this,null)||this)._seconds=r._clamp(t,1,50),r._decay=r._clamp(e,0,100),r._reverse=i,r._rebuild(),r;p.call(this,null)}function V(t){void 0===t&&(t=0);var e=this;if(!f.useLegacy){var i,r,n=f.context.audioContext,n=n.createStereoPanner?i=n.createStereoPanner():((r=n.createPanner()).panningModel="equalpower",r);return(e=m.call(this,n)||this)._stereo=i,e._panner=r,e.pan=t,e}m.call(this,null)}function $(t){void 0===t&&(t=0);var e=this;if(!f.useLegacy){var i=f.context.audioContext.createWaveShaper();return(e=g.call(this,i)||this)._distortion=i,e.amount=t,e}g.call(this,null)}function Z(t,e,i,r,n,s,o,a,h,u){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===u&&(u=0);var l=this;if(!f.useLegacy){u=[{f:Z.F32,type:"lowshelf",gain:t},{f:Z.F64,type:"peaking",gain:e},{f:Z.F125,type:"peaking",gain:i},{f:Z.F250,type:"peaking",gain:r},{f:Z.F500,type:"peaking",gain:n},{f:Z.F1K,type:"peaking",gain:s},{f:Z.F2K,type:"peaking",gain:o},{f:Z.F4K,type:"peaking",gain:a},{f:Z.F8K,type:"peaking",gain:h},{f:Z.F16K,type:"highshelf",gain:u}].map(function(t){var e=f.context.audioContext.createBiquadFilter();return e.type=t.type,O.setParamValue(e.Q,1),e.frequency.value=t.f,O.setParamValue(e.gain,t.gain),e});(l=y.call(this,u[0],u[u.length-1])||this).bands=u,l.bandsMap={};for(var c=0;c<l.bands.length;c++){var p=l.bands[c];0<c&&l.bands[c-1].connect(p),l.bandsMap[p.frequency.value]=p}return l}y.call(this,null)}function K(t,e){this.init(t,e)}function Q(){this.init()}function J(){var t=this,e=window,i=new J.AudioContext,r=i.createDynamicsCompressor(),n=i.createAnalyser();return n.connect(r),r.connect(i.destination),(t=v.call(this,n,r)||this)._ctx=i,t._offlineCtx=new J.OfflineAudioContext(1,2,e.OfflineAudioContext?i.sampleRate:44100),t._unlocked=!1,t.compressor=r,t.analyser=n,t.events=new s.EventEmitter,t.volume=1,t.speed=1,t.muted=!1,t.paused=!1,"running"!==i.state&&(t._unlock(),t._unlock=t._unlock.bind(t),document.addEventListener("mousedown",t._unlock,!0),document.addEventListener("touchstart",t._unlock,!0),document.addEventListener("touchend",t._unlock,!0)),t}function tt(){var t=null!==x&&x.apply(this,arguments)||this;return t.speed=1,t.muted=!1,t.volume=1,t.paused=!1,t}function et(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);t=e.complete;this._autoPlayOptions=t?{complete:t}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}function it(){}function rt(t){var e=this,i=t.audioContext,r=i.createBufferSource(),n=i.createGain(),i=i.createAnalyser();return r.connect(i),i.connect(n),n.connect(t.destination),(e=b.call(this,i,n)||this).context=t,e.bufferSource=r,e.gain=n,e.analyser=i,e}function nt(t,e){this._output=e,this._input=t}function st(t){var e=T.call(this)||this;return e.id=L++,e._media=null,e._paused=!1,e._muted=!1,e._elapsed=0,e.init(t),e}function ot(){}function at(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start}function ht(){return null!==P&&P.apply(this,arguments)||this}function ut(t){var e=w.call(this)||this;return e.id=S++,e.init(t),e}function lt(){}var ct={playOnce:function(t,e){var i="alias"+z++;return f.add(i,{url:t,preload:!0,autoPlay:!0,loaded:function(t){t&&(f.remove(i),e&&e(t))},complete:function(){f.remove(i),e&&e(null)}}),i},render:function(t,e){var i=document.createElement("canvas");e=_({width:512,height:128,fill:"black"},e||{}),i.width=e.width,i.height=e.height;var r=d.BaseTexture.from(i);if(!(t.media instanceof N))return r;var t=t.media,n=i.getContext("2d");n.fillStyle=e.fill;for(var s=t.buffer.getChannelData(0),o=Math.ceil(s.length/e.width),a=e.height/2,h=0;h<e.width;h++){for(var u=1,l=-1,c=0;c<o;c++){var p=s[h*o+c];p<u&&(u=p),l<p&&(l=p)}n.fillRect(h,(1+u)*a,1,Math.max(1,(l-u)*a))}return r},resolveUrl:n,sineTone:function(t,e){void 0===t&&(t=200),void 0===e&&(e=1);var i=B.from({singleInstance:!0});if(!(i.media instanceof N))return i;for(var r=i.media,n=i.context.audioContext.createBuffer(1,48e3*e,48e3),s=n.getChannelData(0),o=0;o<s.length;o++){var a=t*(o/n.sampleRate)*Math.PI;s[o]=2*Math.sin(a)}return r.buffer=n,i.isLoaded=!0,i},supported:u,extensions:h,validateFormats:e},pt=(X=new G,f=X);return i.Loader.registerPlugin(E),Object.defineProperties(pt,{Filterable:{get:function(){return D}},filters:{get:function(){return j}},htmlaudio:{get:function(){return U}},Sound:{get:function(){return B}},SoundLoader:{get:function(){return E}},SoundLibrary:{get:function(){return G}},SoundSprite:{get:function(){return C}},utils:{get:function(){return ct}},webaudio:{get:function(){return W}},sound:{get:function(){return pt}}}),pt}(PIXI,PIXI.utils,PIXI,PIXI),this.PIXI=this.PIXI||{},function(h,_){"use strict";var e,c=(u.createList=function(t){if("list"in t){var e=t.list,i=void 0,r=e[0],n=r.value,r=r.time,r=i=new u("string"==typeof n?h.ParticleUtils.hexToRGB(n):n,r,t.ease);if(2<e.length||2===e.length&&e[1].value!==n)for(var s=1;s<e.length;++s){var o=e[s],a=o.value,o=o.time;i.next=new u("string"==typeof a?h.ParticleUtils.hexToRGB(a):a,o),i=i.next}return r.isStepped=!!t.isStepped,r}r=new u("string"==typeof t.start?h.ParticleUtils.hexToRGB(t.start):t.start,0);return t.end!==t.start&&(r.next=new u("string"==typeof t.end?h.ParticleUtils.hexToRGB(t.end):t.end,1)),r},u);function u(t,e,i){this.value=t,this.time=e,this.next=null,this.isStepped=!1,this.ease=i?"function"==typeof i?i:h.ParticleUtils.generateEase(i):null}var p,t=_;function l(t){return e(t)}e=parseInt(/^(\d+)\./.exec(_.VERSION)[1],10)<5?t.Texture.fromImage:t.Texture.from,(p=h.ParticleUtils||(h.ParticleUtils={})).verbose=!1,p.DEG_TO_RADS=Math.PI/180,p.rotatePoint=function(t,e){var i,r;t&&(t*=p.DEG_TO_RADS,i=Math.sin(t),r=Math.cos(t),t=e.x*r-e.y*i,r=e.x*i+e.y*r,e.x=t,e.y=r)},p.combineRGBComponents=function(t,e,i){return t<<16|e<<8|i},p.normalize=function(t){var e=1/p.length(t);t.x*=e,t.y*=e},p.scaleBy=function(t,e){t.x*=e,t.y*=e},p.length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},p.hexToRGB=function(t,e){var i;return e=e||{},"#"===t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8===t.length&&(i=t.substr(0,2),t=t.substr(2)),e.r=parseInt(t.substr(0,2),16),e.g=parseInt(t.substr(2,2),16),e.b=parseInt(t.substr(4,2),16),i&&(e.a=parseInt(i,16)),e},p.generateEase=function(i){var r=i.length,n=1/r;return function(t){var e=r*t|0,t=(t-e*n)*r,e=i[e]||i[r-1];return e.s+t*(2*(1-t)*(e.cp-e.s)+t*(e.e-e.s))}},p.getBlendMode=function(t){if(!t)return _.BLEND_MODES.NORMAL;for(t=t.toUpperCase();0<=t.indexOf(" ");)t=t.replace(" ","_");return _.BLEND_MODES[t]||_.BLEND_MODES.NORMAL},p.createSteppedGradient=function(t,e){("number"!=typeof(e=void 0===e?10:e)||e<=0)&&(e=10);var i=new c(p.hexToRGB(t[0].value),t[0].time);i.isStepped=!0;for(var r=i,n=t[0],s=1,o=t[s],a=1;a<e;++a){for(var h=a/e;h>o.time;)n=o,o=t[++s];var h=(h-n.time)/(o.time-n.time),u=p.hexToRGB(n.value),l=p.hexToRGB(o.value),u={r:(l.r-u.r)*h+u.r,g:(l.g-u.g)*h+u.g,b:(l.b-u.b)*h+u.b};r.next=new c(u,a/e),r=r.next}return i};var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function i(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function n(t){return this.ease&&(t=this.ease(t)),(this.next.value-this.current.value)*t+this.current.value}function s(t){this.ease&&(t=this.ease(t));var e=this.current.value,i=this.next.value,r=(i.r-e.r)*t+e.r,n=(i.g-e.g)*t+e.g,e=(i.b-e.b)*t+e.b;return h.ParticleUtils.combineRGBComponents(r,n,e)}function o(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;return t=(t-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*t+this.current.value}function a(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;t=(t-this.current.time)/(this.next.time-this.current.time);var e=this.current.value,i=this.next.value,r=(i.r-e.r)*t+e.r,n=(i.g-e.g)*t+e.g,e=(i.b-e.b)*t+e.b;return h.ParticleUtils.combineRGBComponents(r,n,e)}function d(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function f(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;var e=this.current.value;return h.ParticleUtils.combineRGBComponents(e.r,e.g,e.b)}var m=(g.prototype.reset=function(t){this.current=t,this.next=t.next,this.next&&1<=this.next.time?this.interpolate=this.isColor?s:n:t.isStepped?this.interpolate=this.isColor?f:d:this.interpolate=this.isColor?a:o,this.ease=this.current.ease},g);function g(t){void 0===t&&(t=!1),this.current=null,this.next=null,this.isColor=!!t,this.interpolate=null,this.ease=null}var y,v=(i(x,y=_.Sprite),x.prototype.init=function(){this.age=0,this.velocity.x=this.speedList.current.value*this.speedMultiplier,this.velocity.y=0,h.ParticleUtils.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=h.ParticleUtils.DEG_TO_RADS,this.rotationSpeed*=h.ParticleUtils.DEG_TO_RADS,this.rotationAcceleration*=h.ParticleUtils.DEG_TO_RADS,this.alpha=this.alphaList.current.value,this.scale.x=this.scale.y=this.scaleList.current.value,this._doAlpha=!!this.alphaList.current.next,this._doSpeed=!!this.speedList.current.next,this._doScale=!!this.scaleList.current.next,this._doColor=!!this.colorList.current.next,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.speedList.current.value||this._doAcceleration,this._oneOverLife=1/this.maxLife;var t=this.colorList.current.value;this.tint=h.ParticleUtils.combineRGBComponents(t.r,t.g,t.b),this.visible=!0},x.prototype.applyArt=function(t){this.texture=t||_.Texture.EMPTY},x.prototype.update=function(t){if(this.age+=t,this.age>=this.maxLife||this.age<0)return this.kill(),-1;var e,i,r,n,s,o=this.age*this._oneOverLife;return this.ease&&(o=4===this.ease.length?this.ease(o,0,1,1):this.ease(o)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(o)),this._doScale&&(r=this.scaleList.interpolate(o)*this.scaleMultiplier,this.scale.x=this.scale.y=r),this._doNormalMovement&&(s=e=void 0,s=this._doSpeed?(n=this.speedList.interpolate(o)*this.speedMultiplier,h.ParticleUtils.normalize(this.velocity),h.ParticleUtils.scaleBy(this.velocity,n),e=this.velocity.x*t,this.velocity.y*t):this._doAcceleration?(i=this.velocity.x,r=this.velocity.y,this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t,!this.maxSpeed||(n=h.ParticleUtils.length(this.velocity))>this.maxSpeed&&h.ParticleUtils.scaleBy(this.velocity,this.maxSpeed/n),e=(i+this.velocity.x)/2*t,(r+this.velocity.y)/2*t):(e=this.velocity.x*t,this.velocity.y*t),this.position.x+=e,this.position.y+=s),this._doColor&&(this.tint=this.colorList.interpolate(o)),0!==this.rotationAcceleration?(s=this.rotationSpeed+this.rotationAcceleration*t,this.rotation+=(this.rotationSpeed+s)/2*t,this.rotationSpeed=s):0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),o},x.prototype.kill=function(){this.emitter.recycle(this)},x.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=this.next=this.prev=null},x.parseArt=function(t){for(var e=t.length;0<=e;--e)"string"==typeof t[e]&&(t[e]=l(t[e]));if(h.ParticleUtils.verbose)for(e=t.length-1;0<e;--e)if(t[e].baseTexture!==t[e-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return t},x.parseData=function(t){return t},x);function x(t){var e=y.call(this)||this;return e.prevChild=e.nextChild=null,e.emitter=t,e.anchor.x=e.anchor.y=.5,e.velocity=new _.Point,e.rotationSpeed=0,e.rotationAcceleration=0,e.maxLife=0,e.age=0,e.ease=null,e.extraData=null,e.alphaList=new m,e.speedList=new m,e.speedMultiplier=1,e.acceleration=new _.Point,e.maxSpeed=NaN,e.scaleList=new m,e.scaleMultiplier=1,e.colorList=new m(!0),e._doAlpha=!1,e._doScale=!1,e._doSpeed=!1,e._doAcceleration=!1,e._doColor=!1,e._doNormalMovement=!1,e._oneOverLife=0,e.next=null,e.prev=null,e.init=e.init,e.Particle_init=x.prototype.init,e.update=e.update,e.Particle_update=x.prototype.update,e.Sprite_destroy=y.prototype.destroy,e.Particle_destroy=x.prototype.destroy,e.applyArt=e.applyArt,e.kill=e.kill,e}var b=(T.prototype.init=function(t){if(t&&t.length)if(Array.isArray(t[0]))for(var e=0;e<t.length;++e)for(var i=t[e],r=i[0],n=1;n<i.length;++n){var s=i[n];this.segments.push({p1:r,p2:s,l:0}),r=s}else for(r=t[0],e=1;e<t.length;++e){s=t[e];this.segments.push({p1:r,p2:s,l:0}),r=s}else this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});for(e=0;e<this.segments.length;++e){var o=this.segments[e],a=o.p1,o=o.p2,a=Math.sqrt((o.x-a.x)*(o.x-a.x)+(o.y-a.y)*(o.y-a.y));this.segments[e].l=a,this.totalLength+=a,this.countingLengths.push(this.totalLength)}},T.prototype.getRandomPoint=function(t){var e,i,r=Math.random()*this.totalLength;if(1===this.segments.length)e=this.segments[0],i=r;else for(var n=0;n<this.countingLengths.length;++n)if(r<this.countingLengths[n]){e=this.segments[n],i=0===n?r:r-this.countingLengths[n-1];break}i/=e.l||1;var s=e.p1,o=e.p2;t.x=s.x+i*(o.x-s.x),t.y=s.y+i*(o.y-s.y)},T);function T(t){this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(t)}var P=_,w=(parseInt(/^(\d+)\./.exec(_.VERSION)[1],10)<5?P.ticker:P.Ticker).shared,E=new _.Point,S=(Object.defineProperty(I.prototype,"orderedArt",{get:function(){return-1!==this._currentImageIndex},set:function(t){this._currentImageIndex=t?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"frequency",{get:function(){return this._frequency},set:function(t){this._frequency="number"==typeof t&&0<t?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){if(t!==this._particleConstructor){this._particleConstructor=t,this.cleanup();for(var e=this._poolFirst;e;e=e.next)e.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"parent",{get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t},enumerable:!0,configurable:!0}),I.prototype.init=function(t,e){var i,r;t&&e&&(this.cleanup(),this._origConfig=e,this._origArt=t,t=Array.isArray(t)?t.slice():[t],i=this._particleConstructor,this.particleImages=i.parseArt?i.parseArt(t):t,e.alpha?this.startAlpha=c.createList(e.alpha):this.startAlpha=new c(1,0),e.speed?(this.startSpeed=c.createList(e.speed),this.minimumSpeedMultiplier=("minimumSpeedMultiplier"in e?e:e.speed).minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=new c(0,0)),(r=e.acceleration)&&(r.x||r.y)?(this.startSpeed.next=null,this.acceleration=new _.Point(r.x,r.y),this.maxSpeed=e.maxSpeed||NaN):this.acceleration=new _.Point,e.scale?(this.startScale=c.createList(e.scale),this.minimumScaleMultiplier=("minimumScaleMultiplier"in e?e:e.scale).minimumScaleMultiplier||1):(this.startScale=new c(1,0),this.minimumScaleMultiplier=1),e.color?this.startColor=c.createList(e.color):this.startColor=new c({r:255,g:255,b:255},0),e.startRotation?(this.minStartRotation=e.startRotation.min,this.maxStartRotation=e.startRotation.max):this.minStartRotation=this.maxStartRotation=0,e.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!e.noRotation:this.noRotation=!1,e.rotationSpeed?(this.minRotationSpeed=e.rotationSpeed.min,this.maxRotationSpeed=e.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.rotationAcceleration=e.rotationAcceleration||0,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,this.particleBlendMode=h.ParticleUtils.getBlendMode(e.blendMode),e.ease?this.customEase="function"==typeof e.ease?e.ease:h.ParticleUtils.generateEase(e.ease):this.customEase=null,i.parseData?this.extraData=i.parseData(e.extraData):this.extraData=e.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,e.particlesPerWave&&1<e.particlesPerWave&&(this.particlesPerWave=e.particlesPerWave),this.particleSpacing=0,this.angleStart=0,this.parseSpawnType(e),this.frequency=e.frequency,this.spawnChance="number"==typeof e.spawnChance&&0<e.spawnChance?e.spawnChance:1,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=0<e.maxParticles?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos=new _.Point,this.spawnPos=new _.Point(e.pos.x,e.pos.y),this.initAdditional(t,e),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===e.emit||!!e.emit,this.autoUpdate=!!e.autoUpdate,this.orderedArt=!!e.orderedArt)},I.prototype.initAdditional=function(t,e){},I.prototype.parseSpawnType=function(t){var e;switch(t.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var i=t.spawnRect;this.spawnRect=new _.Rectangle(i.x,i.y,i.w,i.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,e=t.spawnCircle,this.spawnCircle=new _.Circle(e.x,e.y,e.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,e=t.spawnCircle,this.spawnCircle=new _.Circle(e.x,e.y,e.r),this.spawnCircle.minRadius=e.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particleSpacing=t.particleSpacing,this.angleStart=t.angleStart||0;break;case"point":this.spawnType="point",this._spawnFunc=this._spawnPoint;break;case"polygonalChain":this.spawnType="polygonalChain",this._spawnFunc=this._spawnPolygonalChain,this.spawnPolygonalChain=new b(t.spawnPolygon);break;default:this.spawnType="point",this._spawnFunc=this._spawnPoint}},I.prototype.recycle=function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t===this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,(this._poolFirst=t).parent&&t.parent.removeChild(t),--this.particleCount},I.prototype.rotate=function(t){var e;this.rotation!==t&&(e=t-this.rotation,this.rotation=t,h.ParticleUtils.rotatePoint(e,this.spawnPos),this._posChanged=!0)},I.prototype.updateSpawnPos=function(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e},I.prototype.updateOwnerPos=function(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e},I.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(I.prototype,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){this._autoUpdate&&!t?w.remove(this.update,this):!this._autoUpdate&&t&&w.add(this.update,this),this._autoUpdate=!!t},enumerable:!0,configurable:!0}),I.prototype.playOnceAndDestroy=function(t){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=t},I.prototype.playOnce=function(t){this.emit=!0,this._completeCallback=t},I.prototype.update=function(t){if(this._autoUpdate&&(t=t/_.settings.TARGET_FPMS/1e3),this._parent){for(var e,i,r,n=this._activeParticlesFirst;n;n=e)e=n.next,n.update(t);this._prevPosIsValid&&(i=this._prevEmitterPos.x,r=this._prevEmitterPos.y);var s,o=this.ownerPos.x+this.spawnPos.x,a=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=t<0?0:t;this._spawnTimer<=0;){if(0<=this._emitterLife&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var h=void 0,h=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime;if(-this._spawnTimer<h){var u,l=void 0,c=void 0;c=this._prevPosIsValid&&this._posChanged?(l=(o-i)*(u=1+this._spawnTimer/t)+i,(a-r)*u+r):(l=o,a);for(var p,d=0,f=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);d<f;++d)this.spawnChance<1&&Math.random()>=this.spawnChance||(p=void 0,this._poolFirst?(p=this._poolFirst,this._poolFirst=this._poolFirst.next,p.next=null):p=new this.particleConstructor(this),1<this.particleImages.length?-1!==this._currentImageIndex?(p.applyArt(this.particleImages[this._currentImageIndex++]),(this._currentImageIndex<0||this._currentImageIndex>=this.particleImages.length)&&(this._currentImageIndex=0)):p.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):p.applyArt(this.particleImages[0]),p.alphaList.reset(this.startAlpha),1!==this.minimumSpeedMultiplier&&(p.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),p.speedList.reset(this.startSpeed),p.acceleration.x=this.acceleration.x,p.acceleration.y=this.acceleration.y,p.maxSpeed=this.maxSpeed,1!==this.minimumScaleMultiplier&&(p.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier),p.scaleList.reset(this.startScale),p.colorList.reset(this.startColor),this.minRotationSpeed===this.maxRotationSpeed?p.rotationSpeed=this.minRotationSpeed:p.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,p.rotationAcceleration=this.rotationAcceleration,p.noRotation=this.noRotation,p.maxLife=h,p.blendMode=this.particleBlendMode,p.ease=this.customEase,p.extraData=this.extraData,this.applyAdditionalProperties(p),this._spawnFunc(p,l,c,d),p.init(),this.addAtBack?this._parent.addChildAt(p,0):this._parent.addChild(p),this._activeParticlesLast?((this._activeParticlesLast.next=p).prev=this._activeParticlesLast,this._activeParticlesLast=p):this._activeParticlesLast=this._activeParticlesFirst=p,++this.particleCount,p.update(-this._spawnTimer))}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=o,this._prevEmitterPos.y=a,this._prevPosIsValid=!0,this._posChanged=!1),this._emit||this._activeParticlesFirst||(this._completeCallback&&(s=this._completeCallback,this._completeCallback=null,s()),this._destroyWhenComplete&&this.destroy())}},I.prototype.applyAdditionalProperties=function(t){},I.prototype._spawnPoint=function(t,e,i){this.minStartRotation===this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,t.position.x=e,t.position.y=i},I.prototype._spawnRect=function(t,e,i){this.minStartRotation===this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,E.x=Math.random()*this.spawnRect.width+this.spawnRect.x,E.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&h.ParticleUtils.rotatePoint(this.rotation,E),t.position.x=e+E.x,t.position.y=i+E.y},I.prototype._spawnCircle=function(t,e,i){this.minStartRotation===this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,E.x=Math.random()*this.spawnCircle.radius,E.y=0,h.ParticleUtils.rotatePoint(360*Math.random(),E),E.x+=this.spawnCircle.x,E.y+=this.spawnCircle.y,0!==this.rotation&&h.ParticleUtils.rotatePoint(this.rotation,E),t.position.x=e+E.x,t.position.y=i+E.y},I.prototype._spawnRing=function(t,e,i){var r=this.spawnCircle;this.minStartRotation===this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,r.minRadius!==r.radius?E.x=Math.random()*(r.radius-r.minRadius)+r.minRadius:E.x=r.radius,E.y=0;r=360*Math.random();t.rotation+=r,h.ParticleUtils.rotatePoint(r,E),E.x+=this.spawnCircle.x,E.y+=this.spawnCircle.y,0!==this.rotation&&h.ParticleUtils.rotatePoint(this.rotation,E),t.position.x=e+E.x,t.position.y=i+E.y},I.prototype._spawnPolygonalChain=function(t,e,i){this.minStartRotation===this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,this.spawnPolygonalChain.getRandomPoint(E),0!==this.rotation&&h.ParticleUtils.rotatePoint(this.rotation,E),t.position.x=e+E.x,t.position.y=i+E.y},I.prototype._spawnBurst=function(t,e,i,r){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*r+this.rotation,t.position.x=e,t.position.y=i},I.prototype.cleanup=function(){for(var t,e=this._activeParticlesFirst;e;e=t)t=e.next,this.recycle(e),e.parent&&e.parent.removeChild(e);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},I.prototype.destroy=function(){var t;this.autoUpdate=!1,this.cleanup();for(var e=this._poolFirst;e;e=t)t=e.next,e.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},I);function I(t,e,i){this._currentImageIndex=-1,this._particleConstructor=v,this.particleImages=null,this.startAlpha=null,this.startSpeed=null,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=null,this.minimumScaleMultiplier=1,this.startColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.spawnPolygonalChain=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._currentImageIndex=-1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=t,e&&i&&this.init(e,i),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}var A=new _.Point,C=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],O=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(C).join("|"),"g");var L,M=(i(D,L=v),D.prototype.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y},D.prototype.update=function(t){var e,i=this.Particle_update(t);return 0<=i&&this.path&&(e=this._doSpeed?this.speedList.interpolate(i)*this.speedMultiplier:this.speedList.current.value*this.speedMultiplier,this.movement+=e*t,A.x=this.movement,A.y=this.path(this.movement),h.ParticleUtils.rotatePoint(this.initialRotation,A),this.position.x=this.initialPosition.x+A.x,this.position.y=this.initialPosition.y+A.y),i},D.prototype.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},D.parseArt=function(t){return v.parseArt(t)},D.parseData=function(t){var e={};if(t&&t.path)try{e.path=function(t){for(var e=t.match(O),i=e.length-1;0<=i;--i)0<=C.indexOf(e[i])&&(e[i]="Math."+e[i]);return t=e.join(""),new Function("x","return "+t+";")}(t.path)}catch(t){h.ParticleUtils.verbose&&console.error("PathParticle: error in parsing path expression"),e.path=null}else h.ParticleUtils.verbose&&console.error("PathParticle requires a path string in extraData!"),e.path=null;return e},D);function D(t){t=L.call(this,t)||this;return t.path=null,t.initialRotation=0,t.initialPosition=new _.Point,t.movement=0,t}var R,t=(i(N,R=v),N.prototype.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},N.prototype.applyArt=function(t){this.textures=t.textures,this.framerate=t.framerate,this.duration=t.duration,this.loop=t.loop},N.prototype.update=function(t){var e=this.Particle_update(t);return 0<=e&&(this.elapsed+=t,this.elapsed>=this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6),t=this.elapsed*this.framerate+1e-7|0,this.texture=this.textures[t]||this.textures[this.textures.length-1]||_.Texture.EMPTY),e},N.prototype.destroy=function(){this.Particle_destroy(),this.textures=null},N.parseArt=function(t){for(var e=[],i=0;i<t.length;++i){for(var r=t[i],n=e[i]={},s=n.textures=[],o=r.textures,a=0;a<o.length;++a)if("string"==typeof(u=o[a]))s.push(l(u));else if(u instanceof _.Texture)s.push(u);else for(var h=u.count||1,u="string"==typeof u.texture?l(u.texture):u.texture;0<h;--h)s.push(u);"matchLife"===r.framerate?(n.framerate=-1,n.duration=0,n.loop=!1):(n.loop=!!r.loop,n.framerate=0<r.framerate?r.framerate:60,n.duration=s.length/n.framerate)}return e},N);function N(t){t=R.call(this,t)||this;return t.textures=null,t.duration=0,t.framerate=0,t.elapsed=0,t.loop=!1,t}var B,P=(i(k,B=_.Container),Object.defineProperty(k.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"childCount",{get:function(){return this._childCount},enumerable:!0,configurable:!0}),k.prototype.addChild=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1<t.length)for(var i=0;i<t.length;i++)this.addChild(t[i]);else{var r=t[0];r.parent&&r.parent.removeChild(r),(r.parent=this).sortDirty=!0,r.transform._parentID=-1,this._lastChild?((this._lastChild.nextChild=r).prevChild=this._lastChild,this._lastChild=r):this._firstChild=this._lastChild=r,++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",r,this,this._childCount),r.emit("added",this)}return t[0]},k.prototype.addChildAt=function(t,e){if(e<0||e>this._childCount)throw new Error("addChildAt: The index "+e+" supplied is out of bounds "+this._childCount);t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1;var i=t;if(this._firstChild)if(0===e)(this._firstChild.prevChild=i).nextChild=this._firstChild,this._firstChild=i;else if(e===this._childCount)(this._lastChild.nextChild=i).prevChild=this._lastChild,this._lastChild=i;else{for(var r=0,n=this._firstChild;r<e;)n=n.nextChild,++r;(n.prevChild.nextChild=i).prevChild=n.prevChild,(i.nextChild=n).prevChild=i}else this._firstChild=this._lastChild=i;return++this._childCount,this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},k.prototype.addChildBelow=function(t,e){if(e.parent!==this)throw new Error("addChildBelow: The relative target must be a child of this parent");return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,(e.prevChild.nextChild=t).prevChild=e.prevChild,(t.nextChild=e).prevChild=t,this._firstChild===e&&(this._firstChild=t),++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",t,this,this._childCount),t.emit("added",this),t},k.prototype.addChildAbove=function(t,e){if(e.parent!==this)throw new Error("addChildBelow: The relative target must be a child of this parent");return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,(e.nextChild.prevChild=t).nextChild=e.nextChild,(t.prevChild=e).nextChild=t,this._lastChild===e&&(this._lastChild=t),++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",t,this,this._childCount),t.emit("added",this),t},k.prototype.swapChildren=function(t,e){var i,r;t!==e&&t.parent===this&&e.parent===this&&(i=t.prevChild,r=t.nextChild,t.prevChild=e.prevChild,t.nextChild=e.nextChild,e.prevChild=i,e.nextChild=r,this._firstChild===t?this._firstChild=e:this._firstChild===e&&(this._firstChild=t),this._lastChild===t?this._lastChild=e:this._lastChild===e&&(this._lastChild=t),this.onChildrenChange())},k.prototype.getChildIndex=function(t){for(var e=0,i=this._firstChild;i&&i!==t;)i=i.nextChild,++e;if(!i)throw new Error("The supplied DisplayObject must be a child of the caller");return e},k.prototype.setChildIndex=function(t,e){if(e<0||e>=this._childCount)throw new Error("The index "+e+" supplied is out of bounds "+this._childCount);if(t.parent!==this)throw new Error("The supplied DisplayObject must be a child of the caller");if(t.nextChild&&(t.nextChild.prevChild=t.prevChild),t.prevChild&&(t.prevChild.nextChild=t.nextChild),this._firstChild===t&&(this._firstChild=t.nextChild),this._lastChild===t&&(this._lastChild=t.prevChild),t.nextChild=null,t.prevChild=null,this._firstChild)if(0===e)(this._firstChild.prevChild=t).nextChild=this._firstChild,this._firstChild=t;else if(e===this._childCount)(this._lastChild.nextChild=t).prevChild=this._lastChild,this._lastChild=t;else{for(var i=0,r=this._firstChild;i<e;)r=r.nextChild,++i;(r.prevChild.nextChild=t).prevChild=r.prevChild,(t.nextChild=r).prevChild=t}else this._firstChild=this._lastChild=t;this.onChildrenChange(e)},k.prototype.removeChild=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1<t.length)for(var i=0;i<t.length;i++)this.removeChild(t[i]);else{var r=t[0];if(r.parent!==this)return null;r.parent=null,r.transform._parentID=-1,r.nextChild&&(r.nextChild.prevChild=r.prevChild),r.prevChild&&(r.prevChild.nextChild=r.nextChild),this._firstChild===r&&(this._firstChild=r.nextChild),this._lastChild===r&&(this._lastChild=r.prevChild),r.nextChild=null,r.prevChild=null,--this._childCount,this._boundsID++,this.onChildrenChange(),r.emit("removed",this),this.emit("childRemoved",r,this)}return t[0]},k.prototype.getChildAt=function(t){if(t<0||t>=this._childCount)throw new Error("getChildAt: Index ("+t+") does not exist.");if(0===t)return this._firstChild;if(t===this._childCount)return this._lastChild;for(var e=0,i=this._firstChild;e<t;)i=i.nextChild,++e;return i},k.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,e.nextChild&&(e.nextChild.prevChild=e.prevChild),e.prevChild&&(e.prevChild.nextChild=e.nextChild),this._firstChild===e&&(this._firstChild=e.nextChild),this._lastChild===e&&(this._lastChild=e.prevChild),e.nextChild=null,e.prevChild=null,--this._childCount,this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},k.prototype.removeChildren=function(t,e){var i=t=void 0===t?0:t,r=e=void 0===e?this._childCount:e,n=r-i;if(0<n&&n<=r){for(var s=[],o=this._firstChild,a=0;a<=r&&o;++a,o=o.nextChild)i<=a&&s.push(o);var h=s[0].prevChild,e=s[s.length-1].nextChild;e?e.prevChild=h:this._lastChild=h,h?h.nextChild=e:this._firstChild=e;for(a=0;a<s.length;++a)s[a].parent=null,s[a].transform&&(s[a].transform._parentID=-1),s[a].nextChild=null,s[a].prevChild=null;this._boundsID++,this.onChildrenChange(t);for(a=0;a<s.length;++a)s[a].emit("removed",this),this.emit("childRemoved",s[a],this,a);return s}if(0==n&&0===this._childCount)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},k.prototype.updateTransform=function(){var t,e;for(this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,t=this._firstChild;t;t=e)e=t.nextChild,t.visible&&t.updateTransform()},k.prototype.calculateBounds=function(){var t;for(this._bounds.clear(),this._calculateBounds(),t=this._firstChild;t;t=i){var e,i=t.nextChild;t.visible&&t.renderable&&(t.calculateBounds(),t._mask?((e=t._mask.maskObject||t._mask).calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._bounds.updateID=this._boundsID},k.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=_.DisplayObject.prototype.getLocalBounds.call(this,t);if(!e)for(var i,r=void 0,r=this._firstChild;r;r=i)i=r.nextChild,r.visible&&r.updateTransform();return t},k.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e,i=void 0,i=this._firstChild;i;i=e)e=i.nextChild,i.render(t)}},k.prototype.renderAdvanced=function(t){t.batch.flush();var e,i,r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]);for(var s=this._enabledFilters.length=0;s<r.length;s++)r[s].enabled&&this._enabledFilters.push(r[s]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}for(n&&t.mask.push(this,this._mask),this._render(t),e=this._firstChild;e;e=i)i=e.nextChild,e.render(t);t.batch.flush(),n&&t.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},k.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e,i=void 0,i=this._firstChild;i;i=e)e=i.nextChild,i.renderWebGL(t)}},k.prototype.renderAdvancedWebGL=function(t){t.flush();var e,i,r=this._filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]);for(var s=this._enabledFilters.length=0;s<r.length;s++)r[s].enabled&&this._enabledFilters.push(r[s]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}for(n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t),e=this._firstChild;e;e=i)i=e.nextChild,e.renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),r&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},k.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,i;for(this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t),e=this._firstChild;e;e=i)i=e.nextChild,e.renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},k);function k(){var t=null!==B&&B.apply(this,arguments)||this;return t._firstChild=null,t._lastChild=null,t._childCount=0,t}h.AnimatedParticle=t,h.Emitter=S,h.GetTextureFromString=l,h.LinkedListContainer=P,h.Particle=v,h.PathParticle=M,h.PolygonalChain=b,h.PropertyList=m,h.PropertyNode=c}(this.PIXI.particles=this.PIXI.particles||{},PIXI);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var P,y,v,x,g,e,b,T,m,t;function p(t,e,i,r,n,s){var o,a,h,u,l,c,p,d,f={},_=[],m=s||t[0];for(a in n="string"==typeof n?","+n+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])_.push(a);if(1<t.length){for(d=t[t.length-1],p=!0,o=_.length;-1<--o;)if(a=_[o],.05<Math.abs(m[a]-d[a])){p=!1;break}p&&(t=t.concat(),s&&t.unshift(s),t.push(t[1]),s=t[t.length-3])}for(y.length=v.length=x.length=0,o=_.length;-1<--o;)a=_[o],g[a]=-1!==n.indexOf(","+a+","),f[a]=function(t,e,i,r){var n,s,o,a,h,u,l=[];if(r)for(s=(t=[r].concat(t)).length;-1<--s;)"string"==typeof(u=t[s][e])&&"="===u.charAt(1)&&(t[s][e]=r[e]+Number(u.charAt(0)+u.substr(2)));if((n=t.length-2)<0)return l[0]=new b(t[0][e],0,0,t[0][e]),l;for(s=0;s<n;s++)o=t[s][e],a=t[s+1][e],l[s]=new b(o,0,0,a),i&&(h=t[s+2][e],y[s]=(y[s]||0)+(a-o)*(a-o),v[s]=(v[s]||0)+(h-a)*(h-a));return l[s]=new b(t[s][e],0,0,t[s+1][e]),l}(t,a,g[a],s);for(o=y.length;-1<--o;)y[o]=Math.sqrt(y[o]),v[o]=Math.sqrt(v[o]);if(!r){for(o=_.length;-1<--o;)if(g[a])for(c=(h=f[_[o]]).length-1,u=0;u<c;u++)l=h[u+1].da/v[u]+h[u].da/y[u]||0,x[u]=(x[u]||0)+l*l;for(o=x.length;-1<--o;)x[o]=Math.sqrt(x[o])}for(o=_.length,u=i?4:1;-1<--o;)(function(t,e,i,r,n){for(var s,o,a,h,u,l,c,p,d,f=t.length-1,_=0,m=t[0].a,g=0;g<f;g++)s=(a=t[_]).a,o=a.d,u=t[_+1].d,u=n?(c=y[g],d=((p=v[g])+c)*e*.25/(!r&&x[g]||.5),o-((h=o-(o-s)*(r?.5*e:0!==c?d/c:0))+(((d=o+(u-o)*(r?.5*e:0!==p?d/p:0))-h)*(3*c/(c+p)+.5)/4||0))):o-((h=o-(o-s)*e*.5)+(d=o+(u-o)*e*.5))/2,d+=u,a.c=u=h+=u,a.b=0!==g?m:m=a.a+.6*(a.c-a.a),a.da=o-s,a.ca=u-s,a.ba=m-s,i?(l=T(s,m,u,o),t.splice(_,1,l[0],l[1],l[2],l[3]),_+=4):_++,m=d;(a=t[_]).b=m,a.c=m+.4*(a.d-m),a.da=a.d-a.a,a.ca=a.c-a.a,a.ba=m-a.a,i&&(l=T(a.a,m,a.c,a.d),t.splice(_,1,l[0],l[1],l[2],l[3]))})(h=f[a=_[o]],e,i,r,g[a]),p&&(h.splice(0,u),h.splice(h.length-u,u));return f}function d(t,e){var i,r,n,s,o=[],a=[],h=0,u=0,l=(e=e>>0||6)-1,c=[],p=[];for(i in t)!function(t,e,i){for(var r,n,s,o,a,h,u,l,c,p,d=1/i,f=t.length;-1<--f;)for(s=(c=t[f]).a,o=c.d-s,a=c.c-s,h=c.b-s,n=0,u=1;u<=i;u++)r=n-(n=((p=d*u)*p*o+3*(l=1-p)*(p*a+l*h))*p),e[p=f*i+u-1]=(e[p]||0)+r*r}(t[i],o,e);for(n=o.length,r=0;r<n;r++)h+=Math.sqrt(o[r]),p[s=r%e]=h,s==l&&(u+=h,c[s=r/e>>0]=p,a[s]=u,h=0,p=[]);return{length:u,lengths:a,segments:c}}_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(r,l,m){function g(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e}function y(t,e,i){var r,n,s=t.cycle;for(r in s)n=s[r],t[r]="function"==typeof n?n(i,e[i]):n[i%n.length];delete t.cycle}function v(t,e,i){m.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=v.prototype.render}var x=1e-10,b=m._internals,T=b.isSelector,P=b.isArray,t=v.prototype=m.to({},.1,{}),w=[];v.version="1.20.4",t.constructor=v,t.kill()._gc=!1,v.killTweensOf=v.killDelayedCallsTo=m.killTweensOf,v.getTweensOf=m.getTweensOf,v.lagSmoothing=m.lagSmoothing,v.ticker=m.ticker,v.render=m.render,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),m.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,r=this.ratio,n=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||n)if(e)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&m._onPluginEvent("_onDisable",this),.998<this._time/this._duration){e=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(e,!0,!1)}else if(this._initted=!1,this._init(),0<this._time||n)for(var s,o=1/(1-r),a=this._firstPT;a;)s=a.s+a.c,a.c*=o,a.s=s-a.c,a=a._next;return this},t.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,n,s,o,a,h,u,l=this._dirty?this.totalDuration():this._totalDuration,c=this._time,p=this._totalTime,d=this._cycle,f=this._duration,_=this._rawPrevTime;if(l-1e-7<=t&&0<=t?(this._totalTime=l,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=f,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0!==f||!this._initted&&this.vars.lazy&&!i||(this._startTime===this._timeline._duration&&(t=0),(_<0||t<=0&&-1e-7<=t||_===x&&"isPause"!==this.data)&&_!==t&&(i=!0,x<_&&(n="onReverseComplete")),this._rawPrevTime=h=!e||t||_===t?t:x)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===f&&0<_)&&(n="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0!==f||!this._initted&&this.vars.lazy&&!i||(0<=_&&(i=!0),this._rawPrevTime=h=!e||t||_===t?t:x)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(a=f+this._repeatDelay,this._cycle=this._totalTime/a>>0,0!==this._cycle&&this._cycle===this._totalTime/a&&p<=t&&this._cycle--,this._time=this._totalTime-this._cycle*a,this._yoyo&&0!=(1&this._cycle)&&(this._time=f-this._time,(u=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==u||this._initted?this._yoyoEase=u=!0===u?this._ease:u instanceof Ease?u:Ease.map[u]:(u=this.vars.ease,this._yoyoEase=u=u?u instanceof Ease?u:"function"==typeof u?new Ease(u,this.vars.easeParams):Ease.map[u]||m.defaultEase:m.defaultEase)),this.ratio=u?1-u.getRatio((f-this._time)/f):0)),this._time>f?this._time=f:this._time<0&&(this._time=0)),this._easeType&&!u?(o=this._time/f,(1===(l=this._easeType)||3===l&&.5<=o)&&(o=1-o),3===l&&(o*=2),1===(a=this._easePower)?o*=o:2===a?o*=o*o:3===a?o*=o*o*o:4===a&&(o*=o*o*o*o),1===l?this.ratio=1-o:2===l?this.ratio=o:this._time/f<.5?this.ratio=o/2:this.ratio=1-o/2):u||(this.ratio=this._ease.getRatio(this._time/f))),c!==this._time||i||d!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=c,this._totalTime=p,this._rawPrevTime=_,this._cycle=d,b.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||u?r&&this._ease._calcEnd&&!u&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/f)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==c&&0<=t&&(this._active=!0),0===p&&(2===this._initted&&0<t&&this._init(),this._startAt&&(0<=t?this._startAt.render(t,!0,i):n=n||"_dummyGS"),!this.vars.onStart||0===this._totalTime&&0!==f||(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,i),e||this._totalTime===p&&!n||this._callback("onUpdate")),this._cycle!==d&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),!n||this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===f&&this._rawPrevTime===x&&h!==x&&(this._rawPrevTime=0))}else p!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},v.to=function(t,e,i){return new v(t,e,i)},v.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new v(t,e,i)},v.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new v(t,e,r)},v.staggerTo=v.allTo=function(t,e,i,r,n,s,o){r=r||0;function a(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),n.apply(o||i.callbackScope||this,s||w)}var h,u,l,c,p=0,d=[],f=i.cycle,_=i.startAt&&i.startAt.cycle;for(P(t)||("string"==typeof t&&(t=m.selector(t)||t),T(t)&&(t=g(t))),t=t||[],r<0&&((t=g(t)).reverse(),r*=-1),h=t.length-1,l=0;l<=h;l++){for(c in u={},i)u[c]=i[c];if(f&&(y(u,t,l),null!=u.duration&&(e=u.duration,delete u.duration)),_){for(c in _=u.startAt={},i.startAt)_[c]=i.startAt[c];y(u.startAt,t,l)}u.delay=p+(u.delay||0),l===h&&n&&(u.onComplete=a),d[l]=new v(t[l],e,u),p+=r}return d},v.staggerFrom=v.allFrom=function(t,e,i,r,n,s,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,v.staggerTo(t,e,i,r,n,s,o)},v.staggerFromTo=v.allFromTo=function(t,e,i,r,n,s,o,a){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,v.staggerTo(t,e,r,n,s,o,a)},v.delayedCall=function(t,e,i,r,n){return new v(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:n,overwrite:0})},v.set=function(t,e){return new v(t,0,e)},v.isTweening=function(t){return 0<m.getTweensOf(t,!0).length};function s(t,e){for(var i=[],r=0,n=t._first;n;)n instanceof m?i[r++]=n:(e&&(i[r++]=n),r=(i=i.concat(s(n,e))).length),n=n._next;return i}var c=v.getAllTweens=function(t){return s(r._rootTimeline,t).concat(s(r._rootFramesTimeline,t))};v.killAll=function(t,e,i,r){null==e&&(e=!0),null==i&&(i=!0);for(var n,s,o=c(0!=r),a=o.length,h=e&&i&&r,u=0;u<a;u++)s=o[u],(h||s instanceof l||(n=s.target===s.vars.onComplete)&&i||e&&!n)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},v.killChildTweensOf=function(t,e){if(null!=t){var i,r,n,s,o,a=b.tweenLookup;if("string"==typeof t&&(t=m.selector(t)||t),T(t)&&(t=g(t)),P(t))for(s=t.length;-1<--s;)v.killChildTweensOf(t[s],e);else{for(n in i=[],a)for(r=a[n].target.parentNode;r;)r===t&&(i=i.concat(a[n].tweens)),r=r.parentNode;for(o=i.length,s=0;s<o;s++)e&&i[s].totalTime(i[s].totalDuration()),i[s]._enabled(!1,!1)}}};function n(t,e,i,r){e=!1!==e,i=!1!==i;for(var n,s,o=c(r=!1!==r),a=e&&i&&r,h=o.length;-1<--h;)s=o[h],(a||s instanceof l||(n=s.target===s.vars.onComplete)&&i||e&&!n)&&s.paused(t)}return v.pauseAll=function(t,e,i){n(!0,t,e,i)},v.resumeAll=function(t,e,i){n(!1,t,e,i)},v.globalTimeScale=function(t){var e=r._rootTimeline,i=m.ticker.time;return arguments.length?(e._startTime=i-(i-e._startTime)*e._timeScale/(t=t||x),e=r._rootFramesTimeline,i=m.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=r._rootTimeline._timeScale=t):e._timeScale},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.duration=function(t){return arguments.length?r.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},v},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(l,c,p){function d(t){c.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,r=this.vars;for(i in r)e=r[i],y(e)&&-1!==e.join("").indexOf("{self}")&&(r[i]=this._swapSelfInParams(e));y(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)}function f(t){var e,i={};for(e in t)i[e]=t[e];return i}function _(t,e,i){var r,n,s=t.cycle;for(r in s)n=s[r],t[r]="function"==typeof n?n(i,e[i]):n[i%n.length];delete t.cycle}function m(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e}var t=p._internals,e=d._internals={},g=t.isSelector,y=t.isArray,v=t.lazyTweens,x=t.lazyRender,o=_gsScope._gsDefine.globals,n=e.pauseCallback=function(){},e=d.prototype=new c;return d.version="1.20.4",e.constructor=d,e.kill()._gc=e._forcingPlayhead=e._hasPause=!1,e.to=function(t,e,i,r){var n=i.repeat&&o.TweenMax||p;return e?this.add(new n(t,e,i),r):this.set(t,i,r)},e.from=function(t,e,i,r){return this.add((i.repeat&&o.TweenMax||p).from(t,e,i),r)},e.fromTo=function(t,e,i,r,n){var s=r.repeat&&o.TweenMax||p;return e?this.add(s.fromTo(t,e,i,r),n):this.set(t,r,n)},e.staggerTo=function(t,e,i,r,n,s,o,a){var h,u,l=new d({onComplete:s,onCompleteParams:o,callbackScope:a,smoothChildTiming:this.smoothChildTiming}),c=i.cycle;for("string"==typeof t&&(t=p.selector(t)||t),g(t=t||[])&&(t=m(t)),(r=r||0)<0&&((t=m(t)).reverse(),r*=-1),u=0;u<t.length;u++)(h=f(i)).startAt&&(h.startAt=f(h.startAt),h.startAt.cycle&&_(h.startAt,t,u)),c&&(_(h,t,u),null!=h.duration&&(e=h.duration,delete h.duration)),l.to(t[u],e,h,u*r);return this.add(l,n)},e.staggerFrom=function(t,e,i,r,n,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,r,n,s,o,a)},e.staggerFromTo=function(t,e,i,r,n,s,o,a,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,r,n,s,o,a,h)},e.call=function(t,e,i,r){return this.add(p.delayedCall(0,t,e,i),r)},e.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new p(t,0,e),i)},d.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,r,n,s,o=new d(t),t=o._timeline;for(null==e&&(e=!0),t._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=t._time,n=t._first;n;)s=n._next,e&&n instanceof p&&n.target===n.vars.onComplete||((r=n._startTime-n._delay)<0&&(i=1),o.add(n,r)),n=s;return t.add(o,0),i&&o.totalDuration(),o},e.add=function(t,e,i,r){var n,s,o,a,h,u;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof l)){if(t instanceof Array||t&&t.push&&y(t)){for(i=i||"normal",r=r||0,n=e,s=t.length,o=0;o<s;o++)y(a=t[o])&&(a=new d({tweens:a})),this.add(a,n),"string"!=typeof a&&"function"!=typeof a&&("sequence"===i?n=a._startTime+a.totalDuration()/a._timeScale:"start"===i&&(a._startTime-=a.delay())),n+=r;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=p.delayedCall(0,t)}if(c.prototype.add.call(this,t,e),t._time&&t.render((this.rawTime()-t._startTime)*t._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(u=(h=this).rawTime()>t._startTime;h._timeline;)u&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},e.remove=function(t){if(t instanceof l){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?l._rootFramesTimeline:l._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&y(t)){for(var i=t.length;-1<--i;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},e._remove=function(t,e){return c.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},e.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},e.insert=e.insertMultiple=function(t,e,i,r){return this.add(t,e||0,i,r)},e.appendMultiple=function(t,e,i,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,r)},e.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},e.addPause=function(t,e,i,r){r=p.delayedCall(0,n,i,r||this);return r.vars.onComplete=r.vars.onReverseComplete=e,r.data="isPause",this._hasPause=!0,this.add(r,t)},e.removeLabel=function(t){return delete this._labels[t],this},e.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},e._parseTimeOrLabel=function(t,e,i,r){var n,s;if(r instanceof l&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&y(r)))for(s=r.length;-1<--s;)r[s]instanceof l&&r[s].timeline===this&&this.remove(r[s]);if(n="number"!=typeof t||e?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-n:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=n);else{if(-1===(s=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=n+e:e:this._labels[t]+e;e=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=1<s?this._parseTimeOrLabel(t.substr(0,s-1),0,i):n}return Number(t)+e},e.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},e.stop=function(){return this.paused(!0)},e.gotoAndPlay=function(t,e){return this.play(t,e)},e.gotoAndStop=function(t,e){return this.pause(t,e)},e.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,o,a,h,u,l=this._time,c=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,d=this._timeScale,f=this._paused;if(l!==this._time&&(t+=this._time-l),c-1e-7<=t&&0<=t)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(a=!0,1e-10<this._rawPrevTime&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=c+1e-4;else if(t<1e-7)if(((this._totalTime=this._time=0)!==l||0===this._duration&&1e-10!==this._rawPrevTime&&(0<this._rawPrevTime||t<0&&0<=this._rawPrevTime))&&(o="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=n=!0,o="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(l<=t)for(r=this._first;r&&r._startTime<=t&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(h=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!h;)r._duration||"isPause"===r.data&&0<r._rawPrevTime&&(h=r),r=r._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==l&&this._first||i||a||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==l&&0<t&&(this._active=!0),0===l&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),l<=(u=this._time))for(r=this._first;r&&(s=r._next,u===this._time&&(!this._paused||f));)(r._active||r._startTime<=u&&!r._paused&&!r._gc)&&(h===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=this._last;r&&(s=r._prev,u===this._time&&(!this._paused||f));){if(r._active||r._startTime<=l&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)}r=s}this._onUpdate&&(e||(v.length&&x(),this._callback("onUpdate"))),o&&(this._gc||p!==this._startTime&&d===this._timeScale||!(0===this._time||c>=this.totalDuration())||(n&&(v.length&&x(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},e._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof d&&t._hasPausedChild())return!0;t=t._next}return!1},e.getChildren=function(t,e,i,r){r=r||-9999999999;for(var n=[],s=this._first,o=0;s;)s._startTime<r||(s instanceof p?!1!==e&&(n[o++]=s):(!1!==i&&(n[o++]=s),!1!==t&&(o=(n=n.concat(s.getChildren(!0,e,i))).length))),s=s._next;return n},e.getTweensOf=function(t,e){var i,r,n=this._gc,s=[],o=0;for(n&&this._enabled(!0,!0),r=(i=p.getTweensOf(t)).length;-1<--r;)(i[r].timeline===this||e&&this._contains(i[r]))&&(s[o++]=i[r]);return n&&this._enabled(!1,!0),s},e.recent=function(){return this._recent},e._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},e.shiftChildren=function(t,e,i){i=i||0;for(var r,n=this._first,s=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(r in s)s[r]>=i&&(s[r]+=t);return this._uncache(!0)},e._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=i.length,n=!1;-1<--r;)i[r]._kill(t,e)&&(n=!0);return n},e.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},e.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return l.prototype.invalidate.call(this)},e._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return c.prototype._enabled.call(this,t,e)},e.totalTime=function(t,e,i){this._forcingPlayhead=!0;var r=l.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},e.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},e.totalDuration=function(t){if(arguments.length)return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this;if(this._dirty){for(var e,i,r=0,n=this._last,s=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>s&&this._sortChildren&&!n._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(n,n._startTime-n._delay),this._calculatingDuration=0):s=n._startTime,n._startTime<0&&!n._paused&&(r-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale,this._time-=n._startTime,this._totalTime-=n._startTime,this._rawPrevTime-=n._startTime),this.shiftChildren(-n._startTime,!1,-9999999999),s=0),r<(i=n._startTime+n._totalDuration/n._timeScale)&&(r=i),n=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration},e.paused=function(t){if(!t)for(var e=this._first,i=this._time;e;)e._startTime===i&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return l.prototype.paused.apply(this,arguments)},e.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===l._rootFramesTimeline},e.rawTime=function(t){return t&&(this._paused||this._repeat&&0<this.time()&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,a,t){function i(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0}var r=a._internals,E=r.lazyTweens,S=r.lazyRender,h=_gsScope._gsDefine.globals,u=new t(null,null,1,0),t=i.prototype=new e;return t.constructor=i,t.kill()._gc=!1,i.version="1.20.4",t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},t.addCallback=function(t,e,i,r){return this.add(a.delayedCall(0,t,i,r),e)},t.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),r=i.length,n=this._parseTimeOrLabel(e);-1<--r;)i[r]._startTime===n&&i[r]._enabled(!1,!1);return this},t.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},t.tweenTo=function(t,e){e=e||{};var i,r,n,s={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},o=e.repeat&&h.TweenMax||a;for(r in e)s[r]=e[r];return s.time=this._parseTimeOrLabel(t),i=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,n=new o(this,i,s),s.onStart=function(){n.target.paused(!0),n.vars.time===n.target.time()||i!==n.duration()||n.isFromTo||n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale).render(n.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||n,e.onStartParams||[])},n},t.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;i=this.tweenTo(e,i);return i.isFromTo=1,i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},t.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,o,a,h,u,l=this._time,c=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,d=this._totalTime,f=this._startTime,_=this._timeScale,m=this._rawPrevTime,g=this._paused,y=this._cycle;if(l!==this._time&&(t+=this._time-l),c-1e-7<=t&&0<=t)this._locked||(this._totalTime=c,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||m<0||1e-10===m)&&m!==t&&this._first&&(a=!0,1e-10<m&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:t=(this._time=p)+1e-4;else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),((this._time=0)!==l||0===p&&1e-10!==m&&(0<m||t<0&&0<=m)&&!this._locked)&&(o="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=n=!0,o="onReverseComplete"):0<=m&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=p||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,this._initted||(a=!0)}else if(0===p&&m<0&&(a=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(w=p+this._repeatDelay,this._cycle=this._totalTime/w>>0,0!==this._cycle&&this._cycle===this._totalTime/w&&d<=t&&this._cycle--,this._time=this._totalTime-this._cycle*w,this._yoyo&&0!=(1&this._cycle)&&(this._time=p-this._time),this._time>p?t=(this._time=p)+1e-4:this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(l<=(t=this._time)||this._repeat&&y!==this._cycle)for(r=this._first;r&&r._startTime<=t&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(h=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!h;)r._duration||"isPause"===r.data&&0<r._rawPrevTime&&(h=r),r=r._prev;h&&h._startTime<p&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==y&&!this._locked){var v=this._yoyo&&0!=(1&y),x=v===(this._yoyo&&0!=(1&this._cycle)),b=this._totalTime,T=this._cycle,P=this._rawPrevTime,w=this._time;if(this._totalTime=y*p,this._cycle<y?v=!v:this._totalTime+=p,this._time=l,this._rawPrevTime=0===p?m-1e-4:m,this._cycle=y,this._locked=!0,this.render(l=v?0:p,e,0===p),e||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),l!==this._time)return;if(x&&(this._cycle=y,this._locked=!0,this.render(l=v?p+1e-4:-1e-4,!0,!1)),this._locked=!1,this._paused&&!g)return;this._time=w,this._totalTime=b,this._cycle=T,this._rawPrevTime=P}if(this._time!==l&&this._first||i||a||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==d&&0<t&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),l<=(u=this._time))for(r=this._first;r&&(s=r._next,u===this._time&&(!this._paused||g));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(h===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=this._last;r&&(s=r._prev,u===this._time&&(!this._paused||g));){if(r._active||r._startTime<=l&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)}r=s}this._onUpdate&&(e||(E.length&&S(),this._callback("onUpdate"))),o&&(this._locked||this._gc||f!==this._startTime&&_===this._timeScale||!(0===this._time||c>=this.totalDuration())||(n&&(E.length&&S(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}else d!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},t.getActive=function(t,e,i){for(var r,n=[],s=this.getChildren(t=null==t?!0:t,e=null==e?!0:e,i=null==i?!1:i),o=0,a=s.length,h=0;h<a;h++)(r=s[h]).isActive()&&(n[o++]=r);return n},t.getLabelAfter=function(t){t||0!==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length,r=0;r<i;r++)if(e[r].time>t)return e[r].name;return null},t.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(e[i].time<t)return e[i].name;return null},t.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},t.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},t.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},t.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),P=180/Math.PI,y=[],v=[],x=[],g={},e=_gsScope._gsDefine.globals,b=function(t,e,i,r){i===r&&(i=r-(r-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=r,this.da=r-t,this.ca=i-t,this.ba=e-t},T=function(t,e,i,r){var n={a:t},s={},o={},a={c:r},h=(t+e)/2,u=(e+i)/2,l=(i+r)/2,e=(h+u)/2,i=(u+l)/2,u=(i-e)/8;return n.b=h+(t-h)/4,s.b=e+u,n.c=s.a=(n.b+s.b)/2,s.c=o.a=(e+i)/2,o.b=i-u,a.b=l+(r-l)/4,o.c=a.a=(o.b+a.b)/2,[n,s,o,a]},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,n,s,o,a,h=e.values||[],u={},l=h[0],c=e.autoRotate||i.vars.orientToBezier;for(r in this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",!0!==c&&Number(c)||0]]:null,l)this._props.push(r);for(s=this._props.length;-1<--s;)r=this._props[s],this._overwriteProps.push(r),n=this._func[r]="function"==typeof t[r],u[r]=n?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),a||u[r]!==h[0][r]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):function(t,e,i){var r,n,s,o,a,h,u,l,c,p,d,f={},_="cubic"===(e=e||"soft")?3:2,m="soft"===e,g=[];if(null==(t=m&&i?[i].concat(t):t)||t.length<1+_)throw"invalid Bezier data";for(c in t[0])g.push(c);for(h=g.length;-1<--h;){for(f[c=g[h]]=a=[],l=t.length,u=p=0;u<l;u++)r=null==i?t[u][c]:"string"==typeof(d=t[u][c])&&"="===d.charAt(1)?i[c]+Number(d.charAt(0)+d.substr(2)):Number(d),m&&1<u&&u<l-1&&(a[p++]=(r+a[p-2])/2),a[p++]=r;for(l=p-_+1,u=p=0;u<l;u+=_)r=a[u],n=a[u+1],s=a[u+2],o=2==_?0:a[u+3],a[p++]=d=3==_?new b(r,n,s,o):new b(r,(2*n+r)/3,(2*n+s)/3,s);a.length=p}return f}(h,e.type,u),this._segCount=this._beziers[r].length,this._timeRes&&(e=d(this._beziers,this._timeRes),this._length=e.length,this._lengths=e.lengths,this._segments=e.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length),c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),s=c.length;-1<--s;){for(o=0;o<3;o++)r=c[s][o],this._func[r]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];r=c[s][2],this._initialRotations[s]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,r,n,s,o,a,h,u,l=this._segCount,c=this._func,p=this._target,d=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,u=this._curSeg,t*=this._length,T=this._li,t>this._l2&&T<l-1){for(a=l-1;T<a&&(this._l2=h[++T])<=t;);this._l1=h[T-1],this._li=T,this._curSeg=u=this._segments[T],this._s2=u[this._s1=this._si=0]}else if(t<this._l1&&0<T){for(;0<T&&(this._l1=h[--T])>=t;);0===T&&t<this._l1?this._l1=0:T++,this._l2=h[T],this._li=T,this._curSeg=u=this._segments[T],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(e=T,t-=this._l1,T=this._si,t>this._s2&&T<u.length-1){for(a=u.length-1;T<a&&(this._s2=u[++T])<=t;);this._s1=u[T-1],this._si=T}else if(t<this._s1&&0<T){for(;0<T&&(this._s1=u[--T])>=t;);0===T&&t<this._s1?this._s1=0:T++,this._s2=u[T],this._si=T}s=(T+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(e=t<0?0:1<=t?l-1:l*t>>0)*(1/l))*l;for(i=1-s,T=this._props.length;-1<--T;)r=this._props[T],o=(s*s*(n=this._beziers[r][e]).da+3*i*(s*n.ca+i*n.ba))*s+n.a,this._mod[r]&&(o=this._mod[r](o,p)),c[r]?p[r](o):p[r]=o;if(this._autoRotate)for(var f,_,m,g,y,v,x,b=this._autoRotate,T=b.length;-1<--T;)r=b[T][2],v=b[T][3]||0,x=!0===b[T][4]?1:P,n=this._beziers[b[T][0]],f=this._beziers[b[T][1]],n&&f&&(n=n[e],f=f[e],_=n.a+(n.b-n.a)*s,_+=((g=n.b+(n.c-n.b)*s)-_)*s,g+=(n.c+(n.d-n.c)*s-g)*s,m=f.a+(f.b-f.a)*s,m+=((y=f.b+(f.c-f.b)*s)-m)*s,y+=(f.c+(f.d-f.c)*s-y)*s,o=d?Math.atan2(y-m,g-_)*x+v:this._initialRotations[T],this._mod[r]&&(o=this._mod[r](o,p)),c[r]?p[r](o):p[r]=o)}}),t=m.prototype,m.bezierThrough=p,m.cubicToQuadratic=T,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new b(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var d,f,_,t=e.CSSPlugin;t&&(t=t._internals,d=t._parseToProxy,f=t._setPluginRatio,_=t.CSSPropTween,t._registerComplexSpecialProp("bezier",{parser:function(t,e,i,r,n,s){e instanceof Array&&(e={values:e}),s=new m;var o,a,h,u=e.values,l=u.length-1,c=[],p={};if(l<0)return n;for(o=0;o<=l;o++)h=d(t,u[o],r,n,s,l!==o),c[o]=h.end;for(a in e)p[a]=e[a];return p.values=c,(n=new _(t,"bezier",0,0,h.pt,2)).data=h,n.plugin=s,n.setRatio=f,0===p.autoRotate&&(p.autoRotate=!0),!p.autoRotate||p.autoRotate instanceof Array||(o=!0===p.autoRotate?0:Number(p.autoRotate),p.autoRotate=null!=h.end.left?[["left","top","rotation",o,!1]]:null!=h.end.x&&[["x","y","rotation",o,!1]]),p.autoRotate&&(r._transform||r._enableTransforms(!1),h.autoRotate=r._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,r._overwriteProps.push("rotation")),s._onInitTween(h.proxy,p,r._tween),n}}))},t._mod=function(t){for(var e,i=this._overwriteProps,r=i.length;-1<--r;)(e=t[i[r]])&&"function"==typeof e&&(this._mod[i[r]]=e)},t._kill=function(t){var e,i,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=r.length;-1<--i;)r[i]===e&&r.splice(i,1);if(r=this._autoRotate)for(i=r.length;-1<--i;)t[r[i][2]]&&r.splice(i,1);return this._super._kill.call(this,t)},_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(s,O){function L(){s.call(this,"css"),this._overwriteProps.length=0,this.setRatio=L.prototype.setRatio}var p,T,w,c,u=_gsScope._gsDefine.globals,d={},t=L.prototype=new s("css");(t.constructor=L).version="1.20.4",L.API=2,L.defaultTransformPerspective=0,L.defaultSkewType="compensated",L.defaultSmoothOrigin=!0,L.suffixMap={top:t="px",right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};function o(t,e){return e.toUpperCase()}function a(t,e){return Q.createElementNS?Q.createElementNS(e||"http://www.w3.org/1999/xhtml",t):Q.createElement(t)}function h(t){return F.test("string"==typeof t?t:(t.currentStyle||t.style).filter||"")?parseFloat(RegExp.$1)/100:1}function f(t){_gsScope.console&&console.log(t)}function P(t,e){var i,r,n=(e=e||J).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;-1<--r&&void 0===n[i[r]+t];);return 0<=r?(rt="-"+(nt=3===r?"ms":i[r]).toLowerCase()+"-",nt+t):null}function _(t,e){var i,r,n={};if(e=e||st(t,null))if(i=e.length)for(;-1<--i;)-1!==(r=e[i]).indexOf("-transform")&&Dt!==r||(n[r.replace(j,o)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Mt!==i||(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(j,o)]=e[i]);return it||(n.opacity=h(t)),t=zt(t,e,!1),n.rotation=t.rotation,n.skewX=t.skewX,n.scaleX=t.scaleX,n.scaleY=t.scaleY,n.x=t.x,n.y=t.y,Nt&&(n.z=t.z,n.rotationX=t.rotationX,n.rotationY=t.rotationY,n.scaleZ=t.scaleZ),n.filters&&delete n.filters,n}function m(t,e,i,r,n){var s,o,a,h={},u=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=i[o])||n&&n[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(h[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(B,"")?s:0:ht(t,o),void 0!==u[o]&&(a=new yt(u,o,u[o],a)));if(r)for(o in r)"className"!==o&&(h[o]=r[o]);return{difs:h,firstMPT:a}}function S(t,e){return"string"==typeof(t="function"==typeof t?t(D,C):t)&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0}function E(t,e){return null==(t="function"==typeof t?t(D,C):t)?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0}function I(t,e,i,r){var n,s;return s=(s=null==(t="function"==typeof t?t(D,C):t)?e:"number"==typeof t?t:(n=t.split("_"),s=((s="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:Z)-(s?0:e),n.length&&(r&&(r[i]=e+s),-1!==t.indexOf("short")&&((s%=360)!==s%180&&(s=s<0?s+360:s-360)),-1!==t.indexOf("_cw")&&s<0?s=(s+3599999999640)%360-360*(s/360|0):-1!==t.indexOf("ccw")&&0<s&&(s=(s-3599999999640)%360-360*(s/360|0))),e+s))<1e-6&&-1e-6<s?0:s}function l(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0}function i(t,e){var i,r,n,s=t.match(ft)||[],o=0,a="";if(!s.length)return t;for(i=0;i<s.length;i++)r=s[i],o+=(n=t.substr(o,t.indexOf(r,o)-o)).length+r.length,3===(r=dt(r,e)).length&&r.push(1),a+=n+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return a+t.substr(o)}var A,g,y,M,v,b,C,D,R=/(?:\-|\.|\b)(\d|\.|e\-)+/g,N=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,B=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,k=/(?:\d|\-|\+|=|#|\.)*/g,F=/opacity *= *([^)]*)/i,G=/opacity:([^;]*)/i,n=/alpha\(opacity *=.+?\)/i,U=/^(rgb|hsl)/,X=/([A-Z])/g,j=/-([a-z])/gi,W=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,z=/(?:Left|Right|Width)/i,H=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,q=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,Y=/,(?=[^\)]*(?:\(|$))/gi,V=/[\s,\(]/i,$=Math.PI/180,Z=180/Math.PI,K={},e={style:{}},Q=_gsScope.document||{createElement:function(){return e}},J=a("div"),tt=a("img"),r=L._internals={_specialProps:d},et=(_gsScope.navigator||{}).userAgent||"",it=(Ot=et.indexOf("Android"),Ct=a("a"),y=-1!==et.indexOf("Safari")&&-1===et.indexOf("Chrome")&&(-1===Ot||3<parseFloat(et.substr(Ot+8,2))),v=y&&parseFloat(et.substr(et.indexOf("Version/")+8,2))<6,M=-1!==et.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(et)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(et))&&(b=parseFloat(RegExp.$1)),!!Ct&&(Ct.style.cssText="top:1px;opacity:.55;",/^0.55/.test(Ct.style.opacity))),rt="",nt="",st=Q.defaultView?Q.defaultView.getComputedStyle:function(){},ot=L.getStyle=function(t,e,i,r,n){var s;return it||"opacity"!==e?(!r&&t.style[e]?s=t.style[e]:(i=i||st(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(X,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==n||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:n):h(t)},at=r.convertToPixels=function(t,e,i,r,n){if("px"===r||!r&&"lineHeight"!==e)return i;if("auto"===r||!i)return 0;var s,o,a,h=z.test(e),u=t,l=J.style,c=i<0,p=1===i;if(c&&(i=-i),p&&(i*=100),"lineHeight"!==e||r)if("%"===r&&-1!==e.indexOf("border"))s=i/100*(h?t.clientWidth:t.clientHeight);else{if(l.cssText="border:0 solid red;position:"+ot(t,"position")+";line-height:0;","%"!==r&&u.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)l[h?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(u=t.parentNode||Q.body,-1!==ot(u,"display").indexOf("flex")&&(l.position="absolute"),o=u._gsCache,a=O.ticker.frame,o&&h&&o.time===a)return o.width*i/100;l[h?"width":"height"]=i+r}u.appendChild(J),s=parseFloat(J[h?"offsetWidth":"offsetHeight"]),u.removeChild(J),h&&"%"===r&&!1!==L.cacheWidths&&((o=u._gsCache=u._gsCache||{}).time=a,o.width=s/i*100),0!==s||n||(s=at(t,e,i,r,!0))}else o=st(t).lineHeight,t.style.lineHeight=i,s=parseFloat(st(t).lineHeight),t.style.lineHeight=o;return p&&(s/=100),c?-s:s},ht=r.calculateOffset=function(t,e,i){if("absolute"!==ot(t,"position",i))return 0;var r="left"===e?"Left":"Top",i=ot(t,"margin"+r,i);return t["offset"+r]-(at(t,e,parseFloat(i),i.replace(k,""))||0)},ut={width:["Left","Right"],height:["Top","Bottom"]},lt=["marginLeft","marginRight","marginTop","marginBottom"],ct=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";var i,r=(t=null==t||""===t?"0 0":t).split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];if(3<r.length&&!e){for(r=t.split(", ").join(",").split(","),t=[],i=0;i<r.length;i++)t.push(ct(r[i]));return t.join(",")}return null==s?s="center"===n?"50%":"0":"center"===s&&(s="50%"),t=(n="center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("=")?"50%":n)+" "+s+(2<r.length?" "+r[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(B,"")),e.oy=parseFloat(s.replace(B,"")),e.v=t),e||t},pt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},dt=L.parseColor=function(t,e){var i,r,n,s,o,a,h,u;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),pt[t])i=pt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(r=t.charAt(1))+r+(n=t.charAt(2))+n+(s=t.charAt(3))+s),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=u=t.match(R),e){if(-1!==t.indexOf("="))return t.match(N)}else o=Number(i[0])%360/360,a=Number(i[1])/100,r=2*(h=Number(i[2])/100)-(n=h<=.5?h*(a+1):h+a-h*a),3<i.length&&(i[3]=Number(i[3])),i[0]=l(o+1/3,r,n),i[1]=l(o,r,n),i[2]=l(o-1/3,r,n);else i=t.match(R)||pt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),3<i.length&&(i[3]=Number(i[3]))}else i=pt.black;return e&&!u&&(r=i[0]/255,n=i[1]/255,s=i[2]/255,h=((t=Math.max(r,n,s))+(e=Math.min(r,n,s)))/2,t===e?o=a=0:(u=t-e,a=.5<h?u/(2-t-e):u/(t+e),o=t===r?(n-s)/u+(n<s?6:0):t===n?(s-r)/u+2:(r-n)/u+4,o*=60),i[0]=o+.5|0,i[1]=100*a+.5|0,i[2]=100*h+.5|0),i},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in pt)ft+="|"+t+"\\b";ft=new RegExp(ft+")","gi"),L.colorStringFilter=function(t){var e=t[0]+" "+t[1];ft.test(e)&&(e=-1!==e.indexOf("hsl(")||-1!==e.indexOf("hsla("),t[0]=i(t[0],e),t[1]=i(t[1],e)),ft.lastIndex=0},O.defaultStringFilter||(O.defaultStringFilter=L.colorStringFilter);function _t(t,e,s,o){if(null==t)return function(t){return t};var a,h=e?(t.match(ft)||[""])[0]:"",u=t.split(h).join("").match(x)||[],l=t.substr(0,t.indexOf(u[0])),c=")"===t.charAt(t.length-1)?")":"",p=-1!==t.indexOf(" ")?" ":",",d=u.length,f=0<d?u[0].replace(R,""):"";return d?a=e?function(t){var e,i,r,n;if("number"==typeof t)t+=f;else if(o&&Y.test(t)){for(n=t.replace(Y,"|").split("|"),r=0;r<n.length;r++)n[r]=a(n[r]);return n.join(",")}if(e=(t.match(ft)||[h])[0],r=(i=t.split(e).join("").match(x)||[]).length,d>r--)for(;++r<d;)i[r]=s?i[(r-1)/2|0]:u[r];return l+i.join(p)+p+e+c+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,r;if("number"==typeof t)t+=f;else if(o&&Y.test(t)){for(i=t.replace(Y,"|").split("|"),r=0;r<i.length;r++)i[r]=a(i[r]);return i.join(",")}if(r=(e=t.match(x)||[]).length,d>r--)for(;++r<d;)e[r]=s?e[(r-1)/2|0]:u[r];return l+e.join(p)+c}:function(t){return t}}function mt(u){return u=u.split(","),function(t,e,i,r,n,s,o){var a,h=(e+"").split(" ");for(o={},a=0;a<4;a++)o[u[a]]=h[a]=h[a]||h[(a-1)/2>>0];return r.parse(t,o,n,s)}}function gt(t,e,i,r,n,s){return(s=new vt(t,e,i,r-i,n,-1,s)).b=i,s.e=s.xs0=r,s}var yt=(r._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,n,s,o=this.data,a=o.proxy,h=o.firstMPT;h;)e=a[h.v],h.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),h.t[h.p]=e,h=h._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(h=o.firstMPT,s=1===t?"e":"b";h;){if((i=h.t).type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i[s]=n}}else i[s]=i.s+i.xs0;h=h._next}},function(t,e,i,r,n){this.t=t,this.p=e,this.v=i,this.r=n,r&&((r._prev=this)._next=r)}),vt=(r._parseToProxy=function(t,e,i,r,n,s){var o,a,h,u,l=r,c={},p={},d=i._transform,f=K;for(i._transform=null,K=e,r=n=i.parse(t,e,r,n),K=f,s&&(i._transform=d,l&&(l._prev=null,l._prev&&(l._prev._next=null)));r&&r!==l;){if(r.type<=1&&(p[a=r.p]=r.s+r.c,c[a]=r.s,s||(u=new yt(r,"s",a,u,r.r),r.c=0),1===r.type))for(o=r.l;0<--o;)p[a=r.p+"_"+(h="xn"+o)]=r.data[h],c[a]=r[h],s||(u=new yt(r,h,a,u,r.rxp[h]));r=r._next}return{proxy:c,end:p,firstMPT:u,pt:n}},r.CSSPropTween=function(t,e,i,r,n,s,o,a,h,u,l){this.t=t,this.p=e,this.s=i,this.c=r,this.n=o||e,t instanceof vt||c.push(this.n),this.r=a,this.type=s||0,h&&(this.pr=h,p=!0),this.b=void 0===u?i:u,this.e=void 0===l?i+r:l,n&&((this._next=n)._prev=this)}),xt=L.parseComplex=function(t,e,i,r,n,s,o,a,h,u){i=i||s||"","function"==typeof r&&(r=r(D,C)),o=new vt(t,e,0,0,o,u?2:1,null,!1,a,i,r),r+="",n&&ft.test(r+i)&&(L.colorStringFilter(r=[i,r]),i=r[0],r=r[1]);var l,c,p,d,f,_,m,g,y,v,x,b,T=i.split(", ").join(",").split(" "),P=r.split(", ").join(",").split(" "),w=T.length,E=!1!==A;for(-1===r.indexOf(",")&&-1===i.indexOf(",")||(P=-1!==(r+i).indexOf("rgb")||-1!==(r+i).indexOf("hsl")?(T=T.join(" ").replace(Y,", ").split(" "),P.join(" ").replace(Y,", ").split(" ")):(T=T.join(" ").split(",").join(", ").split(" "),P.join(" ").split(",").join(", ").split(" ")),w=T.length),w!==P.length&&(w=(T=(s||"").split(" ")).length),o.plugin=h,o.setRatio=u,l=ft.lastIndex=0;l<w;l++)if(d=T[l],f=P[l],(g=parseFloat(d))||0===g)o.appendXtra("",g,S(f,g),f.replace(N,""),E&&-1!==f.indexOf("px"),!0);else if(n&&ft.test(d))x=")"+((x=f.indexOf(")")+1)?f.substr(x):""),b=-1!==f.indexOf("hsl")&&it,y=f,d=dt(d,b),f=dt(f,b),(g=6<d.length+f.length)&&!it&&0===f[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(P[l]).join("transparent")):(it||(g=!1),b?o.appendXtra(y.substr(0,y.indexOf("hsl"))+(g?"hsla(":"hsl("),d[0],S(f[0],d[0]),",",!1,!0).appendXtra("",d[1],S(f[1],d[1]),"%,",!1).appendXtra("",d[2],S(f[2],d[2]),g?"%,":"%"+x,!1):o.appendXtra(y.substr(0,y.indexOf("rgb"))+(g?"rgba(":"rgb("),d[0],f[0]-d[0],",",!0,!0).appendXtra("",d[1],f[1]-d[1],",",!0).appendXtra("",d[2],f[2]-d[2],g?",":x,!0),g&&(d=d.length<4?1:d[3],o.appendXtra("",d,(f.length<4?1:f[3])-d,x,!1))),ft.lastIndex=0;else if(_=d.match(R)){if(!(m=f.match(N))||m.length!==_.length)return o;for(c=p=0;c<_.length;c++)v=_[c],y=d.indexOf(v,p),o.appendXtra(d.substr(p,y-p),Number(v),S(m[c],v),"",E&&"px"===d.substr(y+v.length,2),0===c),p=y+v.length;o["xs"+o.l]+=d.substr(p)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+f:f;if(-1!==r.indexOf("=")&&o.data){for(x=o.xs0+o.data.s,l=1;l<o.l;l++)x+=o["xs"+l]+o.data["xn"+l];o.e=x+o["xs"+l]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},bt=9;for((t=vt.prototype).l=t.pr=0;0<--bt;)t["xn"+bt]=0,t["xs"+bt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,r,n,s){var o=this,a=o.l;return o["xs"+a]+=s&&(a||o["xs"+a])?" "+t:t||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",0<a?(o.data["xn"+a]=e+i,o.rxp["xn"+a]=n,o["xn"+a]=e,o.plugin||(o.xfirst=new vt(o,"xn"+a,e,i,o.xfirst||o,0,o.n,n,o.pr),o.xfirst.xs0=0)):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=n)):o["xs"+a]+=e+(r||""),o};function Tt(t,e){this.p=(e=e||{}).prefix&&P(t)||t,(d[t]=d[this.p]=this).format=e.formatter||_t(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0}var Pt=r._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,n=t.split(","),s=e.defaultValue;for(i=i||[s],r=0;r<n.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||s,new Tt(n[r],e)},wt=r._registerPluginProp=function(t){var h;d[t]||(h=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",Pt(t,{parser:function(t,e,i,r,n,s,o){var a=u.com.greensock.plugins[h];return a?(a._cssRegister(),d[i].parse(t,e,i,r,n,s,o)):(f("Error: "+h+" js file not loaded."),n)}}))};(t=Tt.prototype).parseComplex=function(t,e,i,r,n,s){var o,a,h,u,l,c,p=this.keyword;if(this.multi&&(Y.test(i)||Y.test(e)?(a=e.replace(Y,"|").split("|"),h=i.replace(Y,"|").split("|")):p&&(a=[e],h=[i])),h){for(u=(h.length>a.length?h:a).length,o=0;o<u;o++)e=a[o]=a[o]||this.dflt,i=h[o]=h[o]||this.dflt,p&&((l=e.indexOf(p))!==(c=i.indexOf(p))&&(-1===c?a[o]=a[o].split(p).join(""):-1===l&&(a[o]+=" "+p)));e=a.join(", "),i=h.join(", ")}return xt(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,n,s)},t.parse=function(t,e,i,r,n,s,o){return this.parseComplex(t.style,this.format(ot(t,this.p,w,!1,this.dflt)),this.format(e),n,s)},L.registerSpecialProp=function(t,a,h){Pt(t,{parser:function(t,e,i,r,n,s,o){n=new vt(t,i,0,0,n,2,i,!1,h);return n.plugin=s,n.setRatio=a(t,e,r._tween,i),n},priority:h})},L.useSVGTransformAttr=!0;function Et(t,e,i,r,n,s){var o,a,h,u,l,c,p,d,f,_,m,g,y=t._gsTransform,v=St(t,!0);y&&(m=y.xOrigin,g=y.yOrigin),(!r||(o=r.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),o=[(-1!==(e=ct(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=u=parseFloat(o[0]),i.yOrigin=l=parseFloat(o[1]),r&&v!==Wt&&(c=v[0],p=v[1],d=v[2],f=v[3],_=v[4],e=v[5],(r=c*f-p*d)&&(h=u*(-p/r)+l*(c/r)-(c*e-p*_)/r,u=i.xOrigin=o[0]=a=u*(f/r)+l*(-d/r)+(d*e-f*_)/r,l=i.yOrigin=o[1]=h)),y&&(s&&(i.xOffset=y.xOffset,i.yOffset=y.yOffset,y=i),n||!1!==n&&!1!==L.defaultSmoothOrigin?(y.xOffset+=(a=u-m)*v[0]+(h=l-g)*v[2]-a,y.yOffset+=a*v[1]+h*v[3]-h):y.xOffset=y.yOffset=0),s||t.setAttribute("data-svg-origin",o.join(" "))}function St(t,e){var i,r,n,s,o,a,h=t._gsTransform||new Bt,u=t.style;if(Mt?r=ot(t,Dt,null,!0):t.currentStyle&&(r=(r=t.currentStyle.filter.match(H))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),h.x||0,h.y||0].join(","):""),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Mt||!(a=!st(t)||"none"===st(t).display)&&t.parentNode||(a&&(s=u.display,u.display="block"),t.parentNode||(o=1,Gt.appendChild(t)),i=!(r=ot(t,Dt,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,s?u.display=s:a&&Vt(u,"display"),o&&Gt.removeChild(t)),(h.svg||t.getCTM&&jt(t))&&(i&&-1!==(u[Mt]+"").indexOf("matrix")&&(r=u[Mt],i=0),n=t.getAttribute("transform"),i&&n&&(r="matrix("+(n=t.transform.baseVal.consolidate().matrix).a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")",i=0)),i)return Wt;for(n=(r||"").match(R)||[],bt=n.length;-1<--bt;)s=Number(n[bt]),n[bt]=(o=s-(s|=0))?(1e5*o+(o<0?-.5:.5)|0)/1e5+s:s;return e&&6<n.length?[n[0],n[1],n[4],n[5],n[12],n[13]]:n}function It(t){var e,i,r=this.data,n=(_=-r.rotation*$)+r.skewX*$,s=(Math.cos(_)*r.scaleX*1e5|0)/1e5,o=(Math.sin(_)*r.scaleX*1e5|0)/1e5,a=(Math.sin(n)*-r.scaleY*1e5|0)/1e5,h=(Math.cos(n)*r.scaleY*1e5|0)/1e5,u=this.t.style,l=this.t.currentStyle;if(l){i=o,o=-a,a=-i,e=l.filter,u.filter="";var c=this.t.offsetWidth,p=this.t.offsetHeight,d="absolute"!==l.position,f="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+o+", M21="+a+", M22="+h,_=r.x+c*r.xPercent/100,n=r.y+p*r.yPercent/100;if(null!=r.ox&&(_+=(v=(r.oxp?c*r.ox*.01:r.ox)-c/2)-(v*s+(x=(r.oyp?p*r.oy*.01:r.oy)-p/2)*o),n+=x-(v*a+x*h)),d?f+=", Dx="+((v=c/2)-(v*s+(x=p/2)*o)+_)+", Dy="+(x-(v*a+x*h)+n)+")":f+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(q,f):u.filter=f+" "+e,0!==t&&1!==t||1!=s||0!=o||0!=a||1!=h||(d&&-1===f.indexOf("Dx=0, Dy=0")||F.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!d){var m,g,y=b<8?1:-1,v=r.ieOffsetX||0,x=r.ieOffsetY||0;for(r.ieOffsetX=Math.round((c-((s<0?-s:s)*c+(o<0?-o:o)*p))/2+_),r.ieOffsetY=Math.round((p-((h<0?-h:h)*p+(a<0?-a:a)*c))/2+n),bt=0;bt<4;bt++)g=(i=-1!==(g=l[m=lt[bt]]).indexOf("px")?parseFloat(g):at(this.t,m,parseFloat(g),g.replace(k,""))||0)!==r[m]?bt<2?-r.ieOffsetX:-r.ieOffsetY:bt<2?v-r.ieOffsetX:x-r.ieOffsetY,u[m]=(r[m]=Math.round(i-g*(0===bt||2===bt?1:y)))+"px"}}}var At,Ct,Ot,Lt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Mt=P("transform"),Dt=rt+"transform",Rt=P("transformOrigin"),Nt=null!==P("perspective"),Bt=r.Transform=function(){this.perspective=parseFloat(L.defaultTransformPerspective)||0,this.force3D=!1!==L.defaultForce3D&&Nt&&(L.defaultForce3D||"auto")},kt=_gsScope.SVGElement,Ft=function(t,e,i){var r,n=Q.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(s,"$1-$2").toLowerCase(),i[r]);return e.appendChild(n),n},Gt=Q.documentElement||{},Ut=(Ot=b||/Android/i.test(et)&&!_gsScope.chrome,Q.createElementNS&&!Ot&&(Ct=Ft("svg",Gt),Ft=(et=Ft("rect",Ct,{width:100,height:50,x:100})).getBoundingClientRect().width,et.style[Rt]="50% 50%",et.style[Mt]="scaleX(0.5)",Ot=Ft===et.getBoundingClientRect().width&&!(M&&Nt),Gt.removeChild(Ct)),Ot),Xt=function(t){var e,i=a("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,n=this.nextSibling,s=this.style.cssText;if(Gt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Xt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return n?r.insertBefore(this,n):r.appendChild(this),Gt.removeChild(i),this.style.cssText=s,e},jt=function(t){return!(!kt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return Xt.call(e,!0)}}(t))},Wt=[1,0,0,1,0,0],zt=r.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var n,s,o,a,h,u,l,c,p,d,f,_,m,g,y,v,x,b,T,P,w,E,S=i&&t._gsTransform||new Bt,I=S.scaleX<0,A=Nt&&(parseFloat(ot(t,Rt,e,!1,"0 0 0").split(" ")[2])||S.zOrigin)||0,C=parseFloat(L.defaultTransformPerspective)||0;if(S.svg=!(!t.getCTM||!jt(t)),S.svg&&(Et(t,ot(t,Rt,e,!1,"50% 50%")+"",S,t.getAttribute("data-svg-origin")),At=L.useSVGTransformAttr||Ut),(s=St(t))!==Wt)for(n in 16===s.length?(P=s[0],E=s[1],c=s[2],p=s[3],w=s[4],d=s[5],f=s[6],_=s[7],m=s[8],g=s[9],y=s[10],v=s[12],b=s[13],T=s[14],x=s[11],e=Math.atan2(f,y),S.zOrigin&&(v=m*(T=-S.zOrigin)-s[12],b=g*T-s[13],T=y*T+S.zOrigin-s[14]),S.rotationX=e*Z,e&&(o=w*(u=Math.cos(-e))+m*(l=Math.sin(-e)),a=d*u+g*l,h=f*u+y*l,m=w*-l+m*u,g=d*-l+g*u,y=f*-l+y*u,x=_*-l+x*u,w=o,d=a,f=h),e=Math.atan2(-c,y),S.rotationY=e*Z,e&&(a=E*(u=Math.cos(-e))-g*(l=Math.sin(-e)),h=c*u-y*l,g=E*l+g*u,y=c*l+y*u,x=p*l+x*u,P=o=P*u-m*l,E=a,c=h),e=Math.atan2(E,P),S.rotation=e*Z,e&&(o=P*(u=Math.cos(e))+E*(l=Math.sin(e)),a=w*u+d*l,h=m*u+g*l,E=E*u-P*l,d=d*u-w*l,g=g*u-m*l,P=o,w=a,m=h),S.rotationX&&359.9<Math.abs(S.rotationX)+Math.abs(S.rotation)&&(S.rotationX=S.rotation=0,S.rotationY=180-S.rotationY),e=Math.atan2(w,d),S.scaleX=(1e5*Math.sqrt(P*P+E*E+c*c)+.5|0)/1e5,S.scaleY=(1e5*Math.sqrt(d*d+f*f)+.5|0)/1e5,S.scaleZ=(1e5*Math.sqrt(m*m+g*g+y*y)+.5|0)/1e5,P/=S.scaleX,w/=S.scaleY,E/=S.scaleX,d/=S.scaleY,2e-5<Math.abs(e)?(S.skewX=e*Z,w=0,"simple"!==S.skewType&&(S.scaleY*=1/Math.cos(e))):S.skewX=0,S.perspective=x?1/(x<0?-x:x):0,S.x=v,S.y=b,S.z=T,S.svg&&(S.x-=S.xOrigin-(S.xOrigin*P-S.yOrigin*w),S.y-=S.yOrigin-(S.yOrigin*E-S.xOrigin*d))):Nt&&!r&&s.length&&S.x===s[4]&&S.y===s[5]&&(S.rotationX||S.rotationY)||(T=(b=6<=s.length)?s[0]:1,P=s[1]||0,w=s[2]||0,E=b?s[3]:1,S.x=s[4]||0,S.y=s[5]||0,d=Math.sqrt(T*T+P*P),r=Math.sqrt(E*E+w*w),b=T||P?Math.atan2(P,T)*Z:S.rotation||0,s=w||E?Math.atan2(w,E)*Z+b:S.skewX||0,S.scaleX=d,S.scaleY=r,S.rotation=b,S.skewX=s,Nt&&(S.rotationX=S.rotationY=S.z=0,S.perspective=C,S.scaleZ=1),S.svg&&(S.x-=S.xOrigin-(S.xOrigin*T+S.yOrigin*w),S.y-=S.yOrigin-(S.xOrigin*P+S.yOrigin*E))),90<Math.abs(S.skewX)&&Math.abs(S.skewX)<270&&(I?(S.scaleX*=-1,S.skewX+=S.rotation<=0?180:-180,S.rotation+=S.rotation<=0?180:-180):(S.scaleY*=-1,S.skewX+=S.skewX<=0?180:-180)),S.zOrigin=A,S)S[n]<2e-5&&-2e-5<S[n]&&(S[n]=0);return i&&((t._gsTransform=S).svg&&(At&&t.style[Mt]?O.delayedCall(.001,function(){Vt(t.style,Mt)}):!At&&t.getAttribute("transform")&&O.delayedCall(.001,function(){t.removeAttribute("transform")}))),S},Ht=r.set3DTransformRatio=r.setTransformRatio=function(t){var e,i,r,n,s,o,a,h,u,l,c,p,d,f,_=this.data,m=this.t.style,g=_.rotation,y=_.rotationX,v=_.rotationY,x=_.scaleX,b=_.scaleY,T=_.scaleZ,P=_.x,w=_.y,E=_.z,S=_.svg,I=_.perspective,A=_.force3D,C=_.skewY,O=_.skewX;if(C&&(O+=C,g+=C),!((1!==t&&0!==t||"auto"!==A||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&A||E||I||v||y||1!==T)||At&&S||!Nt)g||O||S?(g*=$,f=O*$,i=Math.cos(g)*x,n=Math.sin(g)*x,r=Math.sin(g-f)*-b,s=Math.cos(g-f)*b,f&&"simple"===_.skewType&&(e=Math.tan(f-C*$),r*=e=Math.sqrt(1+e*e),s*=e,C&&(e=Math.tan(C*$),i*=e=Math.sqrt(1+e*e),n*=e)),S&&(P+=_.xOrigin-(_.xOrigin*i+_.yOrigin*r)+_.xOffset,w+=_.yOrigin-(_.xOrigin*n+_.yOrigin*s)+_.yOffset,At&&(_.xPercent||_.yPercent)&&(l=this.t.getBBox(),P+=.01*_.xPercent*l.width,w+=.01*_.yPercent*l.height),P<(l=1e-6)&&-l<P&&(P=0),w<l&&-l<w&&(w=0)),d=(1e5*i|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*r|0)/1e5+","+(1e5*s|0)/1e5+","+P+","+w+")",S&&At?this.t.setAttribute("transform","matrix("+d):m[Mt]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix(":"matrix(")+d):m[Mt]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix(":"matrix(")+x+",0,0,"+b+","+P+","+w+")";else{if(M&&(x<(l=1e-4)&&-l<x&&(x=T=2e-5),b<l&&-l<b&&(b=T=2e-5),!I||_.z||_.rotationX||_.rotationY||(I=0)),g||O)g*=$,c=i=Math.cos(g),p=n=Math.sin(g),O&&(g-=O*$,c=Math.cos(g),p=Math.sin(g),"simple"===_.skewType&&(e=Math.tan((O-C)*$),c*=e=Math.sqrt(1+e*e),p*=e,_.skewY&&(e=Math.tan(C*$),i*=e=Math.sqrt(1+e*e),n*=e))),r=-p,s=c;else{if(!(v||y||1!==T||I||S))return void(m[Mt]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+w+"px,"+E+"px)"+(1!==x||1!==b?" scale("+x+","+b+")":""));i=s=1,r=n=0}a=1,f=A=t=o=h=u=0,O=I?-1/I:0,C=_.zOrigin,l=1e-6,(g=v*$)&&(c=Math.cos(g),h=O*(t=-(p=Math.sin(g))),f=i*p,A=n*p,O*=a=c,i*=c,n*=c),(g=y*$)&&(e=r*(c=Math.cos(g))+f*(p=Math.sin(g)),g=s*c+A*p,o=a*p,u=O*p,f=r*-p+f*c,A=s*-p+A*c,a*=c,O*=c,r=e,s=g),1!==T&&(f*=T,A*=T,a*=T,O*=T),1!==b&&(r*=b,s*=b,o*=b,u*=b),1!==x&&(i*=x,n*=x,t*=x,h*=x),(C||S)&&(C&&(P+=f*-C,w+=A*-C,E+=a*-C+C),S&&(P+=_.xOrigin-(_.xOrigin*i+_.yOrigin*r)+_.xOffset,w+=_.yOrigin-(_.xOrigin*n+_.yOrigin*s)+_.yOffset),P<l&&-l<P&&(P="0"),w<l&&-l<w&&(w="0"),E<l&&-l<E&&(E=0)),d=_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix3d(":"matrix3d(",d+=(i<l&&-l<i?"0":i)+","+(n<l&&-l<n?"0":n)+","+(t<l&&-l<t?"0":t),d+=","+(h<l&&-l<h?"0":h)+","+(r<l&&-l<r?"0":r)+","+(s<l&&-l<s?"0":s),y||v||1!==T?(d+=","+(o<l&&-l<o?"0":o)+","+(u<l&&-l<u?"0":u)+","+(f<l&&-l<f?"0":f),d+=","+(A<l&&-l<A?"0":A)+","+(a<l&&-l<a?"0":a)+","+(O<l&&-l<O?"0":O)+","):d+=",0,0,0,0,1,0,",m[Mt]=d+=P+","+w+","+E+","+(I?1+-E/I:1)+")"}};(t=Bt.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,Pt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,r,n,s,o){if(r._lastParsedTransform===o)return n;var a,h=(r._lastParsedTransform=o).scale&&"function"==typeof o.scale?o.scale:0;"function"==typeof o[i]&&(a=o[i],o[i]=e),h&&(o.scale=h(D,t));var u,l,c,p,d,f,_,m,g=t._gsTransform,y=t.style,v=Lt.length,x=o,b={},e="transformOrigin",T=zt(t,w,!0,x.parseTransform),P=x.transform&&("function"==typeof x.transform?x.transform(D,C):x.transform);if(T.skewType=x.skewType||T.skewType||L.defaultSkewType,r._transform=T,P&&"string"==typeof P&&Mt)(l=J.style)[Mt]=P,l.display="block",l.position="absolute",Q.body.appendChild(J),u=zt(J,null,!1),"simple"===T.skewType&&(u.scaleY*=Math.cos(u.skewX*$)),T.svg&&(d=T.xOrigin,f=T.yOrigin,u.x-=T.xOffset,u.y-=T.yOffset,(x.transformOrigin||x.svgOrigin)&&(P={},Et(t,ct(x.transformOrigin),P,x.svgOrigin,x.smoothOrigin,!0),d=P.xOrigin,f=P.yOrigin,u.x-=P.xOffset-T.xOffset,u.y-=P.yOffset-T.yOffset),(d||f)&&(_=St(J,!0),u.x-=d-(d*_[0]+f*_[2]),u.y-=f-(d*_[1]+f*_[3]))),Q.body.removeChild(J),u.perspective||(u.perspective=T.perspective),null!=x.xPercent&&(u.xPercent=E(x.xPercent,T.xPercent)),null!=x.yPercent&&(u.yPercent=E(x.yPercent,T.yPercent));else if("object"==typeof x){if(u={scaleX:E(null!=x.scaleX?x.scaleX:x.scale,T.scaleX),scaleY:E(null!=x.scaleY?x.scaleY:x.scale,T.scaleY),scaleZ:E(x.scaleZ,T.scaleZ),x:E(x.x,T.x),y:E(x.y,T.y),z:E(x.z,T.z),xPercent:E(x.xPercent,T.xPercent),yPercent:E(x.yPercent,T.yPercent),perspective:E(x.transformPerspective,T.perspective)},null!=(p=x.directionalRotation))if("object"==typeof p)for(l in p)x[l]=p[l];else x.rotation=p;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(u.x=0,u.xPercent=E(x.x,T.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(u.y=0,u.yPercent=E(x.y,T.yPercent)),u.rotation=I("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:T.rotation,T.rotation,"rotation",b),Nt&&(u.rotationX=I("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":T.rotationX||0,T.rotationX,"rotationX",b),u.rotationY=I("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":T.rotationY||0,T.rotationY,"rotationY",b)),u.skewX=I(x.skewX,T.skewX),u.skewY=I(x.skewY,T.skewY)}for(Nt&&null!=x.force3D&&(T.force3D=x.force3D,c=!0),(_=T.force3D||T.z||T.rotationX||T.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==x.scale||(u.scaleZ=1);-1<--v;)(1e-6<(P=u[m=Lt[v]]-T[m])||P<-1e-6||null!=x[m]||null!=K[m])&&(c=!0,n=new vt(T,m,T[m],P,n),m in b&&(n.e=b[m]),n.xs0=0,n.plugin=s,r._overwriteProps.push(n.n));return P=x.transformOrigin,T.svg&&(P||x.svgOrigin)&&(d=T.xOffset,f=T.yOffset,Et(t,ct(P),u,x.svgOrigin,x.smoothOrigin),n=gt(T,"xOrigin",(g?T:u).xOrigin,u.xOrigin,n,e),n=gt(T,"yOrigin",(g?T:u).yOrigin,u.yOrigin,n,e),d===T.xOffset&&f===T.yOffset||(n=gt(T,"xOffset",g?d:T.xOffset,T.xOffset,n,e),n=gt(T,"yOffset",g?f:T.yOffset,T.yOffset,n,e)),P="0px 0px"),(P||Nt&&_&&T.zOrigin)&&(Mt?(c=!0,m=Rt,P=(P||ot(t,m,w,!1,"50% 50%"))+"",(n=new vt(y,m,0,0,n,-1,e)).b=y[m],n.plugin=s,Nt?(l=T.zOrigin,P=P.split(" "),T.zOrigin=(2<P.length&&(0===l||"0px"!==P[2])?parseFloat(P[2]):l)||0,n.xs0=n.e=P[0]+" "+(P[1]||"50%")+" 0px",(n=new vt(T,"zOrigin",0,0,n,-1,n.n)).b=l,n.xs0=n.e=T.zOrigin):n.xs0=n.e=P):ct(P+"",T)),c&&(r._transformType=T.svg&&At||!_&&3!==this._transformType?2:3),a&&(o[i]=a),h&&(o.scale=h),n},prefix:!0}),Pt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Pt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,n,s){e=this.format(e);for(var o,a,h,u,l,c,p,d,f,_,m=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],g=t.style,y=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),x=e.split(" "),b=0;b<m.length;b++)this.p.indexOf("border")&&(m[b]=P(m[b])),-1!==(h=a=ot(t,m[b],w,!1,"0px")).indexOf(" ")&&(h=(a=h.split(" "))[0],a=a[1]),u=o=x[b],f=parseFloat(h),_=h.substr((f+"").length),(c=""===(c=(p="="===u.charAt(1))?(l=parseInt(u.charAt(0)+"1",10),u=u.substr(2),l*=parseFloat(u),u.substr((l+"").length-(l<0?1:0))||""):(l=parseFloat(u),u.substr((l+"").length)))?T[i]||_:c)!==_&&(d=at(t,"borderLeft",f,_),f=at(t,"borderTop",f,_),a="%"===c?(h=d/y*100+"%",f/v*100+"%"):"em"===c?(h=d/(_=at(t,"borderLeft",1,"em"))+"em",f/_+"em"):(h=d+"px",f+"px"),p&&(u=parseFloat(h)+l+c,o=parseFloat(a)+l+c)),n=xt(g,m[b],h+" "+a,u+" "+o,!1,"0px",n);return n},prefix:!0,formatter:_t("0px 0px 0px 0px",!1,!0)}),Pt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,r,n,s){return xt(t.style,i,this.format(ot(t,i,w,!1,"0px 0px")),this.format(e),!1,"0px",n)},prefix:!0,formatter:_t("0px 0px",!1,!0)}),Pt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,s){var o,a,h,u,l,c,p="background-position",d=w||st(t,null),f=this.format((d?b?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),e=this.format(e);if(-1!==f.indexOf("%")!=(-1!==e.indexOf("%"))&&e.split(",").length<2&&((c=ot(t,"backgroundImage").replace(W,""))&&"none"!==c)){for(o=f.split(" "),a=e.split(" "),tt.setAttribute("src",c),h=2;-1<--h;)(u=-1!==(f=o[h]).indexOf("%"))!=(-1!==a[h].indexOf("%"))&&(l=0===h?t.offsetWidth-tt.width:t.offsetHeight-tt.height,o[h]=u?parseFloat(f)/100*l+"px":parseFloat(f)/l*100+"%");f=o.join(" ")}return this.parseComplex(t.style,f,e,n,s)},formatter:ct}),Pt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return ct(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),Pt("perspective",{defaultValue:"0px",prefix:!0}),Pt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Pt("transformStyle",{prefix:!0}),Pt("backfaceVisibility",{prefix:!0}),Pt("userSelect",{prefix:!0}),Pt("margin",{parser:mt("marginTop,marginRight,marginBottom,marginLeft")}),Pt("padding",{parser:mt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Pt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,s){var o,a;return e=b<9?(o=t.currentStyle,a=b<8?" ":",",o="rect("+o.clipTop+a+o.clipRight+a+o.clipBottom+a+o.clipLeft+")",this.format(e).split(",").join(a)):(o=this.format(ot(t,this.p,w,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,o,e,n,s)}}),Pt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Pt("autoRound,strictUnits",{parser:function(t,e,i,r,n){return n}}),Pt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,s){var o=ot(t,"borderTopWidth",w,!1,"0px"),a=this.format(e).split(" "),e=a[0].replace(k,"");return"px"!==e&&(o=parseFloat(o)/at(t,"borderTopWidth",1,e)+e),this.parseComplex(t.style,this.format(o+" "+ot(t,"borderTopStyle",w,!1,"solid")+" "+ot(t,"borderTopColor",w,!1,"#000")),a.join(" "),n,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),Pt("borderWidth",{parser:mt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Pt("float,cssFloat,styleFloat",{parser:function(t,e,i,r,n,s){var o=t.style,t="cssFloat"in o?"cssFloat":"styleFloat";return new vt(o,t,0,0,n,-1,i,!1,0,o[t],e)}});function qt(t){var e,i=this.t,r=i.filter||ot(this.data,"filter")||"",t=this.s+this.c*t|0;(e=100==t?-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),!ot(this.data,"filter")):(i.filter=r.replace(n,""),!0):e)||(this.xn1&&(i.filter=r=r||"alpha(opacity="+t+")"),-1===r.indexOf("pacity")?0==t&&this.xn1||(i.filter=r+" alpha(opacity="+t+")"):i.filter=r.replace(F,"opacity="+t))}Pt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,s){var o=parseFloat(ot(t,"opacity",w,!1,"1")),a=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===ot(t,"visibility",w)&&0!==e&&(o=0),it?n=new vt(a,"opacity",o,e-o,n):((n=new vt(a,"opacity",100*o,100*(e-o),n)).xn1=h?1:0,a.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=s,n.setRatio=qt),h&&((n=new vt(a,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});function Yt(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Vt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)}var Vt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(X,"-$1").toLowerCase())):t.removeAttribute(e))};Pt("className",{parser:function(t,e,i,r,n,s,o){var a,h,u,l=t.getAttribute("class")||"",c=t.style.cssText;if((n=r._classNamePT=new vt(t,i,0,0,n,2)).setRatio=Yt,n.pr=-11,p=!0,n.b=l,a=_(t,w),i=t._gsClassPT){for(h={},u=i.data;u;)h[u.p]=1,u=u._next;i.setRatio(1)}return(t._gsClassPT=n).e="="!==e.charAt(1)?e:l.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",n.e),o=m(t,a,_(t),o,h),t.setAttribute("class",l),n.data=o.firstMPT,t.style.cssText=c,n.xfirst=r.parse(t,o.difs,n,s)}});function $t(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,n,s=this.t.style,o=d.transform.parse;if("all"===this.e)n=!(s.cssText="");else for(r=(e=this.e.split(" ").join("").split(",")).length;-1<--r;)i=e[r],d[i]&&(d[i].parse===o?n=!0:i="transformOrigin"===i?Rt:d[i].p),Vt(s,i);n&&(Vt(s,Mt),(t=this.t._gsTransform)&&(t.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}}for(Pt("clearProps",{parser:function(t,e,i,r,n){return(n=new vt(t,i,0,0,n,2)).setRatio=$t,n.e=e,n.pr=-10,n.data=r._tween,p=!0,n}}),t="bezier,throwProps,physicsProps,physics2D".split(","),bt=t.length;bt--;)wt(t[bt]);(t=L.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i,r){if(!t.nodeType)return!1;this._target=C=t,this._tween=i,this._vars=e,D=r,A=e.autoRound,p=!1,T=e.suffixMap||L.suffixMap,w=st(t,""),c=this._overwriteProps;var n,s,o,a,h,u,r=t.style;if(g&&""===r.zIndex&&("auto"!==(u=ot(t,"zIndex",w))&&""!==u||this._addLazySet(r,"zIndex",0)),"string"==typeof e&&(o=r.cssText,u=_(t,w),r.cssText=o+";"+e,u=m(t,u,_(t)).difs,!it&&G.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,r.cssText=o),e.className?this._firstPT=n=d.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=n=this.parse(t,e,null),this._transformType){for(u=3===this._transformType,Mt?y&&(g=!0,""===r.zIndex&&("auto"!==(e=ot(t,"zIndex",w))&&""!==e||this._addLazySet(r,"zIndex",0)),v&&this._addLazySet(r,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):r.zoom=1,s=n;s&&s._next;)s=s._next;r=new vt(t,"transform",0,0,null,2),this._linkCSSP(r,null,s),r.setRatio=Mt?Ht:It,r.data=this._transform||zt(t,w,!0),r.tween=i,r.pr=-1,c.pop()}if(p){for(;n;){for(h=n._next,s=o;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:a)?n._prev._next=n:o=n,(n._next=s)?s._prev=n:a=n,n=h}this._firstPT=o}return!0},t.parse=function(t,e,i,r){var n,s,o,a,h,u,l,c,p=t.style;for(n in e){if("function"==typeof(h=e[n])&&(h=h(D,C)),c=d[n])i=c.parse(t,h,n,this,i,r,e);else{if("--"===n.substr(0,2)){this._tween._propLookup[n]=this._addTween.call(this._tween,t.style,"setProperty",st(t).getPropertyValue(n)+"",h+"",n,!1,n);continue}a=ot(t,n,w)+"",l="string"==typeof h,"color"===n||"fill"===n||"stroke"===n||-1!==n.indexOf("Color")||l&&U.test(h)?(l||(h=(3<(h=dt(h)).length?"rgba(":"rgb(")+h.join(",")+")"),i=xt(p,n,a,h,!0,"transparent",i,0,r)):l&&V.test(h)?i=xt(p,n,a,h,!0,null,i,0,r):(u=(s=parseFloat(a))||0===s?a.substr((s+"").length):"",""!==a&&"auto"!==a||(u="width"===n||"height"===n?(s=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||st(t))[e]||0;if(t.getCTM&&jt(t))return t.getBBox()[e]||0;var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=ut[e],s=n.length;for(i=i||st(t,null);-1<--s;)r-=parseFloat(ot(t,"padding"+n[s],i,!0))||0,r-=parseFloat(ot(t,"border"+n[s]+"Width",i,!0))||0;return r}(t,n,w),"px"):"left"===n||"top"===n?(s=ht(t,n,w),"px"):(s="opacity"!==n?0:1,"")),""===(l=(c=l&&"="===h.charAt(1))?(o=parseInt(h.charAt(0)+"1",10),h=h.substr(2),o*=parseFloat(h),h.replace(k,"")):(o=parseFloat(h),l?h.replace(k,""):""))&&(l=n in T?T[n]:u),h=o||0===o?(c?o+s:o)+l:e[n],u===l||""===l&&"lineHeight"!==n||!o&&0!==o||!s||(s=at(t,n,s,u),"%"===l?(s/=at(t,n,100,"%")/100,!0!==e.strictUnits&&(a=s+"%")):"em"===l||"rem"===l||"vw"===l||"vh"===l?s/=at(t,n,1,l):"px"!==l&&(o=at(t,n,o,l),l="px"),c&&(o||0===o)&&(h=o+s+l)),c&&(o+=s),!s&&0!==s||!o&&0!==o?void 0!==p[n]&&(h||h+""!="NaN"&&null!=h)?(i=new vt(p,n,o||s||0,0,i,-1,n,!1,0,a,h)).xs0="none"!==h||"display"!==n&&-1===n.indexOf("Style")?h:a:f("invalid "+n+" tween value: "+e[n]):(i=new vt(p,n,s,o-s,i,0,n,!1!==A&&("px"===l||"zIndex"===n),0,a,h)).xs0=l)}r&&i&&!i.plugin&&(i.plugin=r)}return i},t.setRatio=function(t){var e,i,r,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),n.type)if(1===n.type)if(2===(r=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=Math.round(n.s+n.c),n.type){if(1===n.type){for(r=n.l,i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},t._enableTransforms=function(t){this._transform=this._transform||zt(this._target,w,!0),this._transformType=this._transform.svg&&At||!t&&3!==this._transformType?2:3};function Zt(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)}t._addLazySet=function(t,e,i){e=this._firstPT=new vt(t,e,0,0,this._firstPT,2);e.e=i,e.setRatio=Zt,e.data=this},t._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},t._kill=function(t){var e,i,r,n=t;if(t.autoAlpha||t.alpha){for(i in n={},t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}for(t.className&&(e=this._classNamePT)&&((r=e.xfirst)&&r._prev?this._linkCSSP(r._prev,e._next,r._prev._prev):r===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,r._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return s.prototype._kill.call(this,n)};function Kt(t,e,i){var r,n,s,o;if(t.slice)for(n=t.length;-1<--n;)Kt(t[n],e,i);else for(n=(r=t.childNodes).length;-1<--n;)o=(s=r[n]).type,s.style&&(e.push(_(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Kt(s,e,i)}return L.cascadeTo=function(t,e,i){var r,n,s,o,a=O.to(t,e,i),h=[a],u=[],l=[],c=[],p=O._internals.reservedProps;for(t=a._targets||a.target,Kt(t,u,c),a.render(e,!0,!0),Kt(t,l),a.render(0,!0,!0),a._enabled(!0),r=c.length;-1<--r;)if((n=m(c[r],u[r],l[r])).firstMPT){for(s in n=n.difs,i)p[s]&&(n[s]=i[s]);for(s in o={},n)o[s]=u[r][s];h.push(O.fromTo(c[r],e,o,n))}return h},s.activate([L]),L},!0),(t=(t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}})).prototype)._onInitAllProps=function(){for(var t,e,i,r=this._tween,n=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),s=n.length,o={},a=r._propLookup.roundProps;-1<--s;)o[n[s]]=Math.round;for(s=n.length;-1<--s;)for(t=n[s],e=r._firstPT;e;)i=e._next,e.pg?e.t._mod(o):e.n===t&&(2===e.f&&e.t?function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next}(e.t._firstPT):(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:r._firstPT===e&&(r._firstPT=i),e._next=e._prev=null,r._propLookup[t]=a)),e=i;return!1},t._add=function(t,e,i,r){this._addTween(t,e,i,i+r,e,Math.round),this._overwriteProps.push(e)},_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,r){var n,s;if("function"!=typeof t.setAttribute)return!1;for(n in e)s=e[n],"function"==typeof s&&(s=s(r,t)),this._addTween(t,"setAttribute",t.getAttribute(n)+"",s+"",n,!1,n),this._overwriteProps.push(n);return!0}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,r){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,s,o,a,h,u=!0===e.useRadians?2*Math.PI:360;for(n in e)"useRadians"!==n&&(a=e[n],"function"==typeof a&&(a=a(r,t)),h=(a+"").split("_"),s=h[0],o=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),a=this.finals[n]="string"==typeof s&&"="===s.charAt(1)?o+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,a=a-o,h.length&&(s=h.join("_"),-1!==s.indexOf("short")&&(a%=u,a!==a%(u/2)&&(a=a<0?a+u:a-u)),-1!==s.indexOf("_cw")&&a<0?a=(a+9999999999*u)%u-(a/u|0)*u:-1!==s.indexOf("ccw")&&0<a&&(a=(a-9999999999*u)%u-(a/u|0)*u)),(1e-6<a||a<-1e-6)&&(this._addTween(t,n,o,o+a,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(m){function t(t,e){var i=u("easing."+t,function(){},!0);return(t=i.prototype=new m).constructor=i,t.getRatio=e,i}function e(t,e,i,r,n){return r=u("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new r},!0),l(r,t),r}function g(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)}var i,r,n,s=_gsScope.GreenSockGlobals||_gsScope,o=s.com.greensock,a=2*Math.PI,h=Math.PI/2,u=o._class,l=m.register||function(){},c=function(t,e){var i=u("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),t=i.prototype=new m;return t.constructor=i,t.getRatio=e,t.config=function(t){return new i(t)},i},o=e("Back",c("BackOut",function(t){return--t*t*((this._p1+1)*t+this._p1)+1}),c("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),c("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),p=u("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),c=p.prototype=new m;return c.constructor=p,c.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},p.ease=new p(.7,.7),c.config=p.config=function(t,e,i){return new p(t,e,i)},(c=(i=u("easing.SteppedEase",function(t,e){this._p1=1/(t=t||1),this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new m).constructor=i,c.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},c.config=i.config=function(t,e){return new i(t,e)},(c=(r=u("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0)).prototype=new m).constructor=r,c.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},c.config=r.config=function(t,e,i){return new r(t,e,i)},(c=(n=u("easing.RoughEase",function(t){for(var e,i,r,n,s,o,a=(t=t||{}).taper||"none",h=[],u=0,l=0|(t.points||20),c=l,p=!1!==t.randomize,d=!0===t.clamp,f=t.template instanceof m?t.template:null,_="number"==typeof t.strength?.4*t.strength:.4;-1<--c;)e=p?Math.random():1/l*c,i=f?f.getRatio(e):e,r="none"===a?_:"out"===a?(n=1-e)*n*_:"in"===a?e*e*_:(n=e<.5?2*e:2*(1-e))*n*.5*_,p?i+=Math.random()*r-.5*r:c%2?i+=.5*r:i-=.5*r,d&&(1<i?i=1:i<0&&(i=0)),h[u++]={x:e,y:i};for(h.sort(function(t,e){return t.x-e.x}),o=new g(1,1,null),c=l;-1<--c;)s=h[c],o=new g(s.x,s.y,o);this._prev=new g(0,0,0!==o.t?o:o.next)},!0)).prototype=new m).constructor=n,c.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},c.config=function(t){return new n(t)},n.ease=new n,e("Bounce",t("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),t("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),t("BounceInOut",function(t){var e=t<.5;return t=(t=e?1-2*t:2*t-1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),e("Circ",t("CircOut",function(t){return Math.sqrt(1- --t*t)}),t("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),t("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),e("Elastic",(c=function(t,e,i){var r=u("easing."+t,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),t=r.prototype=new m;return t.constructor=r,t.getRatio=e,t.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),c("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*--t)*Math.sin((t-this._p3)*this._p2))},.3),c("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*--t)*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*--t)*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),e("Expo",t("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),t("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),t("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),e("Sine",t("SineOut",function(t){return Math.sin(t*h)}),t("SineIn",function(t){return 1-Math.cos(t*h)}),t("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(t){return m.map[t]}},!0),l(s.SlowMo,"SlowMo","ease,"),l(n,"RoughEase","ease,"),l(i,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(p,d){"use strict";var e,i,f={},_=p.document,m=p.GreenSockGlobals=p.GreenSockGlobals||p;if(!m.TweenLite){var g,y=function(t){for(var e=t.split("."),i=m,r=0;r<e.length;r++)i[e[r]]=i=i[e[r]]||{};return i},c=y("com.greensock"),v=1e-10,a=function(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e},x=function(){},b=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===i)}),T={},P=function(a,h,u,l){this.sc=T[a]?T[a].sc:[],(T[a]=this).gsClass=null,this.func=u;var c=[];this.check=function(t){for(var e,i,r,n,s=h.length,o=s;-1<--s;)(e=T[h[s]]||new P(h[s],[])).gsClass?(c[s]=e.gsClass,o--):t&&e.sc.push(this);if(0===o&&u){if(r=(i=("com.greensock."+a).split(".")).pop(),n=y(i.join("."))[r]=this.gsClass=u.apply(u,c),l)if(m[r]=f[r]=n,"undefined"!=typeof module&&module.exports)if(a===d)for(s in module.exports=f[d]=n,f)n[s]=f[s];else f[d]&&(f[d][r]=n);else"function"==typeof define&&define.amd&&define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return n});for(s=0;s<this.sc.length;s++)this.sc[s].check()}},this.check(!0)},r=p._gsDefine=function(t,e,i,r){return new P(t,e,i,r)},w=c._class=function(t,e,i){return e=e||function(){},r(t,[],function(){return e},i),e};r.globals=m;var t,n=[0,0,1,1],E=w("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?n.concat(e):n},!0),S=E.map={},s=E.register=function(t,e,i,r){for(var n,s,o,a,h=e.split(","),u=h.length,l=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(s=h[u],n=r?w("easing."+s,null,!0):c.easing[s]||{},o=l.length;-1<--o;)a=l[o],S[s+"."+a]=S[a+s]=n[a]=t.getRatio?t:t[a]||new t};for((t=E.prototype)._calcEnd=!1,t.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},h=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--h;)t=o[h]+",Power"+h,s(new E(null,null,1,h),t,"easeOut",!0),s(new E(null,null,2,h),t,"easeIn"+(0===h?",easeNone":"")),s(new E(null,null,3,h),t,"easeInOut");S.linear=c.easing.Linear.easeIn,S.swing=c.easing.Quad.easeInOut;var I=w("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(t=I.prototype).addEventListener=function(t,e,i,r,n){n=n||0;var s,o,a=this._listeners[t],h=0;for(this!==M||g||M.wake(),null==a&&(this._listeners[t]=a=[]),o=a.length;-1<--o;)(s=a[o]).c===e&&s.s===i?a.splice(o,1):0===h&&s.pr<n&&(h=o+1);a.splice(h,0,{c:e,s:i,up:r,pr:n})},t.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;-1<--i;)if(r[i].c===e)return void r.splice(i,1)},t.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(1<(e=n.length)&&(n=n.slice(0)),i=this._eventTarget;-1<--e;)(r=n[e])&&(r.up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i))};for(var o,A=p.requestAnimationFrame,C=p.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()},L=O(),h=(o=["ms","moz","webkit","o"]).length;-1<--h&&!A;)A=p[o[h]+"RequestAnimationFrame"],C=p[o[h]+"CancelAnimationFrame"]||p[o[h]+"CancelRequestAnimationFrame"];w("Ticker",function(t,e){var r,n,s,o,a,h=this,u=O(),i=!(!1===e||!A)&&"auto",l=500,c=33,p="tick",d=function(t){var e,i=O()-L;l<i&&(u+=i-c),L+=i,h.time=(L-u)/1e3,i=h.time-a,(!r||0<i||!0===t)&&(h.frame++,a+=i+(o<=i?.004:o-i),e=!0),!0!==t&&(s=n(d)),e&&h.dispatchEvent(p)};I.call(h),h.time=h.frame=0,h.tick=function(){d(!0)},h.lagSmoothing=function(t,e){return arguments.length?(l=t||1e10,void(c=Math.min(e,l,0))):l<1e10},h.sleep=function(){null!=s&&((i&&C?C:clearTimeout)(s),n=x,s=null,h===M&&(g=!1))},h.wake=function(t){null!==s?h.sleep():t?u+=-L+(L=O()):10<h.frame&&(L=O()-l+5),n=0===r?x:i&&A?A:function(t){return setTimeout(t,1e3*(a-h.time)+1|0)},h===M&&(g=!0),d(2)},h.fps=function(t){return arguments.length?(o=1/((r=t)||60),a=this.time+o,void h.wake()):r},h.useRAF=function(t){return arguments.length?(h.sleep(),i=t,void h.fps(r)):i},h.fps(t),setTimeout(function(){"auto"===i&&h.frame<5&&"hidden"!==(_||{}).visibilityState&&h.useRAF(!1)},1500)}),(t=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var u=w("core.Animation",function(t,e){this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Z&&(g||M.wake(),(e=this.vars.useFrames?$:Z).add(this,e._time),this.vars.paused&&this.paused(!0))}),M=u.ticker=new c.Ticker;(t=u.prototype)._dirty=t._gc=t._initted=t._paused=!1,t._totalTime=t._time=0,t._rawPrevTime=-1,t._next=t._last=t._onUpdate=t._timeline=t.timeline=null,t._paused=!1;var l=function(){g&&2e3<O()-L&&("hidden"!==(_||{}).visibilityState||!M.lagSmoothing())&&M.wake();var t=setTimeout(l,2e3);t.unref&&t.unref()};l(),t.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},t.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},t.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},t.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},t.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},t.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},t.render=function(t,e,i){},t.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},t.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},t._enabled=function(t,e){return g||M.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},t._kill=function(t,e){return this._enabled(!1,!1)},t.kill=function(t,e){return this._kill(t,e),this},t._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},t._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},t._callback=function(t){var e=this.vars,i=e[t],r=e[t+"Params"],n=e[t+"Scope"]||e.callbackScope||this;switch(r?r.length:0){case 0:i.call(n);break;case 1:i.call(n,r[0]);break;case 2:i.call(n,r[0],r[1]);break;default:i.apply(n,r)}},t.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=b(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},t.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},t.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},t.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},t.totalTime=function(t,e,i){if(g||M.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(r<t&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(B.length&&Q(),this.render(t,e,!1),B.length&&Q())}return this},t.progress=t.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},t.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},t.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},t.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||v,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},t.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},t.paused=function(t){if(!arguments.length)return this._paused;var e,i,r=this._timeline;return t!=this._paused&&r&&(g||t||M.wake(),i=(e=r.rawTime())-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!=i&&this._initted&&this.duration()&&(e=r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var D=w("core.SimpleTimeline",function(t){u.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(t=D.prototype=new u).constructor=D,t.kill()._gc=!1,t._first=t._last=t._recent=null,t._sortChildren=!1,t.add=t.insert=function(t,e,i,r){var n,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(s=t._startTime;n&&n._startTime>s;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._recent=t,this._timeline&&this._uncache(!0),this},t._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},t.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},t.rawTime=function(){return g||M.wake(),this._totalTime};var R=w("TweenLite",function(t,e,i){if(u.call(this,e,i),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"==typeof t&&R.selector(t)||t;var r,n,s,i=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),o=this.vars.overwrite;if(this._overwrite=o=null==o?V[R.defaultOverwrite]:"number"==typeof o?o>>0:V[o],(i||t instanceof Array||t.push&&b(t))&&"number"!=typeof t[0])for(this._targets=s=a(t),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)(n=s[r])?"string"!=typeof n?n.length&&n!==p&&n[0]&&(n[0]===p||n[0].nodeType&&n[0].style&&!n.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(a(n))):(this._siblings[r]=J(n,this,!1),1===o&&1<this._siblings[r].length&&et(n,this,null,1,this._siblings[r])):"string"==typeof(n=s[r--]=R.selector(n))&&s.splice(r+1,1):s.splice(r--,1);else this._propLookup={},this._siblings=J(t,this,!1),1===o&&1<this._siblings.length&&et(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0),N=function(t){return t&&t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)};(t=R.prototype=new u).constructor=R,t.kill()._gc=!1,t.ratio=0,t._firstPT=t._targets=t._overwrittenProps=t._startAt=null,t._notifyPluginsOfEnabled=t._lazy=!1,R.version="1.20.4",R.defaultEase=t._ease=new E(null,null,1,1),R.defaultOverwrite="auto",R.ticker=M,R.autoSleep=120,R.lagSmoothing=function(t,e){M.lagSmoothing(t,e)},R.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(R.selector=e)(t):void 0===_?t:_.querySelectorAll?_.querySelectorAll(t):_.getElementById("#"===t.charAt(0)?t.substr(1):t)};var B=[],k={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,G=/[\+-]=-?[\.\d]/,U=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&-1e-6<e&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},X=function(t,e,i,r){var n,s,o,a,h,u,l=[],c=0,p="",d=0;for(l.start=t,l.end=e,t=l[0]=t+"",e=l[1]=e+"",i&&(i(l),t=l[0],e=l[1]),l.length=0,n=t.match(F)||[],s=e.match(F)||[],r&&(r._next=null,r.blob=1,l._firstPT=l._applyPT=r),a=s.length,o=0;o<a;o++)u=s[o],p+=(h=e.substr(c,e.indexOf(u,c)-c))||!o?h:",",c+=h.length,d?d=(d+1)%5:"rgba("===h.substr(-5)&&(d=1),u===n[o]||n.length<=o?p+=u:(p&&(l.push(p),p=""),h=parseFloat(n[o]),l.push(h),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:h,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-h)||0,f:0,m:d&&d<4?Math.round:0}),c+=u.length;return(p+=e.substr(c))&&l.push(p),l.setRatio=U,G.test(e)&&(l.end=null),l},j=function(t,e,i,r,n,s,o,a,h){"function"==typeof r&&(r=r(h||0,t));var u=typeof t[e],h="function"!=u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),i="get"!==i?i:h?o?t[h](o):t[h]():t[e],h="string"==typeof r&&"="===r.charAt(1),s={t:t,p:e,s:i,f:"function"==u,pg:0,n:n||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:h?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-i||0};return"number"==typeof i&&("number"==typeof r||h)||(o||isNaN(i)||!h&&isNaN(r)||"boolean"==typeof i||"boolean"==typeof r?(s.fp=o,s={t:X(i,h?parseFloat(s.s)+s.c+(s.s+"").replace(/[0-9\-\.]/g,""):r,a||R.defaultStringFilter,s),p:"setRatio",s:0,c:1,f:2,pg:0,n:n||e,pr:0,m:0}):(s.s=parseFloat(i),h||(s.c=parseFloat(r)-s.s||0))),s.c?((s._next=this._firstPT)&&(s._next._prev=s),this._firstPT=s):void 0},W=R._internals={isArray:b,isSelector:N,lazyTweens:B,blobDif:X},z=R._plugins={},H=W.tweenLookup={},q=0,Y=W.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},$=u._rootFramesTimeline=new D,Z=u._rootTimeline=new D,K=30,Q=W.lazyRender=function(){var t,e=B.length;for(k={};-1<--e;)(t=B[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);B.length=0};Z._startTime=M.time,$._startTime=M.frame,Z._active=$._active=!0,setTimeout(Q,1),u._updateRoot=R.render=function(){var t,e,i;if(B.length&&Q(),Z.render((M.time-Z._startTime)*Z._timeScale,!1,!1),$.render((M.frame-$._startTime)*$._timeScale,!1,!1),B.length&&Q(),M.frame>=K){for(i in K=M.frame+(parseInt(R.autoSleep,10)||120),H){for(t=(e=H[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[i]}if((!(i=Z._first)||i._paused)&&R.autoSleep&&!$._first&&1===M._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||M.sleep()}}},M.addEventListener("tick",u._updateRoot);var J=function(t,e,i){var r,n,s=t._gsTweenID;if(H[s||(t._gsTweenID=s="t"+q++)]||(H[s]={target:t,tweens:[]}),e&&((r=H[s].tweens)[n=r.length]=e,i))for(;-1<--n;)r[n]===e&&r.splice(n,1);return H[s].tweens},tt=function(t,e,i,r){var n,s,o=t.vars.onOverwrite;return o&&(n=o(t,e,i,r)),(o=R.onOverwrite)&&(s=o(t,e,i,r)),!1!==n&&!1!==s},et=function(t,e,i,r,n){var s,o,a;if(1===r||4<=r){for(a=n.length,d=0;d<a;d++)if((o=n[d])!==e)o._gc||o._kill(null,t,e)&&(s=!0);else if(5===r)break;return s}for(var h,u=e._startTime+v,l=[],c=0,p=0===e._duration,d=n.length;-1<--d;)(o=n[d])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||it(e,0,p),0===it(o,h,p)&&(l[c++]=o)):o._startTime<=u&&o._startTime+o.totalDuration()/o._timeScale>u&&((p||!o._initted)&&u-o._startTime<=2e-10||(l[c++]=o)));for(d=c;-1<--d;)if(o=l[d],2===r&&o._kill(i,t,e)&&(s=!0),2!==r||!o._firstPT&&o._initted){if(2!==r&&!tt(o,e))continue;o._enabled(!1,!1)&&(s=!0)}return s},it=function(t,e,i){for(var r=t._timeline,n=r._timeScale,s=t._startTime;r._timeline;){if(s+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return e<(s/=n)?s-e:i&&s===e||!t._initted&&s-e<2e-10?v:(s+=t.totalDuration()/t._timeScale/n)>e+v?0:s-e-v};t._init=function(){var t,e,i,r,n,s,o=this.vars,a=this._overwrittenProps,h=this._duration,u=!!o.immediateRender,l=o.ease;if(o.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},o.startAt)n[r]=o.startAt[r];if(n.data="isStart",n.overwrite=!1,n.immediateRender=!0,n.lazy=u&&!1!==o.lazy,n.startAt=n.delay=null,n.onUpdate=o.onUpdate,n.onUpdateParams=o.onUpdateParams,n.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=R.to(this.target,0,n),u)if(0<this._time)this._startAt=null;else if(0!==h)return}else if(o.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(u=!1),i={},o)Y[r]&&"autoCSS"!==r||(i[r]=o[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&!1!==o.lazy,i.immediateRender=u,this._startAt=R.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof E?l:"function"==typeof l?new E(l,o.easeParams):S[l]||R.defaultEase:R.defaultEase,o.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&R._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},t._initProps=function(t,e,i,r,n){var s,o,a,h,u,l;if(null==t)return!1;for(s in k[t._gsTweenID]&&Q(),this.vars.css||t.style&&t!==p&&t.nodeType&&z.css&&!1!==this.vars.autoCSS&&function(t,e){var i,r={};for(i in t)Y[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!z[i]||z[i]&&z[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r}(this.vars,t),this.vars)if(l=this.vars[s],Y[s])l&&(l instanceof Array||l.push&&b(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[s]=l=this._swapSelfInParams(l,this));else if(z[s]&&(h=new z[s])._onInitTween(t,this.vars[s],this,n)){for(this._firstPT=u={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:h._priority,m:0},o=h._overwriteProps.length;-1<--o;)e[h._overwriteProps[o]]=this._firstPT;(h._priority||h._onInitAllProps)&&(a=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else e[s]=j.call(this,t,s,"get",l,s,0,null,this.vars.stringFilter,n);return r&&this._kill(r,t)?this._initProps(t,e,i,r,n):1<this._overwrite&&this._firstPT&&1<i.length&&et(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,r,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(k[t._gsTweenID]=!0),a)},t.render=function(t,e,i){var r,n,s,o,a,h,u,l=this._time,c=this._duration,p=this._rawPrevTime;if(c-1e-7<=t&&0<=t?(this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0!==c||!this._initted&&this.vars.lazy&&!i||(this._startTime===this._timeline._duration&&(t=0),(p<0||t<=0&&-1e-7<=t||p===v&&"isPause"!==this.data)&&p!==t&&(i=!0,v<p&&(n="onReverseComplete")),this._rawPrevTime=o=!e||t||p===t?t:v)):t<1e-7?(this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===c&&0<p)&&(n="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0!==c||!this._initted&&this.vars.lazy&&!i||(0<=p&&(p!==v||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||p===t?t:v)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0)):(this._totalTime=this._time=t,this._easeType?(a=t/c,(1===(h=this._easeType)||3===h&&.5<=a)&&(a=1-a),3===h&&(a*=2),1===(u=this._easePower)?a*=a:2===u?a*=a*a:3===u?a*=a*a*a:4===u&&(a*=a*a*a*a),this.ratio=1===h?1-a:2===h?a:t/c<.5?a/2:1-a/2):this.ratio=this._ease.getRatio(t/c)),this._time!==l||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=p,B.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/c):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==l&&0<=t&&(this._active=!0),0===l&&(this._startAt&&(0<=t?this._startAt.render(t,!0,i):n=n||"_dummyGS"),!this.vars.onStart||0===this._time&&0!==c||(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==l||r||i)&&this._callback("onUpdate")),!n||this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===c&&this._rawPrevTime===v&&o!==v&&(this._rawPrevTime=0))}},t._kill=function(t,e,i){if(null==(t="all"===t?null:t)&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:R.selector(e)||e;var r,n,s,o,a,h,u,l,c,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((b(e)||N(e))&&"number"!=typeof e[0])for(r=e.length;-1<--r;)this._kill(t,e[r],i)&&(h=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(e===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,l=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(R.onOverwrite||this.vars.onOverwrite)){for(s in u)a[s]&&(c=c||[],c.push(s));if((c||!t)&&!tt(this,i,e,c))return!1}for(s in u)(o=a[s])&&(p&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,h=!0),o.pg&&o.t._kill(u)&&(h=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),l&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},t.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],u.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},t._enabled=function(t,e){if(g||M.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;-1<--i;)this._siblings[i]=J(r[i],this,!0);else this._siblings=J(this.target,this,!0)}return u.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(t?"_onEnable":"_onDisable",this)},R.to=function(t,e,i){return new R(t,e,i)},R.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new R(t,e,i)},R.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new R(t,e,r)},R.delayedCall=function(t,e,i,r,n){return new R(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},R.set=function(t,e){return new R(t,0,e)},R.getTweensOf=function(t,e){if(null==t)return[];var i,r,n,s;if(t="string"==typeof t&&R.selector(t)||t,(b(t)||N(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];-1<--i;)r=r.concat(R.getTweensOf(t[i],e));for(i=r.length;-1<--i;)for(s=r[i],n=i;-1<--n;)s===r[n]&&r.splice(i,1)}else if(t._gsTweenID)for(i=(r=J(t).concat()).length;-1<--i;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r||[]},R.killTweensOf=R.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=R.getTweensOf(t,e),n=r.length;-1<--n;)r[n]._kill(i,t)};var rt=w("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=rt.prototype},!0);if(t=rt.prototype,rt.version="1.19.0",rt.API=2,t._firstPT=null,t._addTween=j,t.setRatio=U,t._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},t._mod=t._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},R._onPluginEvent=function(t,e){var i,r,n,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:s)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:s=a,a=o}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},rt.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===rt.API&&(z[(new t[e])._propName]=t[e]);return!0},r.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=w("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){rt.call(this,i,r),this._overwriteProps=n||[]},!0===t.global),a=o.prototype=new rt(i);for(e in(a.constructor=o).API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,rt.activate([o]),o},o=p._gsQueue){for(h=0;h<o.length;h++)o[h]();for(t in T)T[t].func||p.console.log("GSAP encountered missing dependency: "+t)}g=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");var ApiConnector=ApiConnector||{};ApiConnector.isApiLoaded=function(){return"undefined"!=t1GMApi},ApiConnector.enableApiConsoleLogger=function(){t1GMApi.enableT1GMApiConsoleLog()},ApiConnector.IsMobile=function(){return"mobile"==t1GMApi.getGameOptions().channel},ApiConnector.LoadingStart=function(){t1GMApi.publishEvent(t1GMApi.publications.GAME_LOADING_START)},ApiConnector.LoadingUpdate=function(t){t1GMApi.publishEvent(t1GMApi.publications.GAME_LOADING_UPDATING,t)},ApiConnector.LoadingFinished=function(){t1GMApi.publishEvent(t1GMApi.publications.GAME_LOADING_FINISHED)},ApiConnector.updateWindowName=function(t){t1GMApi.updateWindowName(t)},ApiConnector.UpdateBalance=function(t){t1GMApi.updatePageBalance(t/100)},ApiConnector.UpdateWager=function(t){t1GMApi.updatePageCost(t/100)},ApiConnector.UpdateWin=function(t){t1GMApi.updatePageWin(t/100)},ApiConnector.ShowHelpScreen=function(){t1GMApi.showHelpScreen()},ApiConnector.OpenPlay=function(t){},ApiConnector.PlaceBet=function(t){},ApiConnector.GetBetResult=function(t){},ApiConnector.SettlePlay=function(t){},ApiConnector.ClosePlay=function(t){},ApiConnector.SaveData=function(t){};var xqu=xqu||{};xqu.version={},xqu.version.main="v.1.0.0",xqu.version.internal="20170622";var xqu=xqu||{};xqu.sys={},xqu.sys.mobileAndTabletcheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e},xqu.sys.iosCheck=function(){var t=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;t.length;)if(navigator.platform===t.pop())return!0;return!1},xqu.sys.isMobile=xqu.sys.mobileAndTabletcheck(),xqu.sys.isIos=xqu.sys.iosCheck(),xqu.sys.isDesktop=!xqu.sys.isMobile,xqu.sys.isChrome=!!window.chrome&&!!window.chrome.webstore,xqu.sys.isFirefox="undefined"!=typeof InstallTrigger,xqu.sys.isOpera=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),xqu.sys._autoFullScreen=!1,xqu.sys._autoFullScreenToggleAmount=0,xqu.sys.setAutoFullScreen=function(t){xqu.sys._autoFullScreen=t},xqu.sys.autoFullScreen=function(){xqu.sys._autoFullScreen&&xqu.sys.isMobile&&0==xqu.sys._autoFullScreenToggleAmount&&(xqu.sys._autoFullScreenToggleAmount++,xqu.sys.requestFullScreen())},xqu.sys.requestFullScreen=function(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()};var xqu=xqu||{};xqu.config={},xqu.config._DEVICE_DESKTOP="device_desktop",xqu.config._DEVICE_MOIBLE="device_moible",xqu.config._RESOLUTION_POLICY_LANDSCAPE="landscape",xqu.config._RESOLUTION_POLICY_PORTAIT="portait",xqu.config._GAME_MODE_STANDALONE="game_mode_standalone",xqu.config._GAME_MODE_SERVER_MODE="game_mode_server",xqu.config._GAME_MODE_SERVER_SIMULATOR_MODE="game_mode_server_simulator",xqu.config._GAME_DESIGN_SIZE_DESKTOP={x:2048,y:1365},xqu.config._GAME_DESIGN_SIZE_MOBILE={x:1080,y:1920},xqu.config.GAME_DESIGN_SIZE_WIDTH=0,xqu.config.GAME_DESIGN_SIZE_HEIGHT=0,xqu.config.SCREEN_CENTER_X=0,xqu.config.SCREEN_CENTER_Y=0,xqu.config.DEBUG_MODE=!1,xqu.config.GAME_MODE=xqu.config._GAME_MODE_SERVER_SIMULATOR_MODE,xqu.config.RUNNING_DEVICE=xqu.config._DEVICE_DESKTOP,xqu.config.InitializeGameConfig=function(){xqu.config.RUNNING_DEVICE==xqu.config._DEVICE_DESKTOP?(xqu.config.RESOLUTION_POLICY=xqu.config._RESOLUTION_POLICY_LANDSCAPE,xqu.config.GAME_DESIGN_SIZE_WIDTH=xqu.config._GAME_DESIGN_SIZE_DESKTOP.x,xqu.config.GAME_DESIGN_SIZE_HEIGHT=xqu.config._GAME_DESIGN_SIZE_DESKTOP.y):(xqu.config.RESOLUTION_POLICY=xqu.config._RESOLUTION_POLICY_PORTAIT,xqu.config.GAME_DESIGN_SIZE_WIDTH=xqu.config._GAME_DESIGN_SIZE_MOBILE.x,xqu.config.GAME_DESIGN_SIZE_HEIGHT=xqu.config._GAME_DESIGN_SIZE_MOBILE.y),xqu.config.SCREEN_CENTER_X=xqu.config.GAME_DESIGN_SIZE_WIDTH/2,xqu.config.SCREEN_CENTER_Y=xqu.config.GAME_DESIGN_SIZE_HEIGHT/2},xqu.config.IsMobile=function(){return xqu.config.GAME_MODE==xqu.config._GAME_MODE_SERVER_MODE||xqu.config.GAME_MODE==xqu.config._GAME_MODE_SERVER_SIMULATOR_MODE?ApiConnector.IsMobile():xqu.config.RUNNING_DEVICE==xqu.config._DEVICE_MOIBLE};var xqu=xqu||{};function XQUPubSub(){this.events={},this.id=0}xqu.utils={},xqu.utils.getDecimalDigits=function(t){var e=0,i=t.toString(),t=i.indexOf(".");return e=-1!=t?i.length-t-1:e},xqu.utils.getDifference=function(t,e){return e<=t?t-e:e-t},xqu.utils.RandomNum=function(t,e){for(var i=xqu.utils.getDecimalDigits(t),r=xqu.utils.getDecimalDigits(t),n=r<i?i:r,s=1,o=0;o<n;o++)s*=10;t*=s,e*=s;return Math.floor(Math.random()*(e-t+1)+t)/s},xqu.utils.calDiff=function(t,e){return e<=t?t-e:e-t},xqu.utils.Distance=function(t,e,i,r){t=i-t,e=r-e;return Math.sqrt(t*t+e*e)},xqu.utils.getDegree=function(t,e,i,r,n,s){var o=xqu.utils.Distance(i,r,n,s),s=xqu.utils.Distance(t,e,n,s),r=xqu.utils.Distance(t,e,i,r);return Math.acos((s*s+r*r-o*o)/(2*s*r))*(180/Math.PI)},xqu.utils.shuffleArray=function(t){for(var e,i,r=t.length;r;e=Math.floor(Math.random()*r),i=t[--r],t[r]=t[e],t[e]=i);return t},xqu.utils.getType=function(t){var e;return("object"==(e=typeof t)?null==t?"null":Object.prototype.toString.call(t).slice(8,-1):e).toLowerCase()},xqu.utils.cloneArray=function(t,e){for(var i in e)"array"==xqu.utils.getType(e[i])||"object"==xqu.utils.getType(e[i])?(t[i]="array"==xqu.utils.getType(e[i])?[]:{},arguments.callee(t[i],e[i])):t[i]=e[i]},xqu.utils.sformatNumber=function(t,e,i,r){var e=isNaN(e=Math.abs(e))?2:e,i=null==i?".":i,r=null==r?",":r,n=t<0?"-":"",s=parseInt(t=Math.abs(+t||0).toFixed(e))+"",o=3<(o=s.length)?o%3:0;return n+(o?s.substr(0,o)+r:"")+s.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r)+(e?i+Math.abs(t-s).toFixed(e).slice(2):"")},xqu.utils.lerp=function(t,e,i){return t*(1-i)+e*i},xqu.log=Function.prototype.bind.call(console.log,console),xqu.warn=Function.prototype.bind.call(console.warn,console),xqu.fatal=Function.prototype.bind.call(console.error,console),xqu.config.DEBUG_MODE||(xqu.log=xqu.warn=xqu.fatal=function(t){}),xqu.assert=function(t,e){if(xqu.config.DEBUG_MODE&&!t){if(e=e||"Assertion failed","undefined"!=typeof Error)throw new Error(e);throw e}},XQUPubSub.prototype.subscribe=function(t,e){return t?(this.events[t]||(this.events[t]=[]),this.events[t].push({id:++this.id,fn:e}),this.id):(xqu.log("The event("+t+") sent in XQUPubSub.subscribeToEvent() method is NULL or UNDEFINED!"),void xqu.log(e))},XQUPubSub.prototype.publish=function(t,e){if(!t)return xqu.log("The event("+t+") sent in XQUPubSub.subscribeToEvent() method is NULL or UNDEFINED!"),void xqu.log(e);var i={type:t};if(void 0!==e&&(i.data=e),this.events[t]){for(var r=this.events[t].length-1;0<=r;r--)this.events[t][r]&&this.events[t][r].fn&&this.events[t][r].fn(i);if(this.events[t])return this.events[t].length}return!1},XQUPubSub.prototype.unsubscribe=function(t){if(t){var e,i=!1;for(e in this.events)for(var r=0;r<this.events[e].length&&!i;r++)this.events[e][r].id===t&&(this.events[e].splice(r,1),i=!0);return i}xqu.log("The id sent in XQUPubSub.unsubscribeFromEvent() method is NULL or UNDEFINED!")};var xqu=xqu||{};xqu.Callback=function(t,e,i){this.scope=e,this.func=t,this.data=i};var xqu=xqu||{};xqu.listener={},xqu.listener.EVENT_WINDOW_ON_FOCUS="xqu.listener.EVENT_WINDOW_ON_FOCUS",xqu.listener.EVENT_WINDOW_ON_BLUR="xqu.listener.EVENT_WINDOW_ON_BLUR",xqu.listener.EVENT_WINDOW_RESIZE="xqu.listener.EVENT_WINDOW_RESIZE",xqu.listener.callbacks={},xqu.listener.addEventListener=function(t,e){xqu.listener.callbacks[t]||(xqu.listener.callbacks[t]=[]),-1==xqu.listener.callbacks[t].indexOf(e)&&xqu.listener.callbacks[t].push(e)},xqu.listener.window_onfocus=function(){var t=xqu.listener.EVENT_WINDOW_ON_FOCUS;if(xqu.listener.callbacks[t])for(var e=0;e<xqu.listener.callbacks[t].length;e++){var i=xqu.listener.callbacks[t][e],r=i.func,i=i.scope;r.call(i,{})}},xqu.listener.window_onblur=function(){var t=xqu.listener.EVENT_WINDOW_ON_BLUR;if(xqu.listener.callbacks[t])for(var e=0;e<xqu.listener.callbacks[t].length;e++){var i=xqu.listener.callbacks[t][e],r=i.func,i=i.scope;r.call(i,{})}},xqu.listener.window_onResize=function(){var t=xqu.listener.EVENT_WINDOW_RESIZE;if(xqu.listener.callbacks[t])for(var e=0;e<xqu.listener.callbacks[t].length;e++){var i=xqu.listener.callbacks[t][e],r=i.func,i=i.scope;r.call(i,{})}},window.addEventListener("resize",function(){xqu.listener.window_onResize()});var vis=function(){var e,i,t={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in t)if(e in document){i=t[e];break}return function(t){return t&&document.addEventListener(i,t),!document[e]}}();vis(function(){vis()?(xqu.listener.window_onfocus(),setTimeout(function(){},300)):xqu.listener.window_onblur()});var notIE=void 0===document.documentMode,isChromium=window.chrome;notIE&&!isChromium?$(window).on("focusin",function(){xqu.listener.window_onfocus(),setTimeout(function(){},300)}).on("focusout",function(){}):window.addEventListener?(window.addEventListener("focus",function(t){xqu.listener.window_onfocus(),setTimeout(function(){},300)},!1),window.addEventListener("blur",function(t){},!1)):(window.attachEvent("focus",function(t){xqu.listener.window_onfocus(),setTimeout(function(){},300)}),window.attachEvent("blur",function(t){}));var xqu=xqu||{};xqu.audio=xqu.audio||{},xqu.audio.mute=!0,xqu.audio.ins={},xqu.audio._isMusicPlaying=!1,xqu.audio.findSnd=function(t){return PIXI.sound.find(t)},xqu.audio.turnOnSound=function(){xqu.log("turn on sound"),PIXI.sound.unmuteAll(),xqu.audio.mute=!1},xqu.audio.turnOffSound=function(){xqu.log("turn off sound"),PIXI.sound.muteAll(),xqu.audio.mute=!0},xqu.audio.playEffect=function(t,e){var i;xqu.audio.mute||(e=e||!1,PIXI.sound.exists(t)?((i=xqu.audio.findSnd(t)).play(),i.loop=e):xqu.log(!1,"xqu.audio.playEffect: Cannot find audio name : "+t))},xqu.audio.stopEffect=function(t){xqu.audio.mute||(PIXI.sound.exists(t)?xqu.audio.findSnd(t).stop():xqu.log(!1,"xqu.audio.stopEffect: Cannot find audio name : "+t))},xqu.audio.playMusic=function(t,e){var i;xqu.audio.mute||xqu.audio._isMusicPlaying||(e=e||!0,PIXI.sound.exists(t)?((i=PIXI.sound.find(t)).play(),i.loop=e,xqu.audio._isMusicPlaying=!0):xqu.log(!1,"xqu.audio.playMusic: Cannot find audio name : "+t))},xqu.audio.isMusicPlaying=function(){return xqu.audio._isMusicPlaying},xqu.audio.pauseAll=function(){PIXI.sound.pauseAll()},xqu.audio.resumeAll=function(){PIXI.sound.resumeAll()},xqu.audio.onWindowFocus=function(){xqu.audio.resumeAll()},xqu.audio.onWindowBlur=function(){xqu.audio.pauseAll()},xqu.listener.addEventListener(xqu.listener.EVENT_WINDOW_ON_FOCUS,new xqu.Callback(xqu.audio.onWindowFocus,xqu.audio)),xqu.listener.addEventListener(xqu.listener.EVENT_WINDOW_ON_BLUR,new xqu.Callback(xqu.audio.onWindowBlur,xqu.audio)),xqu.log("xqu.audio is loaded");var xqu=xqu||{};xqu.pixi={},xqu.pixi.director={},xqu.pixi.sceneList=[],xqu.pixi.mainGame=null,xqu.pixi.director._findMainGame=function(){var t=Stage.children;xqu.log("layers = "+t);for(var e=null,i=0;i<t.length;i++){var r=t[i];r.name&&"MainGameLayer"==r.name&&(e=r)}e&&(xqu.pixi.mainGame=e.getChildAt(0))},xqu.pixi.director._isMainGameReady=function(){return xqu.pixi.mainGame||xqu.pixi.director._findMainGame(),null!=xqu.pixi.mainGame},xqu.pixi.director.runScene=function(t){xqu.pixi.director._isMainGameReady()&&(xqu.pixi.mainGame.removeChildren(),xqu.pixi.sceneList=[],xqu.pixi.sceneList.push(t),xqu.pixi.mainGame.addChild(t))},xqu.pixi.director.pushScene=function(t){xqu.pixi.director._isMainGameReady()&&(xqu.pixi.sceneList.push(t),xqu.pixi.mainGame.addChild(t))},xqu.pixi.SimpleButton=function(t,e,i,r){var n={EVENT_CLICK:"click"};return n._name=t,n.name=n._name,n._enabled=!0,n._tUp=e,n._tDown=i,n._tOver=r,n._isDown=!1,n._isOver=!1,n._button=null,n._callbacks={},n.setEnable=function(t){n._button.interactive=t,n._button.buttonMode=t,n._enabled=t,n._button.alpha=t?1:.5},n.getEnabled=function(){return n._enabled},n.setVisible=function(t){n._button.visible=t},n.setAlpha=function(t){n._button.alpha=t},n.getTransform=function(){return n._button},n.setPosition=function(t,e){n._button.x=t,n._button.y=e},n.setScale=function(t,e){n._button.scale.x=t,n._button.scale.y=e},n.getPosition=function(){return{x:n._button.x,y:n._button.y}},n.getSize=function(){return{x:n._button.width,y:n._button.height}},n._onButtonDown=function(t){n._isDown=!0,n._button.texture=n._tDown,n._button.alpha=1},n._onButtonUp=function(){n._isdown=!1,n._isOver?n._button.texture=n._tOver:n._button.texture=n._tUp},n._onButtonOver=function(){n._isOver=!0,n._isdown||(n._button.texture=n._tOver)},n._onButtonOut=function(){n._isOver=!1,n._isdown||(n._button.texture=n._tUp)},n._onButtonClick=function(){var t,e;n._button.texture=n._tUp,null!=n._callbacks[n.EVENT_CLICK]&&(t=n._callbacks[n.EVENT_CLICK].func,e=n._callbacks[n.EVENT_CLICK].scope,t.call(e,{target:n})),xqu.sys.autoFullScreen()},n.addEventListener=function(t,e){n._callbacks[t]=e},(n.init=function(){n._button=new Sprite(n._tUp),n._button.anchor.set(.5),n._button.interactive=!0,n._button.buttonMode=!0,n._button.on("pointerdown",n._onButtonDown.bind(n)),n._button.on("pointerup",n._onButtonUp.bind(n)),n._button.on("pointerupoutside",n._onButtonUp.bind(n)),n._button.on("pointerover",n._onButtonOver.bind(n)),n._button.on("pointerout",n._onButtonOut.bind(n)),n._button.on("click",n._onButtonClick.bind(n)),n._button.on("tap",n._onButtonClick.bind(n))})(),n},xqu.pixi.SoundButton=function(t,e,i,r,n,s,o){var a={EVENT_CLICK:"click"};return a._name=t,a.name=a._name,a._tUpOn=e,a._tDownOn=i,a._tOverOn=r,a._tUpOff=n,a._tDownOff=s,a._tOverOff=o,a._soundOn=!xqu.audio.mute,a._isDown=!1,a._isOver=!1,a._button=null,a._callbacks={},a.setEnable=function(t){a._button.interactive=t,a._button.buttonMode=t},a.setVisible=function(t){a._button.visible=t},a.setAlpha=function(t){a._button.alpha=t},a.getTransform=function(){return a._button},a.setPosition=function(t,e){a._button.x=t,a._button.y=e},a.getPosition=function(){return{x:a._button.x,y:a._button.y}},a.getSize=function(){return{x:a._button.width,y:a._button.height}},a._onButtonDown=function(t){a._isDown=!0,a._soundOn?a._button.texture=a._tDownOn:a._button.texture=a._tDownOff,a._button.alpha=1},a._onButtonUp=function(){a._isdown=!1,a._isOver?a._soundOn?a._button.texture=a._tOverOn:a._button.texture=a._tOverOff:a._soundOn?a._button.texture=a._tUpOn:a._button.texture=a._tUpOff},a._onButtonOver=function(){a._isOver=!0,a._isdown||(a._soundOn?a._button.texture=a._tOverOn:a._button.texture=a._tOverOff)},a._onButtonOut=function(){a._isOver=!1,a._isdown||(a._soundOn?a._button.texture=a._tUpOn:a._button.texture=a._tUpOff)},a._onButtonClick=function(){xqu.log("xqu.audio.mute = "+xqu.audio.mute),xqu.audio.mute?(a._soundOn=!0,xqu.audio.turnOnSound(),a._button.texture=a._tUpOn):(a._soundOn=!1,xqu.audio.turnOffSound(),a._button.texture=a._tUpOff),xqu.sys.autoFullScreen()},a.addEventListener=function(t,e){a._callbacks[t]=e},(a.init=function(){a._button=new Sprite(a._tUpOn),a._button.anchor.set(.5),a._button.interactive=!0,a._button.buttonMode=!0,a._button.on("pointerdown",a._onButtonDown.bind(a)),a._button.on("pointerup",a._onButtonUp.bind(a)),a._button.on("pointerupoutside",a._onButtonUp.bind(a)),a._button.on("pointerover",a._onButtonOver.bind(a)),a._button.on("pointerout",a._onButtonOut.bind(a)),a._button.on("click",a._onButtonClick.bind(a)),a._button.on("tap",a._onButtonClick.bind(a))})(),a};var baseFolder="res/",audioType="mp3",audioFolder="audio/",res={Splash_Scene_1:baseFolder+"splash_scene_1.json",SplashPage:baseFolder+"SplashPage.json",Ingame_Scene_1:baseFolder+"ingame_scene_1.json",Ingame_Scene_2:baseFolder+"ingamemain.json",Ingame_Scene_3:baseFolder+"ingamebtn.json",Ingame_Scene_AutoplayLayer:baseFolder+"ingameautoplaylayer.json",Ingame_UnselectFont:baseFolder+"font/unselectPink.fnt",Ingame_payoutWhiteWinSlot:baseFolder+"font/payoutWhiteWinSlot.fnt",Ingame_payoutWhiteWinPrice:baseFolder+"font/payoutWhiteWinPrice.fnt",Ingame_payoutPurple:baseFolder+"font/payoutPurple.fnt",Ingame_payoutWin:baseFolder+"font/payoutWin.fnt",Ingame_Wager:baseFolder+"font/setWagerFont.fnt",Ingame_msg:baseFolder+"font/font_messageWindow.fnt",AutoPlayLayerDes:baseFolder+"font/BMFont_JT_Auto_Play_Setting_description.fnt",AutoPlayLayerVal:baseFolder+"font/BMFont_JT_Auto_Play_Setting_Value.fnt",Snd_Bg:baseFolder+audioFolder+"bgMusicLoop."+audioType,Snd_AutoPick_Btn:baseFolder+audioFolder+"autoPick."+audioType,Snd_WagerUp_Btn:baseFolder+audioFolder+"wagerUp."+audioType,Snd_WagerDown_Btn:baseFolder+audioFolder+"wagerDown."+audioType,Snd_Play_Btn:baseFolder+audioFolder+"playButton."+audioType,Snd_AutoStop_Btn:baseFolder+audioFolder+"stopAutoPlay."+audioType,Snd_Utility_Btn:baseFolder+audioFolder+"utilityButton."+audioType,Snd_Bonus1234:baseFolder+audioFolder+"bonusStar1234."+audioType,Snd_Bonus5:baseFolder+audioFolder+"bonusStar5."+audioType,Snd_ClearAll_Btn:baseFolder+audioFolder+"clearAll."+audioType,Snd_Meteor:baseFolder+audioFolder+"meteorBall."+audioType,Snd_SelectBall:baseFolder+audioFolder+"numberMatch."+audioType,Snd_NumberDown:baseFolder+audioFolder+"numberSelectOn."+audioType,Snd_NumberUp:baseFolder+audioFolder+"numberSelectOff."+audioType,Snd_YellowStar_Show:baseFolder+audioFolder+"starAppear."+audioType,Snd_YellowStar_Move:baseFolder+audioFolder+"starMove."+audioType,Snd_TryAgain:baseFolder+audioFolder+"tryAgain."+audioType,Snd_YouWin:baseFolder+audioFolder+"youWin."+audioType,Scene_Bg_1:baseFolder+"scene_bg_1.json"},g_resources={},key;for(key in res)g_resources[key.toString()]=res[key];var xqu=xqu||{};xqu.Loader=function(){this._container=new PIXI.Container,this._loadText=null,this._logo=null,this._callbacks={},this.ctor()},xqu.Loader.EVENT_PROGRESS="xqu.Loader.EVENT_PROGRESS",xqu.Loader.EVENT_ERROR="xqu.Loader.EVENT_ERROR",xqu.Loader.EVENT_FINISHED="xqu.Loader.EVENT_FINISHED",xqu.Loader.prototype.ctor=function(){ApiConnector.LoadingStart()},xqu.Loader.prototype.getTransform=function(){return this._container},xqu.Loader.prototype.addEventListener=function(t,e){this._callbacks[t]=e},xqu.Loader.prototype.preload=function(t){for(var e in t)Loader.add(e,t[e]);Loader.onProgress.add(this._onLoadProgress.bind(this)),Loader.onError.add(this._onLoadError.bind(this)),Loader.load(this._onLoadFinished.bind(this))},xqu.Loader.prototype._onLoadProgress=function(t,e){var i=e.name,r=e.url,e=(t.progress,100<=Math.ceil(t.progress)?100:Math.ceil(t.progress)),t=e+"%";xqu.log("loading -> progress("+e+", name("+i+"), url("+r+")"),xqu.log("Loading "+t),ApiConnector.LoadingUpdate(e)},xqu.Loader.prototype._onLoadError=function(t,e,i){xqu.log("Loading Error ==> "+t),xqu.log(t)},xqu.Loader.prototype._onLoadFinished=function(t,e){var i,r=this._callbacks[xqu.Loader.EVENT_FINISHED];null!=r&&(i=r.func,r=r.scope,i.call(r,{target:this})),xqu.sys.isMobile,ApiConnector.LoadingFinished()};var Application=PIXI.Application,Loader=PIXI.Loader.shared,Resources=PIXI.LoaderResources,TextureCache=PIXI.utils.TextureCache,AnimatedSprite=PIXI.AnimatedSprite,Sprite=PIXI.Sprite,AnimatedSprite=PIXI.AnimatedSprite,BitmapText=PIXI.BitmapText,Rectangle=PIXI.Rectangle,Point=PIXI.Point,App,Stage,Renderer,RENDER_TYPE_WEBGL="WebGL",RENDER_TYPE_CANVAS="canvas",renderType=RENDER_TYPE_WEBGL;PIXI.utils.isWebGLSupported()||(renderType=RENDER_TYPE_CANVAS),xqu.config.DEBUG_MODE?PIXI.utils.sayHello(renderType):PIXI.utils.skipHello();var T1Game=function(){var n={_loaderLayer:null,_mainGameLayer:null,_loader:null,_mainGame:null,_gameDiv:null,_gameCanvas:null,_preWindowSizeW:0,_preWindowSizeH:0,start:function(){var t=this;xqu.config.GAME_MODE==xqu.config._GAME_MODE_SERVER_MODE||xqu.config.GAME_MODE==xqu.config._GAME_MODE_SERVER_SIMULATOR_MODE?ApiConnector.isApiLoaded()?(xqu.config.DEBUG_MODE&&ApiConnector.enableApiConsoleLogger(),n._prepareGameConfigWithServer(),n._init(),n._loadAssets()):setTimeout(function(){t.start()},2e3):xqu.config.GAME_MODE==xqu.config._GAME_MODE_SERVER_MODE&&(n._prepareGameConfig(),n._init(),n._loadAssets())},_init:function(){App=new Application({width:xqu.config.GAME_DESIGN_SIZE_WIDTH,height:xqu.config.GAME_DESIGN_SIZE_HEIGHT,backgroundColor:0,autoDensity:!0,autoResize:!0,resolution:window.devicePixelRatio}),Renderer=App.renderer,(Stage=App.stage).pivot.set(xqu.config.GAME_DESIGN_SIZE_WIDTH/2,xqu.config.GAME_DESIGN_SIZE_HEIGHT/2),n._gameDiv=document.getElementById("game"),n._gameDiv.appendChild(App.view),n._gameCanvas=n._gameDiv.childNodes[0],n._loaderLayer=new PIXI.Container,n._mainGameLayer=new PIXI.Container,n._mainGameLayer.name="MainGameLayer",n._mainGameLayer.visible=!1,Stage.addChild(n._mainGameLayer),Stage.addChild(n._loaderLayer),n._loader=new xqu.Loader,n._loader.addEventListener(xqu.Loader.EVENT_FINISHED,new xqu.Callback(n._onLoadFinished,n)),n._loaderLayer.addChild(n._loader.getTransform()),n._mainGame=new MainGame,n._mainGameLayer.addChild(n._mainGame.getTransform()),n._setupRenderer()},_setupRenderer:function(){n._resizeRendererAndStage(),xqu.listener.addEventListener(xqu.listener.EVENT_WINDOW_RESIZE,new xqu.Callback(n._resizeRendererAndStage,n))},_resizeRendererAndStage:function(){var t,e=document.getElementById("statusBarHolder").clientHeight,i=n._gameDiv.clientWidth,r=n._gameDiv.clientHeight-e;i==n._preWindowSizeW&&r==n._preWindowSizeH||(n._preWindowSizeW=i,n._preWindowSizeH=r,Renderer.resize(i,r),e=(t=i)/xqu.config.GAME_DESIGN_SIZE_WIDTH,r=(i=r)/xqu.config.GAME_DESIGN_SIZE_HEIGHT,r=+Math.min(e,r),Stage.scale.set(r),Stage.position.set(t/2,i/2))},_loadAssets:function(){n._loader.preload(g_resources)},_onLoadFinished:function(){Stage.removeChild(n._loaderLayer),n._mainGame.init(),n._mainGameLayer.visible=!0},_prepareGameConfigWithServer:function(){ApiConnector.IsMobile()?xqu.config.RUNNING_DEVICE=xqu.config._DEVICE_MOIBLE:xqu.config.RUNNING_DEVICE=xqu.config._DEVICE_DESKTOP,xqu.config.InitializeGameConfig()},_prepareGameConfig:function(){xqu.config.InitializeGameConfig()}};return n};function JC_JavaScript_Tools(){this.logAlert=!0,this.log=function(t){this.logAlert&&console.log(t)},this.hitCheck=function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},this.mobileOrComputer=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:e},this.detectMobileOS=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return t.match(/iPad/i)||t.match(/iPhone/i)||t.match(/iPod/i)?"IOS":t.match(/Android/i)?"ANDROID":"UNKNOWN"},this.hideAndroidAdd=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():docElm.msRequestFullscreen&&docElm.msRequestFullscreen()}}function JC_PIXI_Tools(){this.TC=PIXI.utils.TextureCache,this.Sprite=PIXI.Sprite,this.Btn=function(t,e,i){"mousedown"==e?t.mousedown=t.touchstart=i:"mouseup"==e?t.mouseup=t.touchend=i:"mouseout"==e?t.mouseout=t.touchendoutside=i:"click"==e&&(t.click=t.tap=i)},this.JC_PIXI_SPINE=function(t,e){this.obj=new PIXI.spine.Spine(function(t,e){for(var i in t)if(i==e)return t[e]}(t,e).spineData),this.obj.skeleton.setToSetupPose(),this.obj.autoUpdate=!1,this.start=function(t,e){this.obj.autoUpdate=!0,this.useAct(0,t,e)},this.update=function(t){this.obj.autoUpdate=t},this.stop=function(){this.obj.autoUpdate=!1},this.useAct=function(t,e,i){this.obj.state.setAnimation(t,e,i)},this.setPosition=function(t,e){this.obj.position.set(t,e)},this.setScale=function(t,e){this.obj.scale.set(t,e)},this.setVisible=function(t){this.obj.visible=!!t},this.setAlpha=function(t){this.obj.alpha=t},this.getObj=function(){return this.obj}}}!function(p){"use strict";var e,i,d=p.GreenSockGlobals=p.GreenSockGlobals||p;if(!d.TweenLite){var f,_=function(t){for(var e=t.split("."),i=d,r=0;e.length>r;r++)i[e[r]]=i=i[e[r]]||{};return i},c=_("com.greensock"),m=1e-10,a=function(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e},g=function(){},l=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===i)}),y={},v=function(a,h,u,l){this.sc=y[a]?y[a].sc:[],(y[a]=this).gsClass=null,this.func=u;var c=[];this.check=function(t){for(var e,i,r,n,s=h.length,o=s;-1<--s;)(e=y[h[s]]||new v(h[s],[])).gsClass?(c[s]=e.gsClass,o--):t&&e.sc.push(this);if(0===o&&u)for(r=(i=("com.greensock."+a).split(".")).pop(),n=_(i.join("."))[r]=this.gsClass=u.apply(u,c),l&&(d[r]=n,"function"==typeof define&&define.amd?define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return n}):"TweenLite"===a&&"undefined"!=typeof module&&module.exports&&(module.exports=n)),s=0;this.sc.length>s;s++)this.sc[s].check()},this.check(!0)},r=p._gsDefine=function(t,e,i,r){return new v(t,e,i,r)},x=c._class=function(t,e,i){return e=e||function(){},r(t,[],function(){return e},i),e};r.globals=d;var t,n=[0,0,1,1],b=[],T=x("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?n.concat(e):n},!0),P=T.map={},s=T.register=function(t,e,i,r){for(var n,s,o,a,h=e.split(","),u=h.length,l=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(s=h[u],n=r?x("easing."+s,null,!0):c.easing[s]||{},o=l.length;-1<--o;)a=l[o],P[s+"."+a]=P[a+s]=n[a]=t.getRatio?t:t[a]||new t};for((t=T.prototype)._calcEnd=!1,t.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},h=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--h;)t=o[h]+",Power"+h,s(new T(null,null,1,h),t,"easeOut",!0),s(new T(null,null,2,h),t,"easeIn"+(0===h?",easeNone":"")),s(new T(null,null,3,h),t,"easeInOut");P.linear=c.easing.Linear.easeIn,P.swing=c.easing.Quad.easeInOut;var w=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(t=w.prototype).addEventListener=function(t,e,i,r,n){n=n||0;var s,o,a=this._listeners[t],h=0;for(null==a&&(this._listeners[t]=a=[]),o=a.length;-1<--o;)(s=a[o]).c===e&&s.s===i?a.splice(o,1):0===h&&n>s.pr&&(h=o+1);a.splice(h,0,{c:e,s:i,up:r,pr:n}),this!==C||f||C.wake()},t.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;-1<--i;)if(r[i].c===e)return void r.splice(i,1)},t.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(e=n.length,i=this._eventTarget;-1<--e;)(r=n[e]).up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i)};for(var o,E=p.requestAnimationFrame,S=p.cancelAnimationFrame,I=Date.now||function(){return(new Date).getTime()},A=I(),h=(o=["ms","moz","webkit","o"]).length;-1<--h&&!E;)E=p[o[h]+"RequestAnimationFrame"],S=p[o[h]+"CancelAnimationFrame"]||p[o[h]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var r,n,s,o,a,h=this,u=I(),i=!1!==e&&E,l=500,c=33,p=function(t){var e,i=I()-A;l<i&&(u+=i-c),A+=i,h.time=(A-u)/1e3,i=h.time-a,(!r||0<i||!0===t)&&(h.frame++,a+=i+(o<=i?.004:o-i),e=!0),!0!==t&&(s=n(p)),e&&h.dispatchEvent("tick")};w.call(h),h.time=h.frame=0,h.tick=function(){p(!0)},h.lagSmoothing=function(t,e){l=t||1e10,c=Math.min(e,l,0)},h.sleep=function(){null!=s&&((i&&S?S:clearTimeout)(s),n=g,s=null,h===C&&(f=!1))},h.wake=function(){null!==s?h.sleep():10<h.frame&&(A=I()-l+5),n=0===r?g:i&&E?E:function(t){return setTimeout(t,0|1e3*(a-h.time)+1)},h===C&&(f=!0),p(2)},h.fps=function(t){return arguments.length?(o=1/((r=t)||60),a=this.time+o,void h.wake()):r},h.useRAF=function(t){return arguments.length?(h.sleep(),i=t,void h.fps(r)):i},h.fps(t),setTimeout(function(){i&&(!s||h.frame<5)&&h.useRAF(!1)},1500)}),(t=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var u=x("core.Animation",function(t,e){this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,W&&(f||C.wake(),(e=this.vars.useFrames?j:W).add(this,e._time),this.vars.paused&&this.paused(!0))}),C=u.ticker=new c.Ticker;(t=u.prototype)._dirty=t._gc=t._initted=t._paused=!1,t._totalTime=t._time=0,t._rawPrevTime=-1,t._next=t._last=t._onUpdate=t._timeline=t.timeline=null,t._paused=!1;var O=function(){f&&2e3<I()-A&&C.wake(),setTimeout(O,2e3)};O(),t.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},t.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},t.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},t.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},t.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},t.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},t.render=function(){},t.invalidate=function(){return this},t.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},t._enabled=function(t,e){return f||C.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},t._kill=function(){return this._enabled(!1,!1)},t.kill=function(t,e){return this._kill(t,e),this},t._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},t._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},t.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=l(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},t.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},t.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},t.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},t.totalTime=function(t,e,i){if(f||C.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(r<t&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(this.render(t,e,!1),R.length&&z())}return this},t.progress=t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},t.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},t.timeScale=function(t){return arguments.length?(t=t||m,this._timeline&&this._timeline.smoothChildTiming&&(e=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=e-(e-this._startTime)*this._timeScale/t),this._timeScale=t,this._uncache(!1)):this._timeScale;var e},t.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},t.paused=function(t){return arguments.length?(t!=this._paused&&this._timeline&&(f||t||C.wake(),r=(i=(e=this._timeline).rawTime())-this._pauseTime,!t&&e.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!=r&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this):this._paused;var e,i,r};var L=x("core.SimpleTimeline",function(t){u.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(t=L.prototype=new u).constructor=L,t.kill()._gc=!1,t._first=t._last=null,t._sortChildren=!1,t.add=t.insert=function(t,e){var i,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(r=t._startTime;i&&i._startTime>r;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._timeline&&this._uncache(!0),this},t._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,this._timeline&&this._uncache(!0)),this},t.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},t.rawTime=function(){return f||C.wake(),this._totalTime};var M=x("TweenLite",function(t,e,i){if(u.call(this,e,i),this.render=M.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"==typeof t&&M.selector(t)||t;var r,n,s,i=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),o=this.vars.overwrite;if(this._overwrite=o=null==o?X[M.defaultOverwrite]:"number"==typeof o?o>>0:X[o],(i||t instanceof Array||t.push&&l(t))&&"number"!=typeof t[0])for(this._targets=s=a(t),this._propLookup=[],this._siblings=[],r=0;s.length>r;r++)(n=s[r])?"string"!=typeof n?n.length&&n!==p&&n[0]&&(n[0]===p||n[0].nodeType&&n[0].style&&!n.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(a(n))):(this._siblings[r]=H(n,this,!1),1===o&&1<this._siblings[r].length&&q(n,this,null,1,this._siblings[r])):"string"==typeof(n=s[r--]=M.selector(n))&&s.splice(r+1,1):s.splice(r--,1);else this._propLookup={},this._siblings=H(t,this,!1),1===o&&1<this._siblings.length&&q(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-m,this.render(-this._delay))},!0),D=function(t){return t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)};(t=M.prototype=new u).constructor=M,t.kill()._gc=!1,t.ratio=0,t._firstPT=t._targets=t._overwrittenProps=t._startAt=null,t._notifyPluginsOfEnabled=t._lazy=!1,M.version="1.13.1",M.defaultEase=t._ease=new T(null,null,1,1),M.defaultOverwrite="auto",M.ticker=C,M.autoSleep=!0,M.lagSmoothing=function(t,e){C.lagSmoothing(t,e)},M.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(M.selector=e)(t):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var R=[],N={},B=M._internals={isArray:l,isSelector:D,lazyTweens:R},k=M._plugins={},F=B.tweenLookup={},G=0,U=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},j=u._rootFramesTimeline=new L,W=u._rootTimeline=new L,z=B.lazyRender=function(){var t=R.length;for(N={};-1<--t;)(o=R[t])&&!1!==o._lazy&&(o.render(o._lazy,!1,!0),o._lazy=!1);R.length=0};W._startTime=C.time,j._startTime=C.frame,W._active=j._active=!0,setTimeout(z,1),u._updateRoot=M.render=function(){var t,e,i;if(R.length&&z(),W.render((C.time-W._startTime)*W._timeScale,!1,!1),j.render((C.frame-j._startTime)*j._timeScale,!1,!1),R.length&&z(),!(C.frame%120)){for(i in F){for(t=(e=F[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if((!(i=W._first)||i._paused)&&M.autoSleep&&!j._first&&1===C._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||C.sleep()}}},C.addEventListener("tick",u._updateRoot);var H=function(t,e,i){var r,n,s=t._gsTweenID;if(F[s||(t._gsTweenID=s="t"+G++)]||(F[s]={target:t,tweens:[]}),e&&((r=F[s].tweens)[n=r.length]=e,i))for(;-1<--n;)r[n]===e&&r.splice(n,1);return F[s].tweens},q=function(t,e,i,r,n){var s,o,a;if(1===r||4<=r){for(a=n.length,d=0;d<a;d++)if((o=n[d])!==e)o._gc||o._enabled(!1,!1)&&(s=!0);else if(5===r)break;return s}for(var h,u=e._startTime+m,l=[],c=0,p=0===e._duration,d=n.length;-1<--d;)(o=n[d])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||Y(e,0,p),0===Y(o,h,p)&&(l[c++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((p||!o._initted)&&u-o._startTime<=2e-10||(l[c++]=o)));for(d=c;-1<--d;)o=l[d],2===r&&o._kill(i,t)&&(s=!0),(2!==r||!o._firstPT&&o._initted)&&o._enabled(!1,!1)&&(s=!0);return s},Y=function(t,e,i){for(var r=t._timeline,n=r._timeScale,s=t._startTime;r._timeline;){if(s+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return e<(s/=n)?s-e:i&&s===e||!t._initted&&s-e<2e-10?m:(s+=t.totalDuration()/t._timeScale/n)>e+m?0:s-e-m};t._init=function(){var t,e,i,r,n,s=this.vars,o=this._overwrittenProps,a=this._duration,h=!!s.immediateRender,u=s.ease;if(s.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},s.startAt)n[r]=s.startAt[r];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==s.lazy,n.startAt=n.delay=null,this._startAt=M.to(this.target,0,n),h)if(0<this._time)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in i={},s)U[r]&&"autoCSS"!==r||(i[r]=s[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==s.lazy,i.immediateRender=h,this._startAt=M.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1)}if(this._ease=u=u?u instanceof T?u:"function"==typeof u?new T(u,s.easeParams):P[u]||M.defaultEase:M.defaultEase,s.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;-1<--t;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&M._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},t._initProps=function(t,e,i,r){var n,s,o,a,h,u;if(null==t)return!1;for(n in N[t._gsTweenID]&&z(),this.vars.css||t.style&&t!==p&&t.nodeType&&k.css&&!1!==this.vars.autoCSS&&function(t,e){var i,r={};for(i in t)U[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!k[i]||k[i]&&k[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r}(this.vars,t),this.vars){if(u=this.vars[n],U[n])u&&(u instanceof Array||u.push&&l(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[n]=u=this._swapSelfInParams(u,this));else if(k[n]&&(a=new k[n])._onInitTween(t,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:a,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:a._priority},s=a._overwriteProps.length;-1<--s;)e[a._overwriteProps[s]]=this._firstPT;(a._priority||a._onInitAllProps)&&(o=!0),(a._onDisable||a._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[n]=h={_next:this._firstPT,t:t,p:n,f:"function"==typeof t[n],n:n,pg:!1,pr:0},h.s=h.f?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),h.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-h.s||0;h&&h._next&&(h._next._prev=h)}return r&&this._kill(r,t)?this._initProps(t,e,i,r):1<this._overwrite&&this._firstPT&&1<i.length&&q(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,r)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),o)},t.render=function(t,e,i){var r,n,s,o,a,h,u,l=this._time,c=this._duration,p=this._rawPrevTime;if(c<=t?(this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete"),0!==c||!this._initted&&this.vars.lazy&&!i||((0===(t=this._startTime===this._timeline._duration?0:t)||p<0||p===m)&&p!==t&&(i=!0,m<p&&(n="onReverseComplete")),this._rawPrevTime=o=!e||t||p===t?t:m)):t<1e-7?(this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===c&&0<p&&p!==m)&&(n="onReverseComplete",r=this._reversed),t<0?(this._active=!1,0!==c||!this._initted&&this.vars.lazy&&!i||(0<=p&&(i=!0),this._rawPrevTime=o=!e||t||p===t?t:m)):this._initted||(i=!0)):(this._totalTime=this._time=t,this._easeType?(a=t/c,(1===(h=this._easeType)||3===h&&.5<=a)&&(a=1-a),3===h&&(a*=2),1===(u=this._easePower)?a*=a:2===u?a*=a*a:3===u?a*=a*a*a:4===u&&(a*=a*a*a*a),this.ratio=1===h?1-a:2===h?a:t/c<.5?a/2:1-a/2):this.ratio=this._ease.getRatio(t/c)),this._time!==l||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=p,R.push(this),void(this._lazy=t);this._time&&!r?this.ratio=this._ease.getRatio(this._time/c):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==l&&0<=t&&(this._active=!0),0===l&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):n=n||"_dummyGS"),!this.vars.onStart||0===this._time&&0!==c||(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||b))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||this._time===l&&!r||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||b)),!n||this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||b),0===c&&this._rawPrevTime===m&&o!==m&&(this._rawPrevTime=0))}},t._kill=function(t,e){if(null==(t="all"===t?null:t)&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);var i,r,n,s,o,a,h,u;if(e="string"!=typeof e?e||this._targets||this.target:M.selector(e)||e,(l(e)||D(e))&&"number"!=typeof e[0])for(i=e.length;-1<--i;)this._kill(t,e[i])&&(a=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(e===this._targets[i]){o=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){for(n in u=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),h=t||o)(s=o[n])&&(s.pg&&s.t._kill(h)&&(a=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete o[n]),u&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},t.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=this._lazy=!1,this._propLookup=this._targets?{}:[],this},t._enabled=function(t,e){if(f||C.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;-1<--i;)this._siblings[i]=H(r[i],this,!0);else this._siblings=H(this.target,this,!0)}return u.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(t?"_onEnable":"_onDisable",this)},M.to=function(t,e,i){return new M(t,e,i)},M.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new M(t,e,i)},M.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new M(t,e,r)},M.delayedCall=function(t,e,i,r,n){return new M(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:r,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:r,immediateRender:!1,useFrames:n,overwrite:0})},M.set=function(t,e){return new M(t,0,e)},M.getTweensOf=function(t,e){if(null==t)return[];var i,r,n,s;if(t="string"==typeof t&&M.selector(t)||t,(l(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];-1<--i;)r=r.concat(M.getTweensOf(t[i],e));for(i=r.length;-1<--i;)for(s=r[i],n=i;-1<--n;)s===r[n]&&r.splice(i,1)}else for(i=(r=H(t).concat()).length;-1<--i;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r},M.killTweensOf=M.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=M.getTweensOf(t,e),n=r.length;-1<--n;)r[n]._kill(i,t)};var V=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=V.prototype},!0);if(t=V.prototype,V.version="1.10.1",V.API=2,t._firstPT=null,t._addTween=function(t,e,i,r,n,s){var o;return null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-i:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:t,p:e,s:i,c:o,f:"function"==typeof t[e],n:n||e,r:s},s._next&&(s._next._prev=s),s):void 0},t.setRatio=function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},t._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},t._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},M._onPluginEvent=function(t,e){var i,r,n,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:s)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:s=a,a=o}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},V.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===V.API&&(k[(new t[e])._propName]=t[e]);return!0},r.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=x("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){V.call(this,i,r),this._overwriteProps=n||[]},!0===t.global),a=o.prototype=new V(i);for(e in(a.constructor=o).API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,V.activate([o]),o},o=p._gsQueue){for(h=0;o.length>h;h++)o[h]();for(t in y)y[t].func||p.console.log("GSAP encountered missing dependency: com.greensock."+t)}f=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var a,h,P,y,v,x,g,e,b,T,m,t;function p(t,e,i,r,n,s){var o,a,h,u,l,c,p,d,f={},_=[],m=s||t[0];for(a in n="string"==typeof n?","+n+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])_.push(a);if(1<t.length){for(d=t[t.length-1],p=!0,o=_.length;-1<--o;)if(a=_[o],.05<Math.abs(m[a]-d[a])){p=!1;break}p&&(t=t.concat(),s&&t.unshift(s),t.push(t[1]),s=t[t.length-3])}for(y.length=v.length=x.length=0,o=_.length;-1<--o;)a=_[o],g[a]=-1!==n.indexOf(","+a+","),f[a]=function(t,e,i,r){var n,s,o,a,h,u,l=[];if(r)for(s=(t=[r].concat(t)).length;-1<--s;)"string"==typeof(u=t[s][e])&&"="===u.charAt(1)&&(t[s][e]=r[e]+Number(u.charAt(0)+u.substr(2)));if((n=t.length-2)<0)return l[0]=new b(t[0][e],0,0,t[n<-1?0:1][e]),l;for(s=0;s<n;s++)o=t[s][e],a=t[s+1][e],l[s]=new b(o,0,0,a),i&&(h=t[s+2][e],y[s]=(y[s]||0)+(a-o)*(a-o),v[s]=(v[s]||0)+(h-a)*(h-a));return l[s]=new b(t[s][e],0,0,t[s+1][e]),l}(t,a,g[a],s);for(o=y.length;-1<--o;)y[o]=Math.sqrt(y[o]),v[o]=Math.sqrt(v[o]);if(!r){for(o=_.length;-1<--o;)if(g[a])for(c=(h=f[_[o]]).length-1,u=0;u<c;u++)l=h[u+1].da/v[u]+h[u].da/y[u],x[u]=(x[u]||0)+l*l;for(o=x.length;-1<--o;)x[o]=Math.sqrt(x[o])}for(o=_.length,u=i?4:1;-1<--o;)(function(t,e,i,r,n){for(var s,o,a,h,u,l,c,p,d,f=t.length-1,_=0,m=t[0].a,g=0;g<f;g++)s=(a=t[_]).a,o=a.d,u=t[_+1].d,u=n?(c=y[g],d=.25*((p=v[g])+c)*e/(!r&&x[g]||.5),o-((h=o-(o-s)*(r?.5*e:0!==c?d/c:0))+(((d=o+(u-o)*(r?.5*e:0!==p?d/p:0))-h)*(3*c/(c+p)+.5)/4||0))):o-((h=o-.5*(o-s)*e)+(d=o+.5*(u-o)*e))/2,d+=u,a.c=u=h+=u,a.b=0!==g?m:m=a.a+.6*(a.c-a.a),a.da=o-s,a.ca=u-s,a.ba=m-s,i?(l=T(s,m,u,o),t.splice(_,1,l[0],l[1],l[2],l[3]),_+=4):_++,m=d;(a=t[_]).b=m,a.c=m+.4*(a.d-m),a.da=a.d-a.a,a.ca=a.c-a.a,a.ba=m-a.a,i&&(l=T(a.a,m,a.c,a.d),t.splice(_,1,l[0],l[1],l[2],l[3]))})(h=f[a=_[o]],e,i,r,g[a]),p&&(h.splice(0,u),h.splice(h.length-u,u));return f}function d(t,e){var i,r,n,s,o=[],a=[],h=0,u=0,l=(e=e>>0||6)-1,c=[],p=[];for(i in t)!function(t,e,i){for(var r,n,s,o,a,h,u,l,c,p,d=1/i,f=t.length;-1<--f;)for(s=(c=t[f]).a,o=c.d-s,a=c.c-s,h=c.b-s,n=0,u=1;u<=i;u++)r=n-(n=((p=d*u)*p*o+3*(l=1-p)*(p*a+l*h))*p),e[p=f*i+u-1]=(e[p]||0)+r*r}(t[i],o,e);for(n=o.length,r=0;r<n;r++)h+=Math.sqrt(o[r]),p[s=r%e]=h,s==l&&(u+=h,c[s=r/e>>0]=p,a[s]=u,h=0,p=[]);return{length:u,lengths:a,segments:c}}_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(r,l,f){function _(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e}function m(t,e,i){f.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=m.prototype.render}var g=1e-10,y=f._internals,v=y.isSelector,x=y.isArray,t=m.prototype=f.to({},.1,{}),b=[];m.version="1.17.0",t.constructor=m,t.kill()._gc=!1,m.killTweensOf=m.killDelayedCallsTo=f.killTweensOf,m.getTweensOf=f.getTweensOf,m.lagSmoothing=f.lagSmoothing,m.ticker=f.ticker,m.render=f.render,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),f.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,r=this.ratio,n=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||n)if(e)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&f._onPluginEvent("_onDisable",this),.998<this._time/this._duration){e=this._time;this.render(0,!0,!1),this._initted=!1,this.render(e,!0,!1)}else if(0<this._time||n){this._initted=!1,this._init();for(var s,o=1/(1-r),a=this._firstPT;a;)s=a.s+a.c,a.c*=o,a.s=s-a.c,a=a._next}return this},t.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,n,s,o,a,h,u=this._dirty?this.totalDuration():this._totalDuration,l=this._time,c=this._totalTime,p=this._cycle,d=this._duration,f=this._rawPrevTime;if(u<=t?(this._totalTime=u,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=d,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0!==d||!this._initted&&this.vars.lazy&&!i||((0===(t=this._startTime===this._timeline._duration?0:t)||f<0||f===g)&&f!==t&&(i=!0,g<f&&(n="onReverseComplete")),this._rawPrevTime=h=!e||t||f===t?t:g)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==c||0===d&&0<f)&&(n="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0!==d||!this._initted&&this.vars.lazy&&!i||(0<=f&&(i=!0),this._rawPrevTime=h=!e||t||f===t?t:g)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(a=d+this._repeatDelay,this._cycle=this._totalTime/a>>0,0!==this._cycle&&this._cycle===this._totalTime/a&&this._cycle--,this._time=this._totalTime-this._cycle*a,this._yoyo&&0!=(1&this._cycle)&&(this._time=d-this._time),this._time>d?this._time=d:this._time<0&&(this._time=0)),this._easeType?(o=this._time/d,(1===(u=this._easeType)||3===u&&.5<=o)&&(o=1-o),3===u&&(o*=2),1===(a=this._easePower)?o*=o:2===a?o*=o*o:3===a?o*=o*o*o:4===a&&(o*=o*o*o*o),this.ratio=1===u?1-o:2===u?o:this._time/d<.5?o/2:1-o/2):this.ratio=this._ease.getRatio(this._time/d)),l!==this._time||i||p!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=l,this._totalTime=c,this._rawPrevTime=f,this._cycle=p,y.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/d):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==l&&0<=t&&(this._active=!0),0===c&&(2===this._initted&&0<t&&this._init(),this._startAt&&(0<=t?this._startAt.render(t,e,i):n=n||"_dummyGS"),!this.vars.onStart||0===this._totalTime&&0!==d||(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||this._totalTime===c&&!r||this._callback("onUpdate")),this._cycle!==p&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),!n||this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===d&&this._rawPrevTime===g&&h!==g&&(this._rawPrevTime=0))}else c!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},m.to=function(t,e,i){return new m(t,e,i)},m.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new m(t,e,i)},m.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new m(t,e,r)},m.staggerTo=m.allTo=function(t,e,i,r,n,s,o){r=r||0;function a(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),n.apply(o||i.callbackScope||this,s||b)}var h,u,l,c,p=i.delay||0,d=[];for(x(t)||("string"==typeof t&&(t=f.selector(t)||t),v(t)&&(t=_(t))),t=t||[],r<0&&((t=_(t)).reverse(),r*=-1),h=t.length-1,l=0;l<=h;l++){for(c in u={},i)u[c]=i[c];u.delay=p,l===h&&n&&(u.onComplete=a),d[l]=new m(t[l],e,u),p+=r}return d},m.staggerFrom=m.allFrom=function(t,e,i,r,n,s,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,m.staggerTo(t,e,i,r,n,s,o)},m.staggerFromTo=m.allFromTo=function(t,e,i,r,n,s,o,a){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,m.staggerTo(t,e,r,n,s,o,a)},m.delayedCall=function(t,e,i,r,n){return new m(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:n,overwrite:0})},m.set=function(t,e){return new m(t,0,e)},m.isTweening=function(t){return 0<f.getTweensOf(t,!0).length};function s(t,e){for(var i=[],r=0,n=t._first;n;)n instanceof f?i[r++]=n:(e&&(i[r++]=n),r=(i=i.concat(s(n,e))).length),n=n._next;return i}var c=m.getAllTweens=function(t){return s(r._rootTimeline,t).concat(s(r._rootFramesTimeline,t))};m.killAll=function(t,e,i,r){null==e&&(e=!0),null==i&&(i=!0);for(var n,s,o=c(0!=r),a=o.length,h=e&&i&&r,u=0;u<a;u++)s=o[u],(h||s instanceof l||(n=s.target===s.vars.onComplete)&&i||e&&!n)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},m.killChildTweensOf=function(t,e){if(null!=t){var i,r,n,s,o,a=y.tweenLookup;if("string"==typeof t&&(t=f.selector(t)||t),v(t)&&(t=_(t)),x(t))for(s=t.length;-1<--s;)m.killChildTweensOf(t[s],e);else{for(n in i=[],a)for(r=a[n].target.parentNode;r;)r===t&&(i=i.concat(a[n].tweens)),r=r.parentNode;for(o=i.length,s=0;s<o;s++)e&&i[s].totalTime(i[s].totalDuration()),i[s]._enabled(!1,!1)}}};function n(t,e,i,r){e=!1!==e,i=!1!==i;for(var n,s,o=c(r=!1!==r),a=e&&i&&r,h=o.length;-1<--h;)s=o[h],(a||s instanceof l||(n=s.target===s.vars.onComplete)&&i||e&&!n)&&s.paused(t)}return m.pauseAll=function(t,e,i){n(!0,t,e,i)},m.resumeAll=function(t,e,i){n(!1,t,e,i)},m.globalTimeScale=function(t){var e=r._rootTimeline,i=f.ticker.time;return arguments.length?(e._startTime=i-(i-e._startTime)*e._timeScale/(t=t||g),e=r._rootFramesTimeline,i=f.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=r._rootTimeline._timeScale=t):e._timeScale},t.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},t.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.duration=function(t){return arguments.length?r.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},m},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(l,c,p){function d(t){c.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,r=this.vars;for(i in r)e=r[i],y(e)&&-1!==e.join("").indexOf("{self}")&&(r[i]=this._swapSelfInParams(e));y(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)}function f(t){var e,i={};for(e in t)i[e]=t[e];return i}function _(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e}var m=1e-10,t=p._internals,e=d._internals={},g=t.isSelector,y=t.isArray,v=t.lazyTweens,x=t.lazyRender,b=[],o=_gsScope._gsDefine.globals,n=e.pauseCallback=function(t,e,i,r){var n,s=t._timeline,o=s._totalTime,a=t._startTime,h=t._rawPrevTime<0||0===t._rawPrevTime&&s._reversed,u=h?0:m,l=h?m:0;if(e||!this._forcingPlayhead){for(s.pause(a),n=t._prev;n&&n._startTime===a;)n._rawPrevTime=l,n=n._prev;for(n=t._next;n&&n._startTime===a;)n._rawPrevTime=u,n=n._next;e&&e.apply(r||s.vars.callbackScope||s,i||b),!this._forcingPlayhead&&s._paused||s.seek(o)}},e=d.prototype=new c;return d.version="1.17.0",e.constructor=d,e.kill()._gc=e._forcingPlayhead=!1,e.to=function(t,e,i,r){var n=i.repeat&&o.TweenMax||p;return e?this.add(new n(t,e,i),r):this.set(t,i,r)},e.from=function(t,e,i,r){return this.add((i.repeat&&o.TweenMax||p).from(t,e,i),r)},e.fromTo=function(t,e,i,r,n){var s=r.repeat&&o.TweenMax||p;return e?this.add(s.fromTo(t,e,i,r),n):this.set(t,r,n)},e.staggerTo=function(t,e,i,r,n,s,o,a){var h,u=new d({onComplete:s,onCompleteParams:o,callbackScope:a,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=p.selector(t)||t),g(t=t||[])&&(t=_(t)),(r=r||0)<0&&((t=_(t)).reverse(),r*=-1),h=0;t.length>h;h++)i.startAt&&(i.startAt=f(i.startAt)),u.to(t[h],e,f(i),h*r);return this.add(u,n)},e.staggerFrom=function(t,e,i,r,n,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,r,n,s,o,a)},e.staggerFromTo=function(t,e,i,r,n,s,o,a,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,r,n,s,o,a,h)},e.call=function(t,e,i,r){return this.add(p.delayedCall(0,t,e,i),r)},e.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new p(t,0,e),i)},d.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,r,n=new d(t),t=n._timeline;for(null==e&&(e=!0),t._remove(n,!0),n._startTime=0,n._rawPrevTime=n._time=n._totalTime=t._time,i=t._first;i;)r=i._next,e&&i instanceof p&&i.target===i.vars.onComplete||n.add(i,i._startTime-i._delay),i=r;return t.add(n,0),n},e.add=function(t,e,i,r){var n,s,o,a,h,u;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof l)){if(t instanceof Array||t&&t.push&&y(t)){for(i=i||"normal",r=r||0,n=e,s=t.length,o=0;o<s;o++)y(a=t[o])&&(a=new d({tweens:a})),this.add(a,n),"string"!=typeof a&&"function"!=typeof a&&("sequence"===i?n=a._startTime+a.totalDuration()/a._timeScale:"start"===i&&(a._startTime-=a.delay())),n+=r;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=p.delayedCall(0,t)}if(c.prototype.add.call(this,t,e),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(u=(h=this).rawTime()>t._startTime;h._timeline;)u&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},e.remove=function(t){if(t instanceof l)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&y(t)){for(var e=t.length;-1<--e;)this.remove(t[e]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},e._remove=function(t,e){c.prototype._remove.call(this,t,e);e=this._last;return e?this._time>e._startTime+e._totalDuration/e._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},e.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},e.insert=e.insertMultiple=function(t,e,i,r){return this.add(t,e||0,i,r)},e.appendMultiple=function(t,e,i,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,r)},e.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},e.addPause=function(t,e,i,r){r=p.delayedCall(0,n,["{self}",e,i,r],this);return r.data="isPause",this.add(r,t)},e.removeLabel=function(t){return delete this._labels[t],this},e.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},e._parseTimeOrLabel=function(t,e,i,r){var n;if(r instanceof l&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&y(r)))for(n=r.length;-1<--n;)r[n]instanceof l&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-this.duration():0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(n=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=this.duration()+e:e:this._labels[t]+e;e=parseInt(t.charAt(n-1)+"1",10)*Number(t.substr(n+1)),t=1<n?this._parseTimeOrLabel(t.substr(0,n-1),0,i):this.duration()}return Number(t)+e},e.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},e.stop=function(){return this.paused(!0)},e.gotoAndPlay=function(t,e){return this.play(t,e)},e.gotoAndStop=function(t,e){return this.pause(t,e)},e.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,o,a,h=this._dirty?this.totalDuration():this._totalDuration,u=this._time,l=this._startTime,c=this._timeScale,p=this._paused;if(h<=t)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===m)&&this._rawPrevTime!==t&&this._first&&(a=!0,this._rawPrevTime>m&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:m,t=h+1e-4;else if(t<1e-7)if(((this._totalTime=this._time=0)!==u||0===this._duration&&this._rawPrevTime!==m&&(0<this._rawPrevTime||t<0&&0<=this._rawPrevTime))&&(o="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=n=!0,o="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:m,0===t&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,this._initted||(a=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==u&&this._first||i||a){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==u&&0<t&&(this._active=!0),0===u&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=u)for(r=this._first;r&&(s=r._next,!this._paused||p);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=this._last;r&&(s=r._prev,!this._paused||p);)(r._active||u>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;this._onUpdate&&(e||(v.length&&x(),this._callback("onUpdate"))),o&&(this._gc||l!==this._startTime&&c===this._timeScale||!(0===this._time||h>=this.totalDuration())||(n&&(v.length&&x(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},e._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof d&&t._hasPausedChild())return!0;t=t._next}return!1},e.getChildren=function(t,e,i,r){r=r||-9999999999;for(var n=[],s=this._first,o=0;s;)r>s._startTime||(s instanceof p?!1!==e&&(n[o++]=s):(!1!==i&&(n[o++]=s),!1!==t&&(o=(n=n.concat(s.getChildren(!0,e,i))).length))),s=s._next;return n},e.getTweensOf=function(t,e){var i,r,n=this._gc,s=[],o=0;for(n&&this._enabled(!0,!0),r=(i=p.getTweensOf(t)).length;-1<--r;)(i[r].timeline===this||e&&this._contains(i[r]))&&(s[o++]=i[r]);return n&&this._enabled(!1,!0),s},e.recent=function(){return this._recent},e._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},e.shiftChildren=function(t,e,i){i=i||0;for(var r,n=this._first,s=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(r in s)s[r]>=i&&(s[r]+=t);return this._uncache(!0)},e._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=i.length,n=!1;-1<--r;)i[r]._kill(t,e)&&(n=!0);return n},e.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},e.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return l.prototype.invalidate.call(this)},e._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return c.prototype._enabled.call(this,t,e)},e.totalTime=function(){this._forcingPlayhead=!0;var t=l.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},e.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},e.totalDuration=function(t){if(arguments.length)return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this;if(this._dirty){for(var e,i,r=0,n=this._last,s=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>s&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):s=n._startTime,n._startTime<0&&!n._paused&&(r-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),s=0),r<(i=n._startTime+n._totalDuration/n._timeScale)&&(r=i),n=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration},e.paused=function(t){if(!t)for(var e=this._first,i=this._time;e;)e._startTime===i&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return l.prototype.paused.apply(this,arguments)},e.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===l._rootFramesTimeline},e.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,o,t){function i(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0}var r=o._internals,P=r.lazyTweens,w=r.lazyRender,a=new t(null,null,1,0),t=i.prototype=new e;return t.constructor=i,t.kill()._gc=!1,i.version="1.17.0",t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},t.addCallback=function(t,e,i,r){return this.add(o.delayedCall(0,t,i,r),e)},t.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),r=i.length,n=this._parseTimeOrLabel(e);-1<--r;)i[r]._startTime===n&&i[r]._enabled(!1,!1);return this},t.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},t.tweenTo=function(t,e){e=e||{};var i,r,n,s={ease:a,useFrames:this.usesFrames(),immediateRender:!1};for(r in e)s[r]=e[r];return s.time=this._parseTimeOrLabel(t),i=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,n=new o(this,i,s),s.onStart=function(){n.target.paused(!0),n.vars.time!==n.target.time()&&i===n.duration()&&n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale),e.onStart&&n._callback("onStart")},n},t.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;i=this.tweenTo(e,i);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},t.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,o,a,h=this._dirty?this.totalDuration():this._totalDuration,u=this._duration,l=this._time,c=this._totalTime,p=this._startTime,d=this._timeScale,f=this._rawPrevTime,_=this._paused,m=this._cycle;if(h<=t)this._locked||(this._totalTime=h,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||f<0||1e-10===f)&&f!==t&&this._first&&(a=!0,1e-10<f&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:t=(this._time=u)+1e-4;else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),((this._time=0)!==l||0===u&&1e-10!==f&&(0<f||t<0&&0<=f)&&!this._locked)&&(o="onReverseComplete",n=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=n=!0,o="onReverseComplete"):0<=f&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=u||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,this._initted||(a=!0)}else 0===u&&f<0&&(a=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(T=u+this._repeatDelay,this._cycle=this._totalTime/T>>0,0!==this._cycle&&this._cycle===this._totalTime/T&&this._cycle--,this._time=this._totalTime-this._cycle*T,this._yoyo&&0!=(1&this._cycle)&&(this._time=u-this._time),this._time>u?t=(this._time=u)+1e-4:this._time<0?this._time=t=0:t=this._time));if(this._cycle!==m&&!this._locked){var g=this._yoyo&&0!=(1&m),y=g===(this._yoyo&&0!=(1&this._cycle)),v=this._totalTime,x=this._cycle,b=this._rawPrevTime,T=this._time;if(this._totalTime=m*u,m>this._cycle?g=!g:this._totalTime+=u,this._time=l,this._rawPrevTime=0===u?f-1e-4:f,this._cycle=m,this._locked=!0,this.render(l=g?0:u,e,0===u),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),y&&this.render(l=g?u+1e-4:-1e-4,!0,!1),this._locked=!1,this._paused&&!_)return;this._time=T,this._totalTime=v,this._cycle=x,this._rawPrevTime=b}if(this._time!==l&&this._first||i||a){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==c&&0<t&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=l)for(r=this._first;r&&(s=r._next,!this._paused||_);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=this._last;r&&(s=r._prev,!this._paused||_);)(r._active||l>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;this._onUpdate&&(e||(P.length&&w(),this._callback("onUpdate"))),o&&(this._locked||this._gc||p!==this._startTime&&d===this._timeScale||!(0===this._time||h>=this.totalDuration())||(n&&(P.length&&w(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}else c!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},t.getActive=function(t,e,i){for(var r,n=[],s=this.getChildren(t=null==t?!0:t,e=null==e?!0:e,i=null==i?!1:i),o=0,a=s.length,h=0;h<a;h++)(r=s[h]).isActive()&&(n[o++]=r);return n},t.getLabelAfter=function(t){t||0!==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length,r=0;r<i;r++)if(e[r].time>t)return e[r].name;return null},t.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(t>e[i].time)return e[i].name;return null},t.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},t.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),P=180/Math.PI,y=[],v=[],x=[],g={},e=_gsScope._gsDefine.globals,b=function(t,e,i,r){this.a=t,this.b=e,this.c=i,this.d=r,this.da=r-t,this.ca=i-t,this.ba=e-t},T=function(t,e,i,r){var n={a:t},s={},o={},a={c:r},h=(t+e)/2,u=(e+i)/2,l=(i+r)/2,e=(h+u)/2,i=(u+l)/2,u=(i-e)/8;return n.b=h+(t-h)/4,s.b=e+u,n.c=s.a=(n.b+s.b)/2,s.c=o.a=(e+i)/2,o.b=i-u,a.b=l+(r-l)/4,o.c=a.a=(o.b+a.b)/2,[n,s,o,a]},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,n,s,o,a,h=e.values||[],u={},l=h[0],c=e.autoRotate||i.vars.orientToBezier;for(r in this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",!0!==c&&Number(c)||0]]:null,l)this._props.push(r);for(s=this._props.length;-1<--s;)r=this._props[s],this._overwriteProps.push(r),n=this._func[r]="function"==typeof t[r],u[r]=n?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),a||u[r]!==h[0][r]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):function(t,e,i){var r,n,s,o,a,h,u,l,c,p,d,f={},_="cubic"===(e=e||"soft")?3:2,m="soft"===e,g=[];if(null==(t=m&&i?[i].concat(t):t)||1+_>t.length)throw"invalid Bezier data";for(c in t[0])g.push(c);for(h=g.length;-1<--h;){for(f[c=g[h]]=a=[],l=t.length,u=p=0;u<l;u++)r=null==i?t[u][c]:"string"==typeof(d=t[u][c])&&"="===d.charAt(1)?i[c]+Number(d.charAt(0)+d.substr(2)):Number(d),m&&1<u&&u<l-1&&(a[p++]=(r+a[p-2])/2),a[p++]=r;for(l=p-_+1,u=p=0;u<l;u+=_)r=a[u],n=a[u+1],s=a[u+2],o=2==_?0:a[u+3],a[p++]=d=3==_?new b(r,n,s,o):new b(r,(2*n+r)/3,(2*n+s)/3,s);a.length=p}return f}(h,e.type,u),this._segCount=this._beziers[r].length,this._timeRes&&(e=d(this._beziers,this._timeRes),this._length=e.length,this._lengths=e.lengths,this._segments=e.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length),c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),s=c.length;-1<--s;){for(o=0;o<3;o++)r=c[s][o],this._func[r]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];r=c[s][2],this._initialRotations[s]=this._func[r]?this._func[r].call(this._target):this._target[r]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,r,n,s,o,a,h,u,l=this._segCount,c=this._func,p=this._target,d=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,u=this._curSeg,t*=this._length,T=this._li,t>this._l2&&T<l-1){for(a=l-1;T<a&&t>=(this._l2=h[++T]););this._l1=h[T-1],this._li=T,this._curSeg=u=this._segments[T],this._s2=u[this._s1=this._si=0]}else if(this._l1>t&&0<T){for(;0<T&&(this._l1=h[--T])>=t;);0===T&&this._l1>t?this._l1=0:T++,this._l2=h[T],this._li=T,this._curSeg=u=this._segments[T],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(e=T,t-=this._l1,T=this._si,t>this._s2&&u.length-1>T){for(a=u.length-1;T<a&&t>=(this._s2=u[++T]););this._s1=u[T-1],this._si=T}else if(this._s1>t&&0<T){for(;0<T&&(this._s1=u[--T])>=t;);0===T&&this._s1>t?this._s1=0:T++,this._s2=u[T],this._si=T}s=(T+(t-this._s1)/(this._s2-this._s1))*this._prec}else s=(t-(e=t<0?0:1<=t?l-1:l*t>>0)*(1/l))*l;for(i=1-s,T=this._props.length;-1<--T;)r=this._props[T],o=(s*s*(n=this._beziers[r][e]).da+3*i*(s*n.ca+i*n.ba))*s+n.a,this._round[r]&&(o=Math.round(o)),c[r]?p[r](o):p[r]=o;if(this._autoRotate)for(var f,_,m,g,y,v,x,b=this._autoRotate,T=b.length;-1<--T;)r=b[T][2],v=b[T][3]||0,x=!0===b[T][4]?1:P,n=this._beziers[b[T][0]],f=this._beziers[b[T][1]],n&&f&&(n=n[e],f=f[e],_=n.a+(n.b-n.a)*s,_+=((g=n.b+(n.c-n.b)*s)-_)*s,g+=(n.c+(n.d-n.c)*s-g)*s,m=f.a+(f.b-f.a)*s,m+=((y=f.b+(f.c-f.b)*s)-m)*s,y+=(f.c+(f.d-f.c)*s-y)*s,o=d?Math.atan2(y-m,g-_)*x+v:this._initialRotations[T],c[r]?p[r](o):p[r]=o)}}),t=m.prototype,m.bezierThrough=p,m.cubicToQuadratic=T,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new b(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var d,f,_,t=e.CSSPlugin;t&&(t=t._internals,d=t._parseToProxy,f=t._setPluginRatio,_=t.CSSPropTween,t._registerComplexSpecialProp("bezier",{parser:function(t,e,i,r,n,s){e instanceof Array&&(e={values:e}),s=new m;var o,a,h,u=e.values,l=u.length-1,c=[],p={};if(l<0)return n;for(o=0;o<=l;o++)h=d(t,u[o],r,n,s,l!==o),c[o]=h.end;for(a in e)p[a]=e[a];return p.values=c,(n=new _(t,"bezier",0,0,h.pt,2)).data=h,n.plugin=s,n.setRatio=f,0===p.autoRotate&&(p.autoRotate=!0),!p.autoRotate||p.autoRotate instanceof Array||(o=!0===p.autoRotate?0:Number(p.autoRotate),p.autoRotate=null!=h.end.left?[["left","top","rotation",o,!1]]:null!=h.end.x&&[["x","y","rotation",o,!1]]),p.autoRotate&&(r._transform||r._enableTransforms(!1),h.autoRotate=r._target._gsTransform),s._onInitTween(h.proxy,p,r._tween),n}}))},t._roundProps=function(t,e){for(var i=this._overwriteProps,r=i.length;-1<--r;)(t[i[r]]||t.bezier||t.bezierThrough)&&(this._round[i[r]]=e)},t._kill=function(t){var e,i,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=r.length;-1<--i;)r[i]===e&&r.splice(i,1);return this._super._kill.call(this,t)},_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(s,L){function M(){s.call(this,"css"),this._overwriteProps.length=0,this.setRatio=M.prototype.setRatio}var p,b,D,c,u=_gsScope._gsDefine.globals,d={},t=M.prototype=new s("css");(t.constructor=M).version="1.17.0",M.API=2,M.defaultTransformPerspective=0,M.defaultSkewType="compensated",M.defaultSmoothOrigin=!0,M.suffixMap={top:t="px",right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};function o(t,e){return e.toUpperCase()}function a(t){return B.test("string"==typeof t?t:(t.currentStyle||t.style).filter||"")?parseFloat(RegExp.$1)/100:1}function f(t){window.console&&console.log(t)}function T(t,e){var i,r,n=(e=e||Z).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;-1<--r&&void 0===n[i[r]+t];);return 0<=r?(J="-"+(tt=3===r?"ms":i[r]).toLowerCase()+"-",tt+t):null}function _(t,e){var i,r,n={};if(e=e||et(t,null))if(i=e.length)for(;-1<--i;)-1!==(r=e[i]).indexOf("-transform")&&It!==r||(n[r.replace(U,o)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&St!==i||(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(U,o)]=e[i]);return Q||(n.opacity=a(t)),t=Bt(t,e,!1),n.rotation=t.rotation,n.skewX=t.skewX,n.scaleX=t.scaleX,n.scaleY=t.scaleY,n.x=t.x,n.y=t.y,Ct&&(n.z=t.z,n.rotationX=t.rotationX,n.rotationY=t.rotationY,n.scaleZ=t.scaleZ),n.filters&&delete n.filters,n}function m(t,e,i,r,n){var s,o,a,h={},u=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=i[o])||n&&n[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(h[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(x,"")?s:0:nt(t,o),void 0!==u[o]&&(a=new dt(u,o,u[o],a)));if(r)for(o in r)"className"!==o&&(h[o]=r[o]);return{difs:h,firstMPT:a}}function P(t,e){var i=(t=null==t||""===t||"auto"===t||"auto auto"===t?"0 0":t).split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==n?n="center"===r?"50%":"0":"center"===n&&(n="50%"),t=(r="center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("=")?"50%":r)+" "+n+(2<i.length?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(r.replace(x,"")),e.oy=parseFloat(n.replace(x,"")),e.v=t),e||t}function E(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)}function w(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)}function S(t,e,i,r){var n,s=null==t?e:"number"==typeof t?t:(n=t.split("_"),s=((s="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:Y)-(s?0:e),n.length&&(r&&(r[i]=e+s),-1!==t.indexOf("short")&&((s%=360)!==s%180&&(s=s<0?s+360:s-360)),-1!==t.indexOf("_cw")&&s<0?s=(s+3599999999640)%360-360*(0|s/360):-1!==t.indexOf("ccw")&&0<s&&(s=(s-3599999999640)%360-360*(0|s/360))),e+s);return s=s<1e-6&&-1e-6<s?0:s}function h(t,e,i){return 0|255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+6*(i-e)*t:t<.5?i:3*t<2?e+6*(i-e)*(2/3-t):e)+.5}var I,l,g,R,y,A,C=/(?:\d|\-\d|\.\d|\-\.\d)+/g,O=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,N=/(?:\d|\-|\+|=|#|\.)*/g,B=/opacity *= *([^)]*)/i,k=/opacity:([^;]*)/i,n=/alpha\(opacity *=.+?\)/i,F=/^(rgb|hsl)/,G=/([A-Z])/g,U=/-([a-z])/gi,X=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,j=/(?:Left|Right|Width)/i,W=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,z=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,H=/,(?=[^\)]*(?:\(|$))/gi,q=Math.PI/180,Y=180/Math.PI,V={},$=document,e=function(t){return $.createElementNS?$.createElementNS("http://www.w3.org/1999/xhtml",t):$.createElement(t)},Z=e("div"),K=e("img"),i=M._internals={_specialProps:d},r=navigator.userAgent,Q=(wt=r.indexOf("Android"),Pt=e("a"),g=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome")&&(-1===wt||3<Number(r.substr(wt+8,1))),y=g&&Number(r.substr(r.indexOf("Version/")+8,1))<6,R=-1!==r.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(r)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(r))&&(A=parseFloat(RegExp.$1)),!!Pt&&(Pt.style.cssText="top:1px;opacity:.55;",/^0.55/.test(Pt.style.opacity))),J="",tt="",et=$.defaultView?$.defaultView.getComputedStyle:function(){},it=M.getStyle=function(t,e,i,r,n){var s;return Q||"opacity"!==e?(!r&&t.style[e]?s=t.style[e]:(i=i||et(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(G,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==n||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:n):a(t)},rt=i.convertToPixels=function(t,e,i,r,n){if("px"===r||!r)return i;if("auto"===r||!i)return 0;var s,o,a,h=j.test(e),u=t,l=Z.style,c=i<0;if(c&&(i=-i),"%"===r&&-1!==e.indexOf("border"))s=i/100*(h?t.clientWidth:t.clientHeight);else{if(l.cssText="border:0 solid red;position:"+it(t,"position")+";line-height:0;","%"!==r&&u.appendChild)l[h?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(o=(u=t.parentNode||$.body)._gsCache,a=L.ticker.frame,o&&h&&o.time===a)return o.width*i/100;l[h?"width":"height"]=i+r}u.appendChild(Z),s=parseFloat(Z[h?"offsetWidth":"offsetHeight"]),u.removeChild(Z),h&&"%"===r&&!1!==M.cacheWidths&&((o=u._gsCache=u._gsCache||{}).time=a,o.width=s/i*100),0!==s||n||(s=rt(t,e,i,r,!0))}return c?-s:s},nt=i.calculateOffset=function(t,e,i){if("absolute"!==it(t,"position",i))return 0;var r="left"===e?"Left":"Top",i=it(t,"margin"+r,i);return t["offset"+r]-(rt(t,e,parseFloat(i),i.replace(N,""))||0)},st={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],at={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=M.parseColor=function(t){var e,i,r,n,s;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),at[t]||("#"===t.charAt(0)?(4===t.length&&(t="#"+(e=t.charAt(1))+e+(i=t.charAt(2))+i+(s=t.charAt(3))+s),[(t=parseInt(t.substr(1),16))>>16,255&t>>8,255&t]):("hsl"===t.substr(0,3)?(t=t.match(C),r=Number(t[0])%360/360,n=Number(t[1])/100,e=2*(s=Number(t[2])/100)-(i=s<=.5?s*(1+n):s+n-s*n),3<t.length&&(t[3]=Number(t[3])),t[0]=h(r+1/3,e,i),t[1]=h(r,e,i),t[2]=h(r-1/3,e,i)):((t=t.match(C)||at.transparent)[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),3<t.length&&(t[3]=Number(t[3]))),t))):at.black},ut="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(t in at)ut+="|"+t+"\\b";function lt(t,e,s,o){if(null==t)return function(t){return t};var a,h=e?(t.match(ut)||[""])[0]:"",u=t.split(h).join("").match(v)||[],l=t.substr(0,t.indexOf(u[0])),c=")"===t.charAt(t.length-1)?")":"",p=-1!==t.indexOf(" ")?" ":",",d=u.length,f=0<d?u[0].replace(C,""):"";return d?a=e?function(t){var e,i,r,n;if("number"==typeof t)t+=f;else if(o&&H.test(t)){for(n=t.replace(H,"|").split("|"),r=0;n.length>r;r++)n[r]=a(n[r]);return n.join(",")}if(e=(t.match(ut)||[h])[0],r=(i=t.split(e).join("").match(v)||[]).length,d>r--)for(;d>++r;)i[r]=s?i[0|(r-1)/2]:u[r];return l+i.join(p)+p+e+c+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,r;if("number"==typeof t)t+=f;else if(o&&H.test(t)){for(i=t.replace(H,"|").split("|"),r=0;i.length>r;r++)i[r]=a(i[r]);return i.join(",")}if(r=(e=t.match(v)||[]).length,d>r--)for(;d>++r;)e[r]=s?e[0|(r-1)/2]:u[r];return l+e.join(p)+c}:function(t){return t}}function ct(u){return u=u.split(","),function(t,e,i,r,n,s,o){var a,h=(e+"").split(" ");for(o={},a=0;a<4;a++)o[u[a]]=h[a]=h[a]||h[(a-1)/2>>0];return r.parse(t,o,n,s)}}function pt(t,e,i,r,n,s){return(s=new ft(t,e,i,r-i,n,-1,s)).b=i,s.e=s.xs0=r,s}var ut=RegExp(ut+")","gi"),dt=(i._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,n,s=this.data,o=s.proxy,a=s.firstMPT;a;)e=o[a.v],a.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),a.t[a.p]=e,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===t)for(a=s.firstMPT;a;){if((i=a.t).type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.e=n}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,r,n){this.t=t,this.p=e,this.v=i,this.r=n,r&&((r._prev=this)._next=r)}),ft=(i._parseToProxy=function(t,e,i,r,n,s){var o,a,h,u,l=r,c={},p={},d=i._transform,f=V;for(i._transform=null,V=e,r=n=i.parse(t,e,r,n),V=f,s&&(i._transform=d,l&&(l._prev=null,l._prev&&(l._prev._next=null)));r&&r!==l;){if(r.type<=1&&(p[a=r.p]=r.s+r.c,c[a]=r.s,s||(u=new dt(r,"s",a,u,r.r),r.c=0),1===r.type))for(o=r.l;0<--o;)p[a=r.p+"_"+(h="xn"+o)]=r.data[h],c[a]=r[h],s||(u=new dt(r,h,a,u,r.rxp[h]));r=r._next}return{proxy:c,end:p,firstMPT:u,pt:n}},i.CSSPropTween=function(t,e,i,r,n,s,o,a,h,u,l){this.t=t,this.p=e,this.s=i,this.c=r,this.n=o||e,t instanceof ft||c.push(this.n),this.r=a,this.type=s||0,h&&(this.pr=h,p=!0),this.b=void 0===u?i:u,this.e=void 0===l?i+r:l,n&&((this._next=n)._prev=this)}),_t=M.parseComplex=function(t,e,i,r,n,s,o,a,h,u){o=new ft(t,e,0,0,o,u?2:1,null,!1,a,i=i||s||"",r),r+="";var l,c,p,d,f,_,m,g,y,v,x,b=i.split(", ").join(",").split(" "),T=r.split(", ").join(",").split(" "),P=b.length,w=!1!==I;for(-1===r.indexOf(",")&&-1===i.indexOf(",")||(b=b.join(" ").replace(H,", ").split(" "),T=T.join(" ").replace(H,", ").split(" "),P=b.length),P!==T.length&&(P=(b=(s||"").split(" ")).length),o.plugin=h,o.setRatio=u,l=0;l<P;l++)if(d=b[l],f=T[l],(g=parseFloat(d))||0===g)o.appendXtra("",g,E(f,g),f.replace(O,""),w&&-1!==f.indexOf("px"),!0);else if(n&&("#"===d.charAt(0)||at[d]||F.test(d)))x=","===f.charAt(f.length-1)?"),":")",d=ht(d),f=ht(f),(g=6<d.length+f.length)&&!Q&&0===f[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(T[l]).join("transparent")):(o.appendXtra((g=!Q?!1:g)?"rgba(":"rgb(",d[0],f[0]-d[0],",",!0,!0).appendXtra("",d[1],f[1]-d[1],",",!0).appendXtra("",d[2],f[2]-d[2],g?",":x,!0),g&&(d=d.length<4?1:d[3],o.appendXtra("",d,(f.length<4?1:f[3])-d,x,!1)));else if(_=d.match(C)){if(!(m=f.match(O))||m.length!==_.length)return o;for(c=p=0;_.length>c;c++)v=_[c],y=d.indexOf(v,p),o.appendXtra(d.substr(p,y-p),Number(v),E(m[c],v),"",w&&"px"===d.substr(y+v.length,2),0===c),p=y+v.length;o["xs"+o.l]+=d.substr(p)}else o["xs"+o.l]+=o.l?" "+d:d;if(-1!==r.indexOf("=")&&o.data){for(x=o.xs0+o.data.s,l=1;o.l>l;l++)x+=o["xs"+l]+o.data["xn"+l];o.e=x+o["xs"+l]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},mt=9;for((t=ft.prototype).l=t.pr=0;0<--mt;)t["xn"+mt]=0,t["xs"+mt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,r,n,s){var o=this,a=o.l;return o["xs"+a]+=s&&a?" "+t:t||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",0<a?(o.data["xn"+a]=e+i,o.rxp["xn"+a]=n,o["xn"+a]=e,o.plugin||(o.xfirst=new ft(o,"xn"+a,e,i,o.xfirst||o,0,o.n,n,o.pr),o.xfirst.xs0=0)):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=n)):o["xs"+a]+=e+(r||""),o};function gt(t,e){this.p=(e=e||{}).prefix&&T(t)||t,(d[t]=d[this.p]=this).format=e.formatter||lt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0}var yt=i._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,n=t.split(","),s=e.defaultValue;for(i=i||[s],r=0;n.length>r;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||s,new gt(n[r],e)};(t=gt.prototype).parseComplex=function(t,e,i,r,n,s){var o,a,h,u,l,c,p=this.keyword;if(this.multi&&(H.test(i)||H.test(e)?(a=e.replace(H,"|").split("|"),h=i.replace(H,"|").split("|")):p&&(a=[e],h=[i])),h){for(u=(h.length>a.length?h:a).length,o=0;o<u;o++)e=a[o]=a[o]||this.dflt,i=h[o]=h[o]||this.dflt,p&&((l=e.indexOf(p))!==(c=i.indexOf(p))&&(-1===c?a[o]=a[o].split(p).join(""):-1===l&&(a[o]+=" "+p)));e=a.join(", "),i=h.join(", ")}return _t(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,n,s)},t.parse=function(t,e,i,r,n,s){return this.parseComplex(t.style,this.format(it(t,this.p,D,!1,this.dflt)),this.format(e),n,s)},M.registerSpecialProp=function(t,o,a){yt(t,{parser:function(t,e,i,r,n,s){n=new ft(t,i,0,0,n,2,i,!1,a);return n.plugin=s,n.setRatio=o(t,e,r._tween,i),n},priority:a})},M.useSVGTransformAttr=g||R;function vt(t,e,i,r,n){var s,o,a,h,u,l,c,p,d,f,_=t._gsTransform,m=xt(t,!0);_&&(d=_.xOrigin,f=_.yOrigin),(!r||(s=r.split(" ")).length<2)&&(u=t.getBBox(),s=[(-1!==(e=P(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*u.width:parseFloat(e[0]))+u.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*u.height:parseFloat(e[1]))+u.y]),i.xOrigin=o=parseFloat(s[0]),i.yOrigin=a=parseFloat(s[1]),r&&m!==Nt&&(h=m[0],u=m[1],l=m[2],c=m[3],e=m[4],h=o*(-u/(p=h*c-u*l))+a*(h/p)-(h*(r=m[5])-u*e)/p,o=i.xOrigin=s[0]=p=o*(c/p)+a*(-l/p)+(l*r-c*e)/p,a=i.yOrigin=s[1]=h),_&&(n||!1!==n&&!1!==M.defaultSmoothOrigin?(_.xOffset+=(p=o-d)*m[0]+(h=a-f)*m[2]-p,_.yOffset+=p*m[1]+h*m[3]-h):_.xOffset=_.yOffset=0),t.setAttribute("data-svg-origin",s.join(" "))}function xt(t,e){var i,r,n,s,o,a=t._gsTransform||new Ot;if(St?r=it(t,It,null,!0):t.currentStyle&&(r=(r=t.currentStyle.filter.match(W))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),a.x||0,a.y||0].join(","):""),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,(a.svg||t.getBBox&&Rt(t))&&(i&&-1!==(t.style[St]+"").indexOf("matrix")&&(r=t.style[St],i=0),n=t.getAttribute("transform"),i&&n&&(-1!==n.indexOf("matrix")?(r=n,i=0):-1!==n.indexOf("translate")&&(r="matrix(1,0,0,1,"+n.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Nt;for(n=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],mt=n.length;-1<--mt;)s=Number(n[mt]),n[mt]=(o=s-(s|=0))?(0|1e5*o+(o<0?-.5:.5))/1e5+s:s;return e&&6<n.length?[n[0],n[1],n[4],n[5],n[12],n[13]]:n}function bt(t){var e,i,r=this.data,n=(_=-r.rotation*q)+r.skewX*q,s=(0|Math.cos(_)*r.scaleX*1e5)/1e5,o=(0|Math.sin(_)*r.scaleX*1e5)/1e5,a=(0|Math.sin(n)*-r.scaleY*1e5)/1e5,h=(0|Math.cos(n)*r.scaleY*1e5)/1e5,u=this.t.style,l=this.t.currentStyle;if(l){i=o,o=-a,a=-i,e=l.filter,u.filter="";var c=this.t.offsetWidth,p=this.t.offsetHeight,d="absolute"!==l.position,f="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+o+", M21="+a+", M22="+h,_=r.x+c*r.xPercent/100,n=r.y+p*r.yPercent/100;if(null!=r.ox&&(_+=(v=(r.oxp?.01*c*r.ox:r.ox)-c/2)-(v*s+(x=(r.oyp?.01*p*r.oy:r.oy)-p/2)*o),n+=x-(v*a+x*h)),d?f+=", Dx="+((v=c/2)-(v*s+(x=p/2)*o)+_)+", Dy="+(x-(v*a+x*h)+n)+")":f+=", sizingMethod='auto expand')",u.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(z,f):f+" "+e,0!==t&&1!==t||1!=s||0!=o||0!=a||1!=h||(d&&-1===f.indexOf("Dx=0, Dy=0")||B.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!d){var m,g,y=A<8?1:-1,v=r.ieOffsetX||0,x=r.ieOffsetY||0;for(r.ieOffsetX=Math.round((c-((s<0?-s:s)*c+(o<0?-o:o)*p))/2+_),r.ieOffsetY=Math.round((p-((h<0?-h:h)*p+(a<0?-a:a)*c))/2+n),mt=0;mt<4;mt++)g=(i=-1!==(g=l[m=ot[mt]]).indexOf("px")?parseFloat(g):rt(this.t,m,parseFloat(g),g.replace(N,""))||0)!==r[m]?mt<2?-r.ieOffsetX:-r.ieOffsetY:mt<2?v-r.ieOffsetX:x-r.ieOffsetY,u[m]=(r[m]=Math.round(i-g*(0===mt||2===mt?1:y)))+"px"}}}var Tt,Pt,wt,Et="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),St=T("transform"),It=J+"transform",At=T("transformOrigin"),Ct=null!==T("perspective"),Ot=i.Transform=function(){this.perspective=parseFloat(M.defaultTransformPerspective)||0,this.force3D=!1!==M.defaultForce3D&&Ct&&(M.defaultForce3D||"auto")},Lt=window.SVGElement,Mt=function(t,e,i){var r,n=$.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(s,"$1-$2").toLowerCase(),i[r]);return e.appendChild(n),n},e=$.documentElement,Dt=(wt=A||/Android/i.test(r)&&!window.chrome,$.createElementNS&&!wt&&(Pt=Mt("svg",e),Mt=(r=Mt("rect",Pt,{width:100,height:50,x:100})).getBoundingClientRect().width,r.style[At]="50% 50%",r.style[St]="scaleX(0.5)",wt=Mt===r.getBoundingClientRect().width&&!(R&&Ct),e.removeChild(Pt)),wt),Rt=function(t){return!!(Lt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Nt=[1,0,0,1,0,0],Bt=i.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var n,s,o,a,h,u,l,c,p,d,f,_,m,g,y,v,x,b,T,P,w,E,S,I=i&&t._gsTransform||new Ot,A=I.scaleX<0,C=Ct&&(parseFloat(it(t,At,e,!1,"0 0 0").split(" ")[2])||I.zOrigin)||0,O=parseFloat(M.defaultTransformPerspective)||0;if(I.svg=!(!t.getBBox||!Rt(t)),I.svg&&(vt(t,it(t,At,D,!1,"50% 50%")+"",I,t.getAttribute("data-svg-origin")),Tt=M.useSVGTransformAttr||Dt),(s=xt(t))!==Nt)for(n in 16===s.length?(P=s[0],E=s[1],c=s[2],p=s[3],w=s[4],S=s[5],d=s[6],f=s[7],_=s[8],m=s[9],g=s[10],y=s[12],v=s[13],T=s[14],x=s[11],b=Math.atan2(d,g),I.zOrigin&&(y=_*(T=-I.zOrigin)-s[12],v=m*T-s[13],T=g*T+I.zOrigin-s[14]),I.rotationX=b*Y,b&&(o=w*(u=Math.cos(-b))+_*(l=Math.sin(-b)),a=S*u+m*l,h=d*u+g*l,_=w*-l+_*u,m=S*-l+m*u,g=d*-l+g*u,x=f*-l+x*u,w=o,S=a,d=h),b=Math.atan2(_,g),I.rotationY=b*Y,b&&(a=E*(u=Math.cos(-b))-m*(l=Math.sin(-b)),h=c*u-g*l,m=E*l+m*u,g=c*l+g*u,x=p*l+x*u,P=o=P*u-_*l,E=a,c=h),b=Math.atan2(E,P),I.rotation=b*Y,b&&(P=P*(u=Math.cos(-b))+w*(l=Math.sin(-b)),a=E*u+S*l,S=E*-l+S*u,d=c*-l+d*u,E=a),I.rotationX&&359.9<Math.abs(I.rotationX)+Math.abs(I.rotation)&&(I.rotationX=I.rotation=0,I.rotationY+=180),I.scaleX=(0|1e5*Math.sqrt(P*P+E*E)+.5)/1e5,I.scaleY=(0|1e5*Math.sqrt(S*S+m*m)+.5)/1e5,I.scaleZ=(0|1e5*Math.sqrt(d*d+g*g)+.5)/1e5,I.skewX=0,I.perspective=x?1/(x<0?-x:x):0,I.x=y,I.y=v,I.z=T,I.svg&&(I.x-=I.xOrigin-(I.xOrigin*P-I.yOrigin*w),I.y-=I.yOrigin-(I.yOrigin*E-I.xOrigin*S))):Ct&&!r&&s.length&&I.x===s[4]&&I.y===s[5]&&(I.rotationX||I.rotationY)||void 0!==I.x&&"none"===it(t,"display",e)||(P=(T=6<=s.length)?s[0]:1,w=s[1]||0,E=s[2]||0,S=T?s[3]:1,I.x=s[4]||0,I.y=s[5]||0,r=Math.sqrt(P*P+w*w),e=Math.sqrt(S*S+E*E),T=P||w?Math.atan2(w,P)*Y:I.rotation||0,s=E||S?Math.atan2(E,S)*Y+T:I.skewX||0,90<Math.abs(s)&&Math.abs(s)<270&&(A?(r*=-1,s+=T<=0?180:-180,T+=T<=0?180:-180):(e*=-1,s+=s<=0?180:-180)),I.scaleX=r,I.scaleY=e,I.rotation=T,I.skewX=s,Ct&&(I.rotationX=I.rotationY=I.z=0,I.perspective=O,I.scaleZ=1),I.svg&&(I.x-=I.xOrigin-(I.xOrigin*P+I.yOrigin*E),I.y-=I.yOrigin-(I.xOrigin*w+I.yOrigin*S))),I.zOrigin=C,I)I[n]<2e-5&&-2e-5<I[n]&&(I[n]=0);return i&&((t._gsTransform=I).svg&&(Tt&&t.style[St]?L.delayedCall(.001,function(){Ut(t.style,St)}):!Tt&&t.getAttribute("transform")&&L.delayedCall(.001,function(){t.removeAttribute("transform")}))),I},kt=i.set3DTransformRatio=i.setTransformRatio=function(t){var e,i,r,n,s,o,a,h,u,l,c,p,d,f,_,m,g=this.data,y=this.t.style,v=g.rotation,x=g.rotationX,b=g.rotationY,T=g.scaleX,P=g.scaleY,w=g.scaleZ,E=g.x,S=g.y,I=g.z,A=g.svg,C=g.perspective,O=g.force3D;if(!((1!==t&&0!==t||"auto"!==O||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&O||I||C||b||x)||Tt&&A||!Ct)v||g.skewX||A?(v*=q,m=g.skewX*q,e=Math.cos(v)*T,r=Math.sin(v)*T,i=Math.sin(v-m)*-P,n=Math.cos(v-m)*P,m&&"simple"===g.skewType&&(f=Math.tan(m),i*=f=Math.sqrt(1+f*f),n*=f,g.skewY&&(e*=f,r*=f)),A&&(E+=g.xOrigin-(g.xOrigin*e+g.yOrigin*i)+g.xOffset,S+=g.yOrigin-(g.xOrigin*r+g.yOrigin*n)+g.yOffset,Tt&&(g.xPercent||g.yPercent)&&(c=this.t.getBBox(),E+=.01*g.xPercent*c.width,S+=.01*g.yPercent*c.height),E<(c=1e-6)&&-c<E&&(E=0),S<c&&-c<S&&(S=0)),_=(0|1e5*e)/1e5+","+(0|1e5*r)/1e5+","+(0|1e5*i)/1e5+","+(0|1e5*n)/1e5+","+E+","+S+")",A&&Tt?this.t.setAttribute("transform","matrix("+_):y[St]=(g.xPercent||g.yPercent?"translate("+g.xPercent+"%,"+g.yPercent+"%) matrix(":"matrix(")+_):y[St]=(g.xPercent||g.yPercent?"translate("+g.xPercent+"%,"+g.yPercent+"%) matrix(":"matrix(")+T+",0,0,"+P+","+E+","+S+")";else{if(R&&(T<(c=1e-4)&&-c<T&&(T=w=2e-5),P<c&&-c<P&&(P=w=2e-5),!C||g.z||g.rotationX||g.rotationY||(C=0)),v||g.skewX)v*=q,p=e=Math.cos(v),d=r=Math.sin(v),g.skewX&&(v-=g.skewX*q,p=Math.cos(v),d=Math.sin(v),"simple"===g.skewType&&(f=Math.tan(g.skewX*q),p*=f=Math.sqrt(1+f*f),d*=f,g.skewY&&(e*=f,r*=f))),i=-d,n=p;else{if(!(b||x||1!==w||C||A))return void(y[St]=(g.xPercent||g.yPercent?"translate("+g.xPercent+"%,"+g.yPercent+"%) translate3d(":"translate3d(")+E+"px,"+S+"px,"+I+"px)"+(1!==T||1!==P?" scale("+T+","+P+")":""));e=n=1,i=r=0}h=1,t=s=o=a=u=l=0,O=C?-1/C:0,m=g.zOrigin,c=1e-6,(v=b*q)&&(p=Math.cos(v),u=O*(o=-(d=Math.sin(v))),t=e*d,s=r*d,O*=h=p,e*=p,r*=p),(v=x*q)&&(f=i*(p=Math.cos(v))+t*(d=Math.sin(v)),v=n*p+s*d,a=h*d,l=O*d,t=i*-d+t*p,s=n*-d+s*p,h*=p,O*=p,i=f,n=v),1!==w&&(t*=w,s*=w,h*=w,O*=w),1!==P&&(i*=P,n*=P,a*=P,l*=P),1!==T&&(e*=T,r*=T,o*=T,u*=T),(m||A)&&(m&&(E+=t*-m,S+=s*-m,I+=h*-m+m),A&&(E+=g.xOrigin-(g.xOrigin*e+g.yOrigin*i)+g.xOffset,S+=g.yOrigin-(g.xOrigin*r+g.yOrigin*n)+g.yOffset),E<c&&-c<E&&(E="0"),S<c&&-c<S&&(S="0"),I<c&&-c<I&&(I=0)),_=g.xPercent||g.yPercent?"translate("+g.xPercent+"%,"+g.yPercent+"%) matrix3d(":"matrix3d(",_+=(e<c&&-c<e?"0":e)+","+(r<c&&-c<r?"0":r)+","+(o<c&&-c<o?"0":o),_+=","+(u<c&&-c<u?"0":u)+","+(i<c&&-c<i?"0":i)+","+(n<c&&-c<n?"0":n),x||b?(_+=","+(a<c&&-c<a?"0":a)+","+(l<c&&-c<l?"0":l)+","+(t<c&&-c<t?"0":t),_+=","+(s<c&&-c<s?"0":s)+","+(h<c&&-c<h?"0":h)+","+(O<c&&-c<O?"0":O)+","):_+=",0,0,0,0,1,0,",y[St]=_+=E+","+S+","+I+","+(C?1+-I/C:1)+")"}};(t=Ot.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,yt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,r,n,s,o){if(r._lastParsedTransform===o)return n;r._lastParsedTransform=o;var a,h,u,l,c,p,d,f=t._gsTransform,_=r._transform=Bt(t,D,!0,o.parseTransform),m=t.style,g=Et.length,y=o,v={},x="transformOrigin";if("string"==typeof y.transform&&St)(h=Z.style)[St]=y.transform,h.display="block",h.position="absolute",$.body.appendChild(Z),a=Bt(Z,null,!1),$.body.removeChild(Z),null!=y.xPercent&&(a.xPercent=w(y.xPercent,_.xPercent)),null!=y.yPercent&&(a.yPercent=w(y.yPercent,_.yPercent));else if("object"==typeof y){if(a={scaleX:w(null!=y.scaleX?y.scaleX:y.scale,_.scaleX),scaleY:w(null!=y.scaleY?y.scaleY:y.scale,_.scaleY),scaleZ:w(y.scaleZ,_.scaleZ),x:w(y.x,_.x),y:w(y.y,_.y),z:w(y.z,_.z),xPercent:w(y.xPercent,_.xPercent),yPercent:w(y.yPercent,_.yPercent),perspective:w(y.transformPerspective,_.perspective)},null!=(p=y.directionalRotation))if("object"==typeof p)for(h in p)y[h]=p[h];else y.rotation=p;"string"==typeof y.x&&-1!==y.x.indexOf("%")&&(a.x=0,a.xPercent=w(y.x,_.xPercent)),"string"==typeof y.y&&-1!==y.y.indexOf("%")&&(a.y=0,a.yPercent=w(y.y,_.yPercent)),a.rotation=S("rotation"in y?y.rotation:"shortRotation"in y?y.shortRotation+"_short":"rotationZ"in y?y.rotationZ:_.rotation,_.rotation,"rotation",v),Ct&&(a.rotationX=S("rotationX"in y?y.rotationX:"shortRotationX"in y?y.shortRotationX+"_short":_.rotationX||0,_.rotationX,"rotationX",v),a.rotationY=S("rotationY"in y?y.rotationY:"shortRotationY"in y?y.shortRotationY+"_short":_.rotationY||0,_.rotationY,"rotationY",v)),a.skewX=null==y.skewX?_.skewX:S(y.skewX,_.skewX),a.skewY=null==y.skewY?_.skewY:S(y.skewY,_.skewY),(d=a.skewY-_.skewY)&&(a.skewX+=d,a.rotation+=d)}for(Ct&&null!=y.force3D&&(_.force3D=y.force3D,c=!0),_.skewType=y.skewType||_.skewType||M.defaultSkewType,(l=_.force3D||_.z||_.rotationX||_.rotationY||a.z||a.rotationX||a.rotationY||a.perspective)||null==y.scale||(a.scaleZ=1);-1<--g;)(1e-6<(u=a[i=Et[g]]-_[i])||u<-1e-6||null!=y[i]||null!=V[i])&&(c=!0,n=new ft(_,i,_[i],u,n),i in v&&(n.e=v[i]),n.xs0=0,n.plugin=s,r._overwriteProps.push(n.n));return u=y.transformOrigin,_.svg&&(u||y.svgOrigin)&&(o=_.xOffset,d=_.yOffset,vt(t,P(u),a,y.svgOrigin,y.smoothOrigin),n=pt(_,"xOrigin",(f?_:a).xOrigin,a.xOrigin,n,x),n=pt(_,"yOrigin",(f?_:a).yOrigin,a.yOrigin,n,x),o===_.xOffset&&d===_.yOffset||(n=pt(_,"xOffset",f?o:_.xOffset,_.xOffset,n,x),n=pt(_,"yOffset",f?d:_.yOffset,_.yOffset,n,x)),u=Tt?null:"0px 0px"),(u||Ct&&l&&_.zOrigin)&&(St?(c=!0,i=At,u=(u||it(t,i,D,!1,"50% 50%"))+"",(n=new ft(m,i,0,0,n,-1,x)).b=m[i],n.plugin=s,Ct?(h=_.zOrigin,u=u.split(" "),_.zOrigin=(2<u.length&&(0===h||"0px"!==u[2])?parseFloat(u[2]):h)||0,n.xs0=n.e=u[0]+" "+(u[1]||"50%")+" 0px",(n=new ft(_,"zOrigin",0,0,n,-1,n.n)).b=h,n.xs0=n.e=_.zOrigin):n.xs0=n.e=u):P(u+"",_)),c&&(r._transformType=_.svg&&Tt||!l&&3!==this._transformType?2:3),n},prefix:!0}),yt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),yt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,n){e=this.format(e);for(var s,o,a,h,u,l,c,p,d,f,_=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],m=t.style,g=parseFloat(t.offsetWidth),y=parseFloat(t.offsetHeight),v=e.split(" "),x=0;_.length>x;x++)this.p.indexOf("border")&&(_[x]=T(_[x])),-1!==(a=o=it(t,_[x],D,!1,"0px")).indexOf(" ")&&(a=(o=a.split(" "))[0],o=o[1]),h=s=v[x],d=parseFloat(a),f=a.substr((d+"").length),(l=""===(l=(c="="===h.charAt(1))?(u=parseInt(h.charAt(0)+"1",10),h=h.substr(2),u*=parseFloat(h),h.substr((u+"").length-(u<0?1:0))||""):(u=parseFloat(h),h.substr((u+"").length)))?b[i]||f:l)!==f&&(p=rt(t,"borderLeft",d,f),d=rt(t,"borderTop",d,f),o="%"===l?(a=p/g*100+"%",d/y*100+"%"):"em"===l?(a=p/(f=rt(t,"borderLeft",1,"em"))+"em",d/f+"em"):(a=p+"px",d+"px"),c&&(h=parseFloat(a)+u+l,s=parseFloat(o)+u+l)),n=_t(m,_[x],a+" "+o,h+" "+s,!1,"0px",n);return n},prefix:!0,formatter:lt("0px 0px 0px 0px",!1,!0)}),yt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,s){var o,a,h,u,l,c,p="background-position",d=D||et(t,null),f=this.format((d?A?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),e=this.format(e);if(-1!==f.indexOf("%")!=(-1!==e.indexOf("%"))&&((c=it(t,"backgroundImage").replace(X,""))&&"none"!==c)){for(o=f.split(" "),a=e.split(" "),K.setAttribute("src",c),h=2;-1<--h;)(u=-1!==(f=o[h]).indexOf("%"))!=(-1!==a[h].indexOf("%"))&&(l=0===h?t.offsetWidth-K.width:t.offsetHeight-K.height,o[h]=u?parseFloat(f)/100*l+"px":parseFloat(f)/l*100+"%");f=o.join(" ")}return this.parseComplex(t.style,f,e,n,s)},formatter:P}),yt("backgroundSize",{defaultValue:"0 0",formatter:P}),yt("perspective",{defaultValue:"0px",prefix:!0}),yt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),yt("transformStyle",{prefix:!0}),yt("backfaceVisibility",{prefix:!0}),yt("userSelect",{prefix:!0}),yt("margin",{parser:ct("marginTop,marginRight,marginBottom,marginLeft")}),yt("padding",{parser:ct("paddingTop,paddingRight,paddingBottom,paddingLeft")}),yt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,s){var o,a;return e=A<9?(o=t.currentStyle,a=A<8?" ":",",o="rect("+o.clipTop+a+o.clipRight+a+o.clipBottom+a+o.clipLeft+")",this.format(e).split(",").join(a)):(o=this.format(it(t,this.p,D,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,o,e,n,s)}}),yt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),yt("autoRound,strictUnits",{parser:function(t,e,i,r,n){return n}}),yt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,s){return this.parseComplex(t.style,this.format(it(t,"borderTopWidth",D,!1,"0px")+" "+it(t,"borderTopStyle",D,!1,"solid")+" "+it(t,"borderTopColor",D,!1,"#000")),this.format(e),n,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ut)||["#000"])[0]}}),yt("borderWidth",{parser:ct("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),yt("float,cssFloat,styleFloat",{parser:function(t,e,i,r,n){var s=t.style,t="cssFloat"in s?"cssFloat":"styleFloat";return new ft(s,t,0,0,n,-1,i,!1,0,s[t],e)}});function Ft(t){var e,i=this.t,r=i.filter||it(this.data,"filter")||"",t=0|this.s+this.c*t;(e=100==t?-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),!it(this.data,"filter")):(i.filter=r.replace(n,""),!0):e)||(this.xn1&&(i.filter=r=r||"alpha(opacity="+t+")"),-1===r.indexOf("pacity")?0==t&&this.xn1||(i.filter=r+" alpha(opacity="+t+")"):i.filter=r.replace(B,"opacity="+t))}yt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,s){var o=parseFloat(it(t,"opacity",D,!1,"1")),a=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===it(t,"visibility",D)&&0!==e&&(o=0),Q?n=new ft(a,"opacity",o,e-o,n):((n=new ft(a,"opacity",100*o,100*(e-o),n)).xn1=h?1:0,a.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=s,n.setRatio=Ft),h&&((n=new ft(a,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});function Gt(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ut(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)}var Ut=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(G,"-$1").toLowerCase())):t.removeAttribute(e))};yt("className",{parser:function(t,e,i,r,n,s,o){var a,h,u,l=t.getAttribute("class")||"",c=t.style.cssText;if((n=r._classNamePT=new ft(t,i,0,0,n,2)).setRatio=Gt,n.pr=-11,p=!0,n.b=l,a=_(t,D),i=t._gsClassPT){for(h={},u=i.data;u;)h[u.p]=1,u=u._next;i.setRatio(1)}return(t._gsClassPT=n).e="="!==e.charAt(1)?e:l.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",n.e),o=m(t,a,_(t),o,h),t.setAttribute("class",l),n.data=o.firstMPT,t.style.cssText=c,n.xfirst=r.parse(t,o.difs,n,s)}});function Xt(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,n,s=this.t.style,o=d.transform.parse;if("all"===this.e)n=!(s.cssText="");else for(r=(e=this.e.split(" ").join("").split(",")).length;-1<--r;)i=e[r],d[i]&&(d[i].parse===o?n=!0:i="transformOrigin"===i?At:d[i].p),Ut(s,i);n&&(Ut(s,St),(t=this.t._gsTransform)&&(t.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}}for(yt("clearProps",{parser:function(t,e,i,r,n){return(n=new ft(t,i,0,0,n,2)).setRatio=Xt,n.e=e,n.pr=-10,n.data=r._tween,p=!0,n}}),t="bezier,throwProps,physicsProps,physics2D".split(","),mt=t.length;mt--;)!function(t){var h;d[t]||(h=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",yt(t,{parser:function(t,e,i,r,n,s,o){var a=u.com.greensock.plugins[h];return a?(a._cssRegister(),d[i].parse(t,e,i,r,n,s,o)):(f("Error: "+h+" js file not loaded."),n)}}))}(t[mt]);(t=M.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i){if(!t.nodeType)return!1;this._target=t,this._tween=i,this._vars=e,I=e.autoRound,p=!1,b=e.suffixMap||M.suffixMap,D=et(t,""),c=this._overwriteProps;var r,n,s,o,a,h,u=t.style;if(l&&""===u.zIndex&&("auto"!==(h=it(t,"zIndex",D))&&""!==h||this._addLazySet(u,"zIndex",0)),"string"==typeof e&&(s=u.cssText,h=_(t,D),u.cssText=s+";"+e,h=m(t,h,_(t)).difs,!Q&&k.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,u.cssText=s),this._firstPT=r=e.className?d.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(h=3===this._transformType,St?g&&(l=!0,""===u.zIndex&&("auto"!==(e=it(t,"zIndex",D))&&""!==e||this._addLazySet(u,"zIndex",0)),y&&this._addLazySet(u,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(h?"visible":"hidden"))):u.zoom=1,n=r;n&&n._next;)n=n._next;u=new ft(t,"transform",0,0,null,2),this._linkCSSP(u,null,n),u.setRatio=St?kt:bt,u.data=this._transform||Bt(t,D,!0),u.tween=i,u.pr=-1,c.pop()}if(p){for(;r;){for(a=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=a}this._firstPT=s}return!0},t.parse=function(t,e,i,r){var n,s,o,a,h,u,l,c,p=t.style;for(n in e)h=e[n],c=d[n],c?i=c.parse(t,h,n,this,i,r,e):(a=it(t,n,D)+"",l="string"==typeof h,"color"===n||"fill"===n||"stroke"===n||-1!==n.indexOf("Color")||l&&F.test(h)?(l||(h=ht(h),h=(3<h.length?"rgba(":"rgb(")+h.join(",")+")"),i=_t(p,n,a,h,!0,"transparent",i,0,r)):!l||-1===h.indexOf(" ")&&-1===h.indexOf(",")?(s=parseFloat(a),u=s||0===s?a.substr((s+"").length):"",""!==a&&"auto"!==a||(u="width"===n||"height"===n?(s=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=st[e],s=n.length;for(i=i||et(t,null);-1<--s;)r-=parseFloat(it(t,"padding"+n[s],i,!0))||0,r-=parseFloat(it(t,"border"+n[s]+"Width",i,!0))||0;return r}(t,n,D),"px"):"left"===n||"top"===n?(s=nt(t,n,D),"px"):(s="opacity"!==n?0:1,"")),c=l&&"="===h.charAt(1),l=c?(o=parseInt(h.charAt(0)+"1",10),h=h.substr(2),o*=parseFloat(h),h.replace(N,"")):(o=parseFloat(h),l?h.replace(N,""):""),""===l&&(l=n in b?b[n]:u),h=o||0===o?(c?o+s:o)+l:e[n],u!==l&&""!==l&&(o||0===o)&&s&&(s=rt(t,n,s,u),"%"===l?(s/=rt(t,n,100,"%")/100,!0!==e.strictUnits&&(a=s+"%")):"em"===l?s/=rt(t,n,1,"em"):"px"!==l&&(o=rt(t,n,o,l),l="px"),c&&(o||0===o)&&(h=o+s+l)),c&&(o+=s),!s&&0!==s||!o&&0!==o?void 0!==p[n]&&(h||"NaN"!=h+""&&null!=h)?(i=new ft(p,n,o||s||0,0,i,-1,n,!1,0,a,h),i.xs0="none"!==h||"display"!==n&&-1===n.indexOf("Style")?h:a):f("invalid "+n+" tween value: "+e[n]):(i=new ft(p,n,s,o-s,i,0,n,!1!==I&&("px"===l||"zIndex"===n),0,a,h),i.xs0=l)):i=_t(p,n,a,h,!0,null,i,0,r)),r&&i&&!i.plugin&&(i.plugin=r);return i},t.setRatio=function(t){var e,i,r,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),n.type)if(1===n.type)if(2===(r=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=Math.round(n.s+n.c),n.type){if(1===n.type){for(r=n.l,i=n.xs0+e+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},t._enableTransforms=function(t){this._transform=this._transform||Bt(this._target,D,!0),this._transformType=this._transform.svg&&Tt||!t&&3!==this._transformType?2:3};function jt(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)}t._addLazySet=function(t,e,i){e=this._firstPT=new ft(t,e,0,0,this._firstPT,2);e.e=i,e.setRatio=jt,e.data=this},t._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._kill=function(t){var e,i,r,n=t;if(t.autoAlpha||t.alpha){for(i in n={},t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return t.className&&(e=this._classNamePT)&&((r=e.xfirst)&&r._prev?this._linkCSSP(r._prev,e._next,r._prev._prev):r===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,r._prev),this._classNamePT=null),s.prototype._kill.call(this,n)};function Wt(t,e,i){var r,n,s,o;if(t.slice)for(n=t.length;-1<--n;)Wt(t[n],e,i);else for(n=(r=t.childNodes).length;-1<--n;)o=(s=r[n]).type,s.style&&(e.push(_(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Wt(s,e,i)}return M.cascadeTo=function(t,e,i){var r,n,s,o,a=L.to(t,e,i),h=[a],u=[],l=[],c=[],p=L._internals.reservedProps;for(t=a._targets||a.target,Wt(t,u,c),a.render(e,!0,!0),Wt(t,l),a.render(0,!0,!0),a._enabled(!0),r=c.length;-1<--r;)if((n=m(c[r],u[r],l[r])).firstMPT){for(s in n=n.difs,i)p[s]&&(n[s]=i[s]);for(s in o={},n)o[s]=u[r][s];h.push(L.fromTo(c[r],e,o,n))}return h},s.activate([M]),M},!0),(t=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}).prototype)._onInitAllProps=function(){for(var t,e,i,r=this._tween,n=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),s=n.length,o={},a=r._propLookup.roundProps;-1<--s;)o[n[s]]=1;for(s=n.length;-1<--s;)for(t=n[s],e=r._firstPT;e;)i=e._next,e.pg?e.t._roundProps(o,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:r._firstPT===e&&(r._firstPT=i),e._next=e._prev=null,r._propLookup[t]=a),e=i;return!1},t._add=function(t,e,i,r){this._addTween(t,e,i,i+r,e,!0),this._overwriteProps.push(e)},a=/(?:\d|\-|\+|=|#|\.)*/g,h=/[A-Za-z%]/g,_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.4.0",init:function(t,e){var i,r,n,s,o;if("function"!=typeof t.setAttribute)return!1;for(i in this._target=t,this._proxy={},this._start={},this._end={},this._suffix={},e)this._start[i]=this._proxy[i]=r=t.getAttribute(i)+"",this._end[i]=n=e[i]+"",this._suffix[i]=s=h.test(n)?n.replace(a,""):h.test(r)?r.replace(a,""):"",s&&(o=n.indexOf(s),-1!==o&&(n=n.substr(0,o))),this._addTween(this._proxy,i,parseFloat(r),n,i)||(this._suffix[i]=""),"="===n.charAt(1)&&(this._end[i]=this._firstPT.s+this._firstPT.c+s),this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,r=i.length,n=1===t?this._end:t?this._proxy:this._start,s=n===this._proxy;-1<--r;)e=i[r],this._target.setAttribute(e,n[e]+(s?this._suffix[e]:""))}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,r,n,s,o,a=!0===e.useRadians?2*Math.PI:360;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),r=o[0],n=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof r&&"="===r.charAt(1)?n+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,s=s-n,o.length&&(r=o.join("_"),-1!==r.indexOf("short")&&(s%=a,s!==s%(a/2)&&(s=s<0?s+a:s-a)),-1!==r.indexOf("_cw")&&s<0?s=(s+9999999999*a)%a-(0|s/a)*a:-1!==r.indexOf("ccw")&&0<s&&(s=(s-9999999999*a)%a-(0|s/a)*a)),(1e-6<s||s<-1e-6)&&(this._addTween(t,i,n,n+s,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(m){function t(t,e){var i=h("easing."+t,function(){},!0);return(t=i.prototype=new m).constructor=i,t.getRatio=e,i}function e(t,e,i,r){return r=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new r},!0),u(r,t),r}function g(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)}var i,r,n=_gsScope.GreenSockGlobals||_gsScope,s=n.com.greensock,o=2*Math.PI,a=Math.PI/2,h=s._class,u=m.register||function(){},l=function(t,e){var i=h("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),t=i.prototype=new m;return t.constructor=i,t.getRatio=e,t.config=function(t){return new i(t)},i},s=e("Back",l("BackOut",function(t){return--t*t*((this._p1+1)*t+this._p1)+1}),l("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),l("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),c=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),l=c.prototype=new m;return l.constructor=c,l.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},c.ease=new c(.7,.7),l.config=c.config=function(t,e,i){return new c(t,e,i)},(l=(i=h("easing.SteppedEase",function(t){this._p1=1/(t=t||1),this._p2=t+1},!0)).prototype=new m).constructor=i,l.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),(this._p2*t>>0)*this._p1},l.config=i.config=function(t){return new i(t)},(l=(r=h("easing.RoughEase",function(t){for(var e,i,r,n,s,o,a=(t=t||{}).taper||"none",h=[],u=0,l=0|(t.points||20),c=l,p=!1!==t.randomize,d=!0===t.clamp,f=t.template instanceof m?t.template:null,_="number"==typeof t.strength?.4*t.strength:.4;-1<--c;)e=p?Math.random():1/l*c,i=f?f.getRatio(e):e,r="none"===a?_:"out"===a?(n=1-e)*n*_:"in"===a?e*e*_:.5*(n=e<.5?2*e:2*(1-e))*n*_,p?i+=Math.random()*r-.5*r:c%2?i+=.5*r:i-=.5*r,d&&(1<i?i=1:i<0&&(i=0)),h[u++]={x:e,y:i};for(h.sort(function(t,e){return t.x-e.x}),o=new g(1,1,null),c=l;-1<--c;)s=h[c],o=new g(s.x,s.y,o);this._prev=new g(0,0,0!==o.t?o:o.next)},!0)).prototype=new m).constructor=r,l.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},l.config=function(t){return new r(t)},r.ease=new r,e("Bounce",t("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),t("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),t("BounceInOut",function(t){var e=t<.5;return t=(t=e?1-2*t:2*t-1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),e("Circ",t("CircOut",function(t){return Math.sqrt(1- --t*t)}),t("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),t("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),e("Elastic",(l=function(t,e,i){var r=h("easing."+t,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),t=r.prototype=new m;return t.constructor=r,t.getRatio=e,t.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),l("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*--t)*Math.sin((t-this._p3)*this._p2))},.3),l("ElasticInOut",function(t){return(t*=2)<1?-.5*this._p1*Math.pow(2,10*--t)*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*--t)*Math.sin((t-this._p3)*this._p2)+1},.45)),e("Expo",t("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),t("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),t("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),e("Sine",t("SineOut",function(t){return Math.sin(t*a)}),t("SineIn",function(t){return 1-Math.cos(t*a)}),t("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(t){return m.map[t]}},!0),u(n.SlowMo,"SlowMo","ease,"),u(r,"RoughEase","ease,"),u(i,"SteppedEase","ease,"),s},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(p){"use strict";var e,i,d=p.GreenSockGlobals=p.GreenSockGlobals||p;if(!d.TweenLite){var f,_=function(t){for(var e=t.split("."),i=d,r=0;e.length>r;r++)i[e[r]]=i=i[e[r]]||{};return i},c=_("com.greensock"),m=1e-10,a=function(t){for(var e=[],i=t.length,r=0;r!==i;e.push(t[r++]));return e},g=function(){},y=(e=Object.prototype.toString,i=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===i)}),v={},x=function(a,h,u,l){this.sc=v[a]?v[a].sc:[],(v[a]=this).gsClass=null,this.func=u;var c=[];this.check=function(t){for(var e,i,r,n,s=h.length,o=s;-1<--s;)(e=v[h[s]]||new x(h[s],[])).gsClass?(c[s]=e.gsClass,o--):t&&e.sc.push(this);if(0===o&&u)for(r=(i=("com.greensock."+a).split(".")).pop(),n=_(i.join("."))[r]=this.gsClass=u.apply(u,c),l&&(d[r]=n,"function"==typeof define&&define.amd?define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return n}):"TweenMax"===a&&"undefined"!=typeof module&&module.exports&&(module.exports=n)),s=0;this.sc.length>s;s++)this.sc[s].check()},this.check(!0)},r=p._gsDefine=function(t,e,i,r){return new x(t,e,i,r)},b=c._class=function(t,e,i){return e=e||function(){},r(t,[],function(){return e},i),e};r.globals=d;var t,n=[0,0,1,1],s=[],l=b("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?n.concat(e):n},!0),T=l.map={},o=l.register=function(t,e,i,r){for(var n,s,o,a,h=e.split(","),u=h.length,l=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(s=h[u],n=r?b("easing."+s,null,!0):c.easing[s]||{},o=l.length;-1<--o;)a=l[o],T[s+"."+a]=T[a+s]=n[a]=t.getRatio?t:t[a]||new t};for((t=l.prototype)._calcEnd=!1,t.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},u=(h=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--u;)t=h[u]+",Power"+u,o(new l(null,null,1,u),t,"easeOut",!0),o(new l(null,null,2,u),t,"easeIn"+(0===u?",easeNone":"")),o(new l(null,null,3,u),t,"easeInOut");T.linear=c.easing.Linear.easeIn,T.swing=c.easing.Quad.easeInOut;var P=b("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(t=P.prototype).addEventListener=function(t,e,i,r,n){n=n||0;var s,o,a=this._listeners[t],h=0;for(null==a&&(this._listeners[t]=a=[]),o=a.length;-1<--o;)(s=a[o]).c===e&&s.s===i?a.splice(o,1):0===h&&n>s.pr&&(h=o+1);a.splice(h,0,{c:e,s:i,up:r,pr:n}),this!==C||f||C.wake()},t.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;-1<--i;)if(r[i].c===e)return void r.splice(i,1)},t.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(e=n.length,i=this._eventTarget;-1<--e;)(r=n[e])&&(r.up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i))};for(var h,w=p.requestAnimationFrame,E=p.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},I=S(),u=(h=["ms","moz","webkit","o"]).length;-1<--u&&!w;)w=p[h[u]+"RequestAnimationFrame"],E=p[h[u]+"CancelAnimationFrame"]||p[h[u]+"CancelRequestAnimationFrame"];b("Ticker",function(t,e){var r,n,s,o,a,h=this,u=S(),i=!1!==e&&w,l=500,c=33,p="tick",d=function(t){var e,i=S()-I;l<i&&(u+=i-c),I+=i,h.time=(I-u)/1e3,i=h.time-a,(!r||0<i||!0===t)&&(h.frame++,a+=i+(o<=i?.004:o-i),e=!0),!0!==t&&(s=n(d)),e&&h.dispatchEvent(p)};P.call(h),h.time=h.frame=0,h.tick=function(){d(!0)},h.lagSmoothing=function(t,e){l=t||1e10,c=Math.min(e,l,0)},h.sleep=function(){null!=s&&((i&&E?E:clearTimeout)(s),n=g,s=null,h===C&&(f=!1))},h.wake=function(){null!==s?h.sleep():10<h.frame&&(I=S()-l+5),n=0===r?g:i&&w?w:function(t){return setTimeout(t,0|1e3*(a-h.time)+1)},h===C&&(f=!0),d(2)},h.fps=function(t){return arguments.length?(o=1/((r=t)||60),a=this.time+o,void h.wake()):r},h.useRAF=function(t){return arguments.length?(h.sleep(),i=t,void h.fps(r)):i},h.fps(t),setTimeout(function(){i&&h.frame<5&&h.useRAF(!1)},1500)}),(t=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var A=b("core.Animation",function(t,e){this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,W&&(f||C.wake(),(e=this.vars.useFrames?j:W).add(this,e._time),this.vars.paused&&this.paused(!0))}),C=A.ticker=new c.Ticker;(t=A.prototype)._dirty=t._gc=t._initted=t._paused=!1,t._totalTime=t._time=0,t._rawPrevTime=-1,t._next=t._last=t._onUpdate=t._timeline=t.timeline=null,t._paused=!1;var O=function(){f&&2e3<S()-I&&C.wake(),setTimeout(O,2e3)};O(),t.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},t.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},t.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},t.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},t.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},t.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},t.render=function(){},t.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},t.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},t._enabled=function(t,e){return f||C.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},t._kill=function(){return this._enabled(!1,!1)},t.kill=function(t,e){return this._kill(t,e),this},t._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},t._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},t._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||s)},t.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=y(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},t.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},t.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},t.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},t.totalTime=function(t,e,i){if(f||C.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(r<t&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(this.render(t,e,!1),R.length&&H())}return this},t.progress=t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},t.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},t.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},t.timeScale=function(t){return arguments.length?(t=t||m,this._timeline&&this._timeline.smoothChildTiming&&(e=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=e-(e-this._startTime)*this._timeScale/t),this._timeScale=t,this._uncache(!1)):this._timeScale;var e},t.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},t.paused=function(t){if(!arguments.length)return this._paused;var e,i,r=this._timeline;return t!=this._paused&&r&&(f||t||C.wake(),i=(e=r.rawTime())-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!=i&&this._initted&&this.duration()&&this.render(r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var L=b("core.SimpleTimeline",function(t){A.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(t=L.prototype=new A).constructor=L,t.kill()._gc=!1,t._first=t._last=t._recent=null,t._sortChildren=!1,t.add=t.insert=function(t,e){var i,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(r=t._startTime;i&&i._startTime>r;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},t._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},t.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},t.rawTime=function(){return f||C.wake(),this._totalTime};var M=b("TweenLite",function(t,e,i){if(A.call(this,e,i),this.render=M.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"==typeof t&&M.selector(t)||t;var r,n,s,i=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),o=this.vars.overwrite;if(this._overwrite=o=null==o?X[M.defaultOverwrite]:"number"==typeof o?o>>0:X[o],(i||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=s=a(t),this._propLookup=[],this._siblings=[],r=0;s.length>r;r++)(n=s[r])?"string"!=typeof n?n.length&&n!==p&&n[0]&&(n[0]===p||n[0].nodeType&&n[0].style&&!n.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(a(n))):(this._siblings[r]=q(n,this,!1),1===o&&1<this._siblings[r].length&&V(n,this,null,1,this._siblings[r])):"string"==typeof(n=s[r--]=M.selector(n))&&s.splice(r+1,1):s.splice(r--,1);else this._propLookup={},this._siblings=q(t,this,!1),1===o&&1<this._siblings.length&&V(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-m,this.render(-this._delay))},!0),D=function(t){return t&&t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)};(t=M.prototype=new A).constructor=M,t.kill()._gc=!1,t.ratio=0,t._firstPT=t._targets=t._overwrittenProps=t._startAt=null,t._notifyPluginsOfEnabled=t._lazy=!1,M.version="1.17.0",M.defaultEase=t._ease=new l(null,null,1,1),M.defaultOverwrite="auto",M.ticker=C,M.autoSleep=120,M.lagSmoothing=function(t,e){C.lagSmoothing(t,e)},M.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(M.selector=e)(t):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var R=[],N={},B=M._internals={isArray:y,isSelector:D,lazyTweens:R},k=M._plugins={},F=B.tweenLookup={},G=0,U=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},j=A._rootFramesTimeline=new L,W=A._rootTimeline=new L,z=30,H=B.lazyRender=function(){var t,e=R.length;for(N={};-1<--e;)(t=R[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);R.length=0};W._startTime=C.time,j._startTime=C.frame,W._active=j._active=!0,setTimeout(H,1),A._updateRoot=M.render=function(){var t,e,i;if(R.length&&H(),W.render((C.time-W._startTime)*W._timeScale,!1,!1),j.render((C.frame-j._startTime)*j._timeScale,!1,!1),R.length&&H(),C.frame>=z){for(i in z=C.frame+(parseInt(M.autoSleep,10)||120),F){for(t=(e=F[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if((!(i=W._first)||i._paused)&&M.autoSleep&&!j._first&&1===C._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||C.sleep()}}},C.addEventListener("tick",A._updateRoot);var q=function(t,e,i){var r,n,s=t._gsTweenID;if(F[s||(t._gsTweenID=s="t"+G++)]||(F[s]={target:t,tweens:[]}),e&&((r=F[s].tweens)[n=r.length]=e,i))for(;-1<--n;)r[n]===e&&r.splice(n,1);return F[s].tweens},Y=function(t,e,i,r){var n,s,o=t.vars.onOverwrite;return o&&(n=o(t,e,i,r)),(o=M.onOverwrite)&&(s=o(t,e,i,r)),!1!==n&&!1!==s},V=function(t,e,i,r,n){var s,o,a;if(1===r||4<=r){for(a=n.length,d=0;d<a;d++)if((o=n[d])!==e)o._gc||o._kill(null,t,e)&&(s=!0);else if(5===r)break;return s}for(var h,u=e._startTime+m,l=[],c=0,p=0===e._duration,d=n.length;-1<--d;)(o=n[d])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||$(e,0,p),0===$(o,h,p)&&(l[c++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((p||!o._initted)&&u-o._startTime<=2e-10||(l[c++]=o)));for(d=c;-1<--d;)if(o=l[d],2===r&&o._kill(i,t,e)&&(s=!0),2!==r||!o._firstPT&&o._initted){if(2!==r&&!Y(o,e))continue;o._enabled(!1,!1)&&(s=!0)}return s},$=function(t,e,i){for(var r=t._timeline,n=r._timeScale,s=t._startTime;r._timeline;){if(s+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return e<(s/=n)?s-e:i&&s===e||!t._initted&&s-e<2e-10?m:(s+=t.totalDuration()/t._timeScale/n)>e+m?0:s-e-m};t._init=function(){var t,e,i,r,n,s=this.vars,o=this._overwrittenProps,a=this._duration,h=!!s.immediateRender,u=s.ease;if(s.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},s.startAt)n[r]=s.startAt[r];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==s.lazy,n.startAt=n.delay=null,this._startAt=M.to(this.target,0,n),h)if(0<this._time)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(h=!1),i={},s)U[r]&&"autoCSS"!==r||(i[r]=s[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==s.lazy,i.immediateRender=h,this._startAt=M.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof l?u:"function"==typeof u?new l(u,s.easeParams):T[u]||M.defaultEase:M.defaultEase,s.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;-1<--t;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&M._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},t._initProps=function(t,e,i,r){var n,s,o,a,h,u;if(null==t)return!1;for(n in N[t._gsTweenID]&&H(),this.vars.css||t.style&&t!==p&&t.nodeType&&k.css&&!1!==this.vars.autoCSS&&function(t,e){var i,r={};for(i in t)U[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!k[i]||k[i]&&k[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r}(this.vars,t),this.vars){if(u=this.vars[n],U[n])u&&(u instanceof Array||u.push&&y(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[n]=u=this._swapSelfInParams(u,this));else if(k[n]&&(a=new k[n])._onInitTween(t,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:a,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:a._priority},s=a._overwriteProps.length;-1<--s;)e[a._overwriteProps[s]]=this._firstPT;(a._priority||a._onInitAllProps)&&(o=!0),(a._onDisable||a._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[n]=h={_next:this._firstPT,t:t,p:n,f:"function"==typeof t[n],n:n,pg:!1,pr:0},h.s=h.f?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),h.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-h.s||0;h&&h._next&&(h._next._prev=h)}return r&&this._kill(r,t)?this._initProps(t,e,i,r):1<this._overwrite&&this._firstPT&&1<i.length&&V(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,r)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),o)},t.render=function(t,e,i){var r,n,s,o,a,h,u,l=this._time,c=this._duration,p=this._rawPrevTime;if(c<=t?(this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0!==c||!this._initted&&this.vars.lazy&&!i||((0===(t=this._startTime===this._timeline._duration?0:t)||p<0||p===m&&"isPause"!==this.data)&&p!==t&&(i=!0,m<p&&(n="onReverseComplete")),this._rawPrevTime=o=!e||t||p===t?t:m)):t<1e-7?(this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===c&&0<p)&&(n="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0!==c||!this._initted&&this.vars.lazy&&!i||(0<=p&&(p!==m||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||p===t?t:m)),this._initted||(i=!0)):(this._totalTime=this._time=t,this._easeType?(a=t/c,(1===(h=this._easeType)||3===h&&.5<=a)&&(a=1-a),3===h&&(a*=2),1===(u=this._easePower)?a*=a:2===u?a*=a*a:3===u?a*=a*a*a:4===u&&(a*=a*a*a*a),this.ratio=1===h?1-a:2===h?a:t/c<.5?a/2:1-a/2):this.ratio=this._ease.getRatio(t/c)),this._time!==l||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=p,R.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/c):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==l&&0<=t&&(this._active=!0),0===l&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):n=n||"_dummyGS"),!this.vars.onStart||0===this._time&&0!==c||(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||this._time===l&&!r||this._callback("onUpdate")),!n||this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===c&&this._rawPrevTime===m&&o!==m&&(this._rawPrevTime=0))}},t._kill=function(t,e,i){if(null==(t="all"===t?null:t)&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:M.selector(e)||e;var r,n,s,o,a,h,u,l,c,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((y(e)||D(e))&&"number"!=typeof e[0])for(r=e.length;-1<--r;)this._kill(t,e[r],i)&&(h=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(e===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,l=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(M.onOverwrite||this.vars.onOverwrite)){for(s in u)a[s]&&(c=c||[],c.push(s));if((c||!t)&&!Y(this,i,e,c))return!1}for(s in u)(o=a[s])&&(p&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,h=!0),o.pg&&o.t._kill(u)&&(h=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),l&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},t.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(-this._delay)),this},t._enabled=function(t,e){if(f||C.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;-1<--i;)this._siblings[i]=q(r[i],this,!0);else this._siblings=q(this.target,this,!0)}return A.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(t?"_onEnable":"_onDisable",this)},M.to=function(t,e,i){return new M(t,e,i)},M.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new M(t,e,i)},M.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new M(t,e,r)},M.delayedCall=function(t,e,i,r,n){return new M(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},M.set=function(t,e){return new M(t,0,e)},M.getTweensOf=function(t,e){if(null==t)return[];var i,r,n,s;if(t="string"==typeof t&&M.selector(t)||t,(y(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];-1<--i;)r=r.concat(M.getTweensOf(t[i],e));for(i=r.length;-1<--i;)for(s=r[i],n=i;-1<--n;)s===r[n]&&r.splice(i,1)}else for(i=(r=q(t).concat()).length;-1<--i;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r},M.killTweensOf=M.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=M.getTweensOf(t,e),n=r.length;-1<--n;)r[n]._kill(i,t)};var Z=b("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Z.prototype},!0);if(t=Z.prototype,Z.version="1.10.1",Z.API=2,t._firstPT=null,t._addTween=function(t,e,i,r,n,s){var o;return null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-Number(i):parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:t,p:e,s:i,c:o,f:"function"==typeof t[e],n:n||e,r:s},s._next&&(s._next._prev=s),s):void 0},t.setRatio=function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},t._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},t._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},M._onPluginEvent=function(t,e){var i,r,n,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:s)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:s=a,a=o}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},Z.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===Z.API&&(k[(new t[e])._propName]=t[e]);return!0},r.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=b("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Z.call(this,i,r),this._overwriteProps=n||[]},!0===t.global),a=o.prototype=new Z(i);for(e in(a.constructor=o).API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,Z.activate([o]),o},h=p._gsQueue){for(u=0;h.length>u;u++)h[u]();for(t in v)v[t].func||p.console.log("GSAP encountered missing dependency: com.greensock."+t)}f=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.initialize(t,e,i)}var e=t.prototype;e.type=null,e.target=null,e.currentTarget=null,e.eventPhase=0,e.bubbles=!1,e.cancelable=!1,e.timeStamp=0,e.defaultPrevented=!1,e.propagationStopped=!1,e.immediatePropagationStopped=!1,e.removed=!1,e.initialize=function(t,e,i){this.type=t,this.bubbles=e,this.cancelable=i,this.timeStamp=(new Date).getTime()},e.preventDefault=function(){this.defaultPrevented=!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e._listeners=null,e._captureListeners=null,e.initialize=function(){},e.addEventListener=function(t,e,i){var r=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},n=r[t];return n&&this.removeEventListener(t,e,i),(n=r[t])?n.push(e):r[t]=[e],e},e.on=function(t,e,i,r,n,s){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,n),r&&t.remove()},s)},e.removeEventListener=function(t,e,i){var r=i?this._captureListeners:this._listeners;if(r){var n=r[t];if(n)for(var s=0,o=n.length;s<o;s++)if(n[s]==e){1==o?delete r[t]:n.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e){if("string"==typeof t){var i=this._listeners;if(!i||!i[t])return!1;t=new createjs.Event(t)}if(t.target=e||this,t.bubbles&&this.parent){for(var r=this,n=[r];r.parent;)n.push(r=r.parent);for(var s=n.length,o=s-1;0<=o&&!t.propagationStopped;o--)n[o]._dispatchEvent(t,1+(0==o));for(o=1;o<s&&!t.propagationStopped;o++)n[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,r=1==e?this._captureListeners:this._listeners;if(t&&r&&((n=r[t.type])&&(i=n.length))){t.currentTarget=this,t.eventPhase=e,t.removed=!1;for(var n=n.slice(),s=0;s<i&&!t.immediatePropagationStopped;s++){var o=n[s];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function d(t,e,i){this.initialize(t,e,i)}var t=d.prototype=new createjs.EventDispatcher;d.NONE=0,d.LOOP=1,d.REVERSE=2,d.IGNORE={},d._tweens=[],d._plugins={},d.get=function(t,e,i,r){return r&&d.removeTweens(t),new d(t,e,i)},d.tick=function(t,e){for(var i=d._tweens.slice(),r=i.length-1;0<=r;r--){var n=i[r];e&&!n.ignoreGlobalPause||n._paused||n.tick(n._useTicks?1:t)}},d.handleEvent=function(t){"tick"==t.type&&this.tick(t.delta,t.paused)},d.removeTweens=function(t){if(t.tweenjs_count){for(var e=d._tweens,i=e.length-1;0<=i;i--)e[i]._target==t&&(e[i]._paused=!0,e.splice(i,1));t.tweenjs_count=0}},d.removeAllTweens=function(){for(var t=d._tweens,e=0,i=t.length;e<i;e++){var r=t[e];r.paused=!0,r.target.tweenjs_count=0}t.length=0},d.hasActiveTweens=function(t){return t?t.tweenjs_count:d._tweens&&!!d._tweens.length},d.installPlugin=function(t,e){var i=t.priority;null==i&&(t.priority=i=0);for(var r=0,n=e.length,s=d._plugins;r<n;r++){var o=e[r];if(s[o]){for(var a=s[o],h=0,u=a.length;h<u&&!(i<a[h].priority);h++);s[o].splice(h,0,t)}else s[o]=[t]}},d._register=function(t,e){var i=t._target,r=d._tweens;if(e)i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1),r.push(t),!d._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",d),d._inited=!0);else{i&&i.tweenjs_count--;for(var n=r.length;n--;)if(r[n]==t)return void r.splice(n,1)}},t.ignoreGlobalPause=!1,t.loop=!1,t.duration=0,t.pluginData=null,t.target=null,t.position=null,t.passive=!1,t._paused=!1,t._curQueueProps=null,t._initQueueProps=null,t._steps=null,t._actions=null,t._prevPosition=0,t._stepPosition=0,t._prevPos=-1,t._target=null,t._useTicks=!1,t._inited=!1,t.initialize=function(t,e,i){this.target=this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange),e.override&&d.removeTweens(t)),this.pluginData=i||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this._paused=!0:d._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,d.NONE)},t.wait=function(t,e){if(null==t||t<=0)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:i,e:this._linearEase,p1:i,v:e})},t.to=function(t,e,i){return(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},t.call=function(t,e,i){return this._addAction({f:t,p:e||[this],o:i||this._target})},t.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.play=function(t){return this.call((t=t||this).setPaused,[!1],t)},t.pause=function(t){return this.call((t=t||this).setPaused,[!0],t)},t.setPosition=function(t,e){null==e&&(e=1);var i=t=t<0?0:t,r=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,r=!0)),i==this._prevPos)return r;var n=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(r)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var s=0,o=this._steps.length;s<o&&!(this._steps[s].t>i);s++);t=this._steps[s-1];this._updateTargetProps(t,(this._stepPosition=i-t.t)/t.d)}return 0!=e&&0<this._actions.length&&(this._useTicks?this._runActions(i,i):1==e&&i<n?(n!=this.duration&&this._runActions(n,this.duration),this._runActions(0,i,!0)):this._runActions(n,i)),r&&this.setPaused(!0),this.dispatchEvent("change"),r},t.tick=function(t){this._paused||this.setPosition(this._prevPosition+t)},t.setPaused=function(t){return this._paused=!!t,d._register(this,!t),this},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,e){var i,r,n,s,o,a;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),i=t.p0,r=t.p1}else this.passive=!1,i=r=this._curQueueProps;for(a in this._initQueueProps){null==(n=i[a])&&(i[a]=n=this._initQueueProps[a]),null==(s=r[a])&&(r[a]=s=n);var h=n==s||0==e||1==e||"number"!=typeof n?1==e?s:n:n+(s-n)*e,u=!1;if(o=d._plugins[a])for(var l=0,c=o.length;l<c;l++){var p=o[l].tween(this,a,h,i,r,e,!!t&&i==r,!t);p==d.IGNORE?u=!0:h=p}u||(this._target[a]=h)}},t._runActions=function(t,e,i){var r=t,n=e,s=-1,o=this._actions.length,a=1;for(e<t&&(r=e,n=t,s=o,o=a=-1);(s+=a)!=o;){var h=this._actions[s],u=h.t;(u==n||r<u&&u<n||i&&u==t)&&h.f.apply(h.o,h.p)}},t._appendQueueProps=function(t){var e,i,r,n,s,o;for(o in t)if(void 0===this._initQueueProps[o]){if(i=this._target[o],e=d._plugins[o])for(r=0,n=e.length;r<n;r++)i=e[r].init(this,o,i);this._initQueueProps[o]=this._curQueueProps[o]=void 0===i?null:i}else i=this._curQueueProps[o];for(o in t){if(i=this._curQueueProps[o],e=d._plugins[o])for(s=s||{},r=0,n=e.length;r<n;r++)e[r].step&&e[r].step(this,o,i,t[o],s);this._curQueueProps[o]=t[o]}return s&&this._appendQueueProps(s),this._curQueueProps},t._cloneProps=function(t){var e,i={};for(e in t)i[e]=t[e];return i},t._addStep=function(t){return 0<t.d&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},t._set=function(t,e){for(var i in t)e[i]=t[i]},createjs.Tween=d}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.initialize(t,e,i)}var e=t.prototype=new createjs.EventDispatcher;e.ignoreGlobalPause=!1,e.duration=0,e.loop=!1,e.position=null,e._paused=!1,e._tweens=null,e._labels=null,e._labelList=null,e._prevPosition=0,e._prevPos=-1,e._useTicks=!1,e.initialize=function(t,e,i){this._tweens=[],i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,i.onChange&&this.addEventListener("change",i.onChange)),t&&this.addTween.apply(this,t),this.setLabels(e),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)},e.addTween=function(t){var e=arguments.length;if(1<e){for(var i=0;i<e;i++)this.addTween(arguments[i]);return t}return 0==e?null:(this.removeTween(t),this._tweens.push(t),t.setPaused(!0),t._paused=!1,t._useTicks=this._useTicks,t.duration>this.duration&&(this.duration=t.duration),0<=this._prevPos&&t.setPosition(this._prevPos,createjs.Tween.NONE),t)},e.removeTween=function(t){var e=arguments.length;if(1<e){for(var i=!0,r=0;r<e;r++)i=i&&this.removeTween(arguments[r]);return i}if(0==e)return!1;for(var n=this._tweens,r=n.length;r--;)if(n[r]==t)return n.splice(r,1),t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.addLabel=function(t,e){this._labels[t]=e;var i=this._labelList;if(i){for(var r=0,n=i.length;r<n&&!(e<i[r].position);r++);i.splice(r,0,{label:t,position:e})}},e.setLabels=function(t){this._labels=t||{}},e.getLabels=function(){if(!(e=this._labelList)){var t,e=this._labelList=[],i=this._labels;for(t in i)e.push({label:t,position:i[t]});e.sort(function(t,e){return t.position-e.position})}return e},e.getCurrentLabel=function(){var t=this.getLabels(),e=this.position,i=t.length;if(i){for(var r=0;r<i&&!(e<t[r].position);r++);return 0==r?null:t[r-1].label}return null},e.gotoAndPlay=function(t){this.setPaused(!1),this._goto(t)},e.gotoAndStop=function(t){this.setPaused(!0),this._goto(t)},e.setPosition=function(t,e){t<0&&(t=0);var i=this.loop?t%this.duration:t,r=!this.loop&&t>=this.duration;if(i==this._prevPos)return r;this._prevPosition=t,this.position=this._prevPos=i;for(var n=0,s=this._tweens.length;n<s;n++)if(this._tweens[n].setPosition(i,e),i!=this._prevPos)return!1;return r&&this.setPaused(!0),this.dispatchEvent("change"),r},e.setPaused=function(t){this._paused=!!t,createjs.Tween._register(this,!t)},e.updateDuration=function(){for(var t=this.duration=0,e=this._tweens.length;t<e;t++){var i=this._tweens[t];i.duration>this.duration&&(this.duration=i.duration)}},e.tick=function(t){this.setPosition(this._prevPosition+t)},e.resolve=function(t){var e=parseFloat(t);return e=isNaN(e)?this._labels[t]:e},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._goto=function(t){t=this.resolve(t);null!=t&&this.setPosition(t)},createjs.Timeline=t}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.none=e.linear=function(t){return t},e.get=function(e){return 1<(e=e<-1?-1:e)&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.backIn=(e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}})(1.7),e.backOut=(e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}})(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.elasticIn=(e.getElasticIn=function(i,r){var n=2*Math.PI;return function(t){if(0==t||1==t)return t;var e=r/n*Math.asin(1/i);return-(i*Math.pow(2,10*--t)*Math.sin((t-e)*n/r))}})(1,.3),e.elasticOut=(e.getElasticOut=function(i,r){var n=2*Math.PI;return function(t){if(0==t||1==t)return t;var e=r/n*Math.asin(1/i);return i*Math.pow(2,-10*t)*Math.sin((t-e)*n/r)+1}})(1,.3),e.elasticInOut=(e.getElasticInOut=function(i,r){var n=2*Math.PI;return function(t){var e=r/n*Math.asin(1/i);return(t*=2)<1?-.5*i*Math.pow(2,10*--t)*Math.sin((t-e)*n/r):.5*i*Math.pow(2,-10*--t)*Math.sin((t-e)*n/r)+1}})(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function w(){throw"MotionGuidePlugin cannot be instantiated."}w.priority=0,w.install=function(){return createjs.Tween.installPlugin(w,["guide","x","y","rotation"]),createjs.Tween.IGNORE},w.init=function(t,e,i){var r=t.target;return r.hasOwnProperty("x")||(r.x=0),r.hasOwnProperty("y")||(r.y=0),r.hasOwnProperty("rotation")||(r.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:i},w.step=function(t,e,i,r,n){if("rotation"==e&&(t.__rotGlobalS=i,t.__rotGlobalE=r,w.testRotData(t,n)),"guide"!=e)return r;var s,o=r;o.hasOwnProperty("path")||(o.path=[]);var a=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=i&&i.hasOwnProperty("end")&&i.path===a?i.end:0),o.hasOwnProperty("_segments")&&o._length)return r;var h=a.length;if(!(6<=h&&0==(h-2)%4))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var u=2;u<h;u+=4){for(var l=a[u-2],c=a[u-1],p=a[u+0],d=a[u+1],f=a[u+2],_=a[u+3],m=l,g=c,y=0,v=[],x=1;x<=10;x++){var b=x/10,T=1-b,P=T*T*l+2*T*b*p+b*b*f,b=T*T*c+2*T*b*d+b*b*_;y+=v[v.push(Math.sqrt((s=P-m)*s+(s=b-g)*s))-1],m=P,g=b}o._segments.push(y),o._segments.push(v),o._length+=y}s=o.orient,o.orient=!0;i={};return w.calc(o,o.start,i),t.__rotPathS=Number(i.rotation.toFixed(5)),w.calc(o,o.end,i),t.__rotPathE=Number(i.rotation.toFixed(5)),o.orient=!1,w.calc(o,o.end,n),o.orient=s,o.orient&&(t.__guideData=o,w.testRotData(t,n)),r},w.testRotData=function(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;t.__rotGlobalS=t.__rotGlobalE=void 0!==t._curQueueProps.rotation?t._curQueueProps.rotation:e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var i=t.__guideData,r=t.__rotGlobalE-t.__rotGlobalS,e=t.__rotPathE-t.__rotPathS,n=r-e;if("auto"==i.orient)180<n?n-=360:n<-180&&(n+=360);else if("cw"==i.orient){for(;n<0;)n+=360;0==n&&0<r&&180!=r&&(n+=360)}else if("ccw"==i.orient){for(n=r-(180<e?360-e:e);0<n;)n-=360;0==n&&r<0&&-180!=r&&(n-=360)}i.rotDelta=n,i.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}},w.tween=function(t,e,i,r,n,s,o){var a=n.guide;if(null==a||a===r.guide)return i;if(a.lastRatio!=s){o=(a.end-a.start)*(o?a.end:s)+a.start;switch(w.calc(a,o,t.target),a.orient){case"cw":case"ccw":case"auto":t.target.rotation+=a.rotOffS+a.rotDelta*s;break;default:t.target.rotation+=a.rotOffS}a.lastRatio=s}return"rotation"!=e||a.orient&&"false"!=a.orient?t.target[e]:i},w.calc=function(t,e,i){null==t._segments&&w.validate(t),null==i&&(i={x:0,y:0,rotation:0});for(var r=t._segments,n=t.path,s=t._length*e,o=r.length-2,a=0;s>r[a]&&a<o;)s-=r[a],a+=2;for(var h=r[a+1],u=0,o=h.length-1;s>h[u]&&u<o;)s-=h[u],u++;var l=u/++o+s/(o*h[u]),a=2*a+2,e=1-l;return i.x=e*e*n[a-2]+2*e*l*n[a+0]+l*l*n[a+2],i.y=e*e*n[a-1]+2*e*l*n[a+1]+l*l*n[a+3],t.orient&&(i.rotation=57.2957795*Math.atan2((n[a+1]-n[a-1])*e+(n[a+3]-n[a+1])*l,(n[a+0]-n[a-2])*e+(n[a+2]-n[a+0])*l)),i},createjs.MotionGuidePlugin=w}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="0.5.1",t.buildDate="Thu, 12 Dec 2013 23:33:38 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var i=t.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(r)for(var n in i[(e+="_")+"constructor"]=r.constructor,r)i.hasOwnProperty(n)&&"function"==typeof r[n]&&(i[e+n]=r[n]);return t},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var r=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},n=r[t];return n&&this.removeEventListener(t,e,i),(n=r[t])?n.push(e):r[t]=[e],e},e.on=function(t,e,i,r,n,s){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,n),r&&t.remove()},s)},e.removeEventListener=function(t,e,i){var r=i?this._captureListeners:this._listeners;if(r){var n=r[t];if(n)for(var s=0,o=n.length;s<o;s++)if(n[s]==e){1==o?delete r[t]:n.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t){if("string"==typeof t){var e=this._listeners;if(!e||!e[t])return!1;t=new createjs.Event(t)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var i=this,r=[i];i.parent;)r.push(i=i.parent);for(var n=r.length,s=n-1;0<=s&&!t.propagationStopped;s--)r[s]._dispatchEvent(t,1+(0==s));for(s=1;s<n&&!t.propagationStopped;s++)r[s]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,r=1==e?this._captureListeners:this._listeners;if(t&&r&&((n=r[t.type])&&(i=n.length))){try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1;for(var n=n.slice(),s=0;s<i&&!t.immediatePropagationStopped;s++){var o=n[s];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function s(){throw"Ticker cannot be instantiated."}s.RAF_SYNCHED="synched",s.RAF="raf",s.TIMEOUT="timeout",s.useRAF=!1,s.timingMode=null,s.maxDelta=0,s.paused=!1,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s._addEventListener=s.addEventListener,s.addEventListener=function(){return s._inited||s.init(),s._addEventListener.apply(s,arguments)},s._inited=!1,s._startTime=0,s._pausedTime=0,s._ticks=0,s._pausedTicks=0,s._interval=50,s._lastTime=0,s._times=null,s._tickTimes=null,s._timerId=null,s._raf=!0,s.setInterval=function(t){s._interval=t,s._inited&&s._setupTick()},s.getInterval=function(){return s._interval},s.setFPS=function(t){s.setInterval(1e3/t)},s.getFPS=function(){return 1e3/s._interval};try{Object.defineProperties(s,{interval:{get:s.getInterval,set:s.setInterval},framerate:{get:s.getFPS,set:s.setFPS}})}catch(t){console.log(t)}s.init=function(){s._inited||(s._inited=!0,s._times=[],s._tickTimes=[],s._startTime=s._getTime(),s._times.push(s._lastTime=0),s.interval=s._interval)},s.reset=function(){var t;s._raf?(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame)&&t(s._timerId):clearTimeout(s._timerId),s.removeAllEventListeners("tick"),s._timerId=s._times=s._tickTimes=null,s._startTime=s._lastTime=s._ticks=0,s._inited=!1},s.getMeasuredTickTime=function(t){var e=0,i=s._tickTimes;if(!i||i.length<1)return-1;t=Math.min(i.length,t||0|s.getFPS());for(var r=0;r<t;r++)e+=i[r];return e/t},s.getMeasuredFPS=function(t){var e=s._times;return!e||e.length<2?-1:(t=Math.min(e.length-1,t||0|s.getFPS()),1e3/((e[0]-e[t])/t))},s.setPaused=function(t){s.paused=t},s.getPaused=function(){return s.paused},s.getTime=function(t){return s._startTime?s._getTime()-(t?s._pausedTime:0):-1},s.getEventTime=function(t){return s._startTime?(s._lastTime||s._startTime)-(t?s._pausedTime:0):-1},s.getTicks=function(t){return s._ticks-(t?s._pausedTicks:0)},s._handleSynch=function(){s._timerId=null,s._setupTick(),s._getTime()-s._lastTime>=.97*(s._interval-1)&&s._tick()},s._handleRAF=function(){s._timerId=null,s._setupTick(),s._tick()},s._handleTimeout=function(){s._timerId=null,s._setupTick(),s._tick()},s._setupTick=function(){if(null==s._timerId){var t=s.timingMode||s.useRAF&&s.RAF_SYNCHED;if(t==s.RAF_SYNCHED||t==s.RAF){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return s._timerId=e(t==s.RAF?s._handleRAF:s._handleSynch),void(s._raf=!0)}s._raf=!1,s._timerId=setTimeout(s._handleTimeout,s._interval)}},s._tick=function(){var t,e,i=s.paused,r=s._getTime(),n=r-s._lastTime;for(s._lastTime=r,s._ticks++,i&&(s._pausedTicks++,s._pausedTime+=n),s.hasEventListener("tick")&&((t=new createjs.Event("tick")).delta=(e=s.maxDelta)&&e<n?e:n,t.paused=i,t.time=r,t.runTime=r-s._pausedTime,s.dispatchEvent(t)),s._tickTimes.unshift(s._getTime()-r);100<s._tickTimes.length;)s._tickTimes.pop();for(s._times.unshift(r);100<s._times.length;)s._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);s._getTime=function(){return(t&&t.call(performance)||(new Date).getTime())-s._startTime},createjs.Ticker=s}(),this.createjs=this.createjs||{},function(){"use strict";function d(t,e,i){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=i||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange),e.override&&d.removeTweens(t)),e&&e.paused?this._paused=!0:createjs.Tween._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,d.NONE)}var t=createjs.extend(d,createjs.EventDispatcher);d.NONE=0,d.LOOP=1,d.REVERSE=2,d.IGNORE={},d._tweens=[],d._plugins={},d.get=function(t,e,i,r){return r&&d.removeTweens(t),new d(t,e,i)},d.tick=function(t,e){for(var i=d._tweens.slice(),r=i.length-1;0<=r;r--){var n=i[r];e&&!n.ignoreGlobalPause||n._paused||n.tick(n._useTicks?1:t)}},d.handleEvent=function(t){"tick"==t.type&&this.tick(t.delta,t.paused)},d.removeTweens=function(t){if(t.tweenjs_count){for(var e=d._tweens,i=e.length-1;0<=i;i--){var r=e[i];r._target==t&&(r._paused=!0,e.splice(i,1))}t.tweenjs_count=0}},d.removeAllTweens=function(){for(var t=d._tweens,e=0,i=t.length;e<i;e++){var r=t[e];r._paused=!0,r.target&&(r.target.tweenjs_count=0)}t.length=0},d.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:d._tweens&&!!d._tweens.length},d.installPlugin=function(t,e){var i=t.priority;null==i&&(t.priority=i=0);for(var r=0,n=e.length,s=d._plugins;r<n;r++){var o=e[r];if(s[o]){for(var a=s[o],h=0,u=a.length;h<u&&!(i<a[h].priority);h++);s[o].splice(h,0,t)}else s[o]=[t]}},d._register=function(t,e){var i=t._target,r=d._tweens;if(e&&!t._registered)i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1),r.push(t),!d._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",d),d._inited=!0);else if(!e&&t._registered){i&&i.tweenjs_count--;for(var n=r.length;n--;)if(r[n]==t){r.splice(n,1);break}}t._registered=e},t.wait=function(t,e){if(null==t||t<=0)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:i,e:this._linearEase,p1:i,v:e})},t.to=function(t,e,i){return(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},t.call=function(t,e,i){return this._addAction({f:t,p:e||[this],o:i||this._target})},t.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.play=function(t){return this.call((t=t||this).setPaused,[!1],t)},t.pause=function(t){return this.call((t=t||this).setPaused,[!0],t)},t.setPosition=function(t,e){null==e&&(e=1);var i=t=t<0?0:t,r=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,r=!0)),i==this._prevPos)return r;var n=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(r)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var s=0,o=this._steps.length;s<o&&!(this._steps[s].t>i);s++);t=this._steps[s-1];this._updateTargetProps(t,(this._stepPosition=i-t.t)/t.d)}return 0!=e&&0<this._actions.length&&(this._useTicks?this._runActions(i,i):1==e&&i<n?(n!=this.duration&&this._runActions(n,this.duration),this._runActions(0,i,!0)):this._runActions(n,i)),r&&this.setPaused(!0),this.dispatchEvent("change"),r},t.tick=function(t){this._paused||this.setPosition(this._prevPosition+t)},t.setPaused=function(t){return this._paused===!!t||(this._paused=!!t,d._register(this,!t)),this},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,e){var i,r,n,s,o,a;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),i=t.p0,r=t.p1}else this.passive=!1,i=r=this._curQueueProps;for(a in this._initQueueProps){null==(n=i[a])&&(i[a]=n=this._initQueueProps[a]),null==(s=r[a])&&(r[a]=s=n);var h=n==s||0==e||1==e||"number"!=typeof n?1==e?s:n:n+(s-n)*e,u=!1;if(o=d._plugins[a])for(var l=0,c=o.length;l<c;l++){var p=o[l].tween(this,a,h,i,r,e,!!t&&i==r,!t);p==d.IGNORE?u=!0:h=p}u||(this._target[a]=h)}},t._runActions=function(t,e,i){var r=t,n=e,s=-1,o=this._actions.length,a=1;for(e<t&&(r=e,n=t,s=o,o=a=-1);(s+=a)!=o;){var h=this._actions[s],u=h.t;(u==n||r<u&&u<n||i&&u==t)&&h.f.apply(h.o,h.p)}},t._appendQueueProps=function(t){var e,i,r,n,s,o;for(o in t)if(void 0===this._initQueueProps[o]){if(i=this._target[o],e=d._plugins[o])for(r=0,n=e.length;r<n;r++)i=e[r].init(this,o,i);this._initQueueProps[o]=this._curQueueProps[o]=void 0===i?null:i}else i=this._curQueueProps[o];for(o in t){if(i=this._curQueueProps[o],e=d._plugins[o])for(s=s||{},r=0,n=e.length;r<n;r++)e[r].step&&e[r].step(this,o,i,t[o],s);this._curQueueProps[o]=t[o]}return s&&this._appendQueueProps(s),this._curQueueProps},t._cloneProps=function(t){var e,i={};for(e in t)i[e]=t[e];return i},t._addStep=function(t){return 0<t.d&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},t._set=function(t,e){for(var i in t)e[i]=t[i]},createjs.Tween=createjs.promote(d,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,i.onChange&&this.addEventListener("change",i.onChange)),t&&this.addTween.apply(this,t),this.setLabels(e),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)}var e=createjs.extend(t,createjs.EventDispatcher);e.addTween=function(t){var e=arguments.length;if(1<e){for(var i=0;i<e;i++)this.addTween(arguments[i]);return t}return 0==e?null:(this.removeTween(t),this._tweens.push(t),t.setPaused(!0),t._paused=!1,t._useTicks=this._useTicks,t.duration>this.duration&&(this.duration=t.duration),0<=this._prevPos&&t.setPosition(this._prevPos,createjs.Tween.NONE),t)},e.removeTween=function(t){var e=arguments.length;if(1<e){for(var i=!0,r=0;r<e;r++)i=i&&this.removeTween(arguments[r]);return i}if(0==e)return!1;for(var n=this._tweens,r=n.length;r--;)if(n[r]==t)return n.splice(r,1),t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.addLabel=function(t,e){this._labels[t]=e;var i=this._labelList;if(i){for(var r=0,n=i.length;r<n&&!(e<i[r].position);r++);i.splice(r,0,{label:t,position:e})}},e.setLabels=function(t){this._labels=t||{}},e.getLabels=function(){if(!(e=this._labelList)){var t,e=this._labelList=[],i=this._labels;for(t in i)e.push({label:t,position:i[t]});e.sort(function(t,e){return t.position-e.position})}return e},e.getCurrentLabel=function(){var t=this.getLabels(),e=this.position,i=t.length;if(i){for(var r=0;r<i&&!(e<t[r].position);r++);return 0==r?null:t[r-1].label}return null},e.gotoAndPlay=function(t){this.setPaused(!1),this._goto(t)},e.gotoAndStop=function(t){this.setPaused(!0),this._goto(t)},e.setPosition=function(t,e){var i=this._calcPosition(t),r=!this.loop&&t>=this.duration;if(i==this._prevPos)return r;this._prevPosition=t,this.position=this._prevPos=i;for(var n=0,s=this._tweens.length;n<s;n++)if(this._tweens[n].setPosition(i,e),i!=this._prevPos)return!1;return r&&this.setPaused(!0),this.dispatchEvent("change"),r},e.setPaused=function(t){this._paused=!!t,createjs.Tween._register(this,!t)},e.updateDuration=function(){for(var t=this.duration=0,e=this._tweens.length;t<e;t++){var i=this._tweens[t];i.duration>this.duration&&(this.duration=i.duration)}},e.tick=function(t){this.setPosition(this._prevPosition+t)},e.resolve=function(t){var e=Number(t);return e=isNaN(e)?this._labels[t]:e},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._goto=function(t){t=this.resolve(t);null!=t&&this.setPosition(t)},e._calcPosition=function(t){return t<0?0:t<this.duration?t:this.loop?t%this.duration:this.duration},createjs.Timeline=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Ease cannot be instantiated."}e.none=e.linear=function(t){return t},e.get=function(e){return 1<(e=e<-1?-1:e)&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.backIn=(e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}})(1.7),e.backOut=(e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}})(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.elasticIn=(e.getElasticIn=function(i,r){var n=2*Math.PI;return function(t){if(0==t||1==t)return t;var e=r/n*Math.asin(1/i);return-(i*Math.pow(2,10*--t)*Math.sin((t-e)*n/r))}})(1,.3),e.elasticOut=(e.getElasticOut=function(i,r){var n=2*Math.PI;return function(t){if(0==t||1==t)return t;var e=r/n*Math.asin(1/i);return i*Math.pow(2,-10*t)*Math.sin((t-e)*n/r)+1}})(1,.3),e.elasticInOut=(e.getElasticInOut=function(i,r){var n=2*Math.PI;return function(t){var e=r/n*Math.asin(1/i);return(t*=2)<1?-.5*i*Math.pow(2,10*--t)*Math.sin((t-e)*n/r):i*Math.pow(2,-10*--t)*Math.sin((t-e)*n/r)*.5+1}})(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){"use strict";function w(){throw"MotionGuidePlugin cannot be instantiated."}w.priority=0,w.install=function(){return createjs.Tween.installPlugin(w,["guide","x","y","rotation"]),createjs.Tween.IGNORE},w.init=function(t,e,i){var r=t.target;return r.hasOwnProperty("x")||(r.x=0),r.hasOwnProperty("y")||(r.y=0),r.hasOwnProperty("rotation")||(r.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:i},w.step=function(t,e,i,r,n){if("rotation"==e&&(t.__rotGlobalS=i,t.__rotGlobalE=r,w.testRotData(t,n)),"guide"!=e)return r;var s,o=r;o.hasOwnProperty("path")||(o.path=[]);var a=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=i&&i.hasOwnProperty("end")&&i.path===a?i.end:0),o.hasOwnProperty("_segments")&&o._length)return r;var h=a.length;if(!(6<=h&&(h-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var u=2;u<h;u+=4){for(var l=a[u-2],c=a[u-1],p=a[u+0],d=a[u+1],f=a[u+2],_=a[u+3],m=l,g=c,y=0,v=[],x=1;x<=10;x++){var b=x/10,T=1-b,P=T*T*l+2*T*b*p+b*b*f,b=T*T*c+2*T*b*d+b*b*_;y+=v[v.push(Math.sqrt((s=P-m)*s+(s=b-g)*s))-1],m=P,g=b}o._segments.push(y),o._segments.push(v),o._length+=y}s=o.orient,o.orient=!0;i={};return w.calc(o,o.start,i),t.__rotPathS=Number(i.rotation.toFixed(5)),w.calc(o,o.end,i),t.__rotPathE=Number(i.rotation.toFixed(5)),o.orient=!1,w.calc(o,o.end,n),o.orient=s,o.orient&&(t.__guideData=o,w.testRotData(t,n)),r},w.testRotData=function(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;t.__rotGlobalS=t.__rotGlobalE=void 0!==t._curQueueProps.rotation?t._curQueueProps.rotation:e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var i=t.__guideData,r=t.__rotGlobalE-t.__rotGlobalS,e=t.__rotPathE-t.__rotPathS,n=r-e;if("auto"==i.orient)180<n?n-=360:n<-180&&(n+=360);else if("cw"==i.orient){for(;n<0;)n+=360;0==n&&0<r&&180!=r&&(n+=360)}else if("ccw"==i.orient){for(n=r-(180<e?360-e:e);0<n;)n-=360;0==n&&r<0&&-180!=r&&(n-=360)}i.rotDelta=n,i.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}},w.tween=function(t,e,i,r,n,s,o){var a=n.guide;if(null==a||a===r.guide)return i;if(a.lastRatio!=s){o=(a.end-a.start)*(o?a.end:s)+a.start;switch(w.calc(a,o,t.target),a.orient){case"cw":case"ccw":case"auto":t.target.rotation+=a.rotOffS+a.rotDelta*s;break;default:t.target.rotation+=a.rotOffS}a.lastRatio=s}return"rotation"!=e||a.orient&&"false"!=a.orient?t.target[e]:i},w.calc=function(t,e,i){null==t._segments&&w.validate(t),null==i&&(i={x:0,y:0,rotation:0});for(var r=t._segments,n=t.path,s=t._length*e,o=r.length-2,a=0;s>r[a]&&a<o;)s-=r[a],a+=2;for(var h=r[a+1],u=0,o=h.length-1;s>h[u]&&u<o;)s-=h[u],u++;var l=u/++o+s/(o*h[u]),a=2*a+2,e=1-l;return i.x=e*e*n[a-2]+2*e*l*n[a+0]+l*l*n[a+2],i.y=e*e*n[a-1]+2*e*l*n[a+1]+l*l*n[a+3],t.orient&&(i.rotation=57.2957795*Math.atan2((n[a+1]-n[a-1])*e+(n[a+3]-n[a+1])*l,(n[a+0]-n[a-2])*e+(n[a+2]-n[a+0])*l)),i},createjs.MotionGuidePlugin=w}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="0.6.1",t.buildDate="Thu, 21 May 2015 16:17:37 GMT"}();var xqu=xqu||{};xqu.gameversion={},xqu.gameversion.main="v.0.0.1",xqu.gameversion.date="20180406",xqu.gameversion.time="1203",xqu.gameversion.internal=xqu.gameversion.date+xqu.gameversion.time,xqu.log("Game Version : "+xqu.gameversion.main+"("+xqu.gameversion.internal+")");var GameBank=GameBank||{};GameBank._balance=1e5,GameBank._balanceInGame=0,GameBank._winAmount=0,GameBank._winAmountTier=0,GameBank._currency="USD",GameBank._currencyPrefixStr="$",GameBank.SetBalance=function(t){GameBank._balance=t},GameBank.GetBalance=function(){return GameBank._balance},GameBank.SetBalanceInGame=function(t){GameBank._balanceInGame=t},GameBank.GetBalanceInGame=function(){return GameBank._balanceInGame},GameBank.SetWinAmount=function(t){GameBank._winAmount=t},GameBank.GetWinAmount=function(){return GameBank._winAmount},GameBank.SetWinAmountTier=function(t){GameBank._winAmountTier=t},GameBank.GetWinAmountTier=function(){return GameBank._winAmountTier},GameBank.SetCurrency=function(t){GameBank._currency=t},GameBank.GetCurrency=function(){return GameBank._currency},GameBank.SetCurrencyPrefixStr=function(t){GameBank._currencyPrefixStr=t},GameBank.GetCurrencyPrefixStr=function(){return GameBank._currencyPrefixStr};var GameLogic=GameLogic||{};GameLogic.Patterns=new Array(6),GameLogic.PatternNames={},GameLogic.PatternNames.SingleLine="Single Line",GameLogic.PatternNames.Corners="Corners",GameLogic.PatternNames.DoubleLine="Double Line",GameLogic.PatternNames.X="X",GameLogic.PatternNames.Perimeter="Perimeter",GameLogic.PatternNames.Coverall="Coverall",GameLogic.PatternNames.NoPattern="",GameLogic.Patterns[0]={},GameLogic.Patterns[0].Name=GameLogic.PatternNames.SingleLine,GameLogic.Patterns[0].BaseWager=100,GameLogic.Patterns[0].BaseWin=100,GameLogic.Patterns[0].Configs=new Array(12),GameLogic.Patterns[0].Configs[0]=[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],GameLogic.Patterns[0].Configs[1]=[[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],GameLogic.Patterns[0].Configs[2]=[[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],GameLogic.Patterns[0].Configs[3]=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],GameLogic.Patterns[0].Configs[4]=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],GameLogic.Patterns[0].Configs[5]=[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],GameLogic.Patterns[0].Configs[6]=[[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],GameLogic.Patterns[0].Configs[7]=[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],GameLogic.Patterns[0].Configs[8]=[[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0]],GameLogic.Patterns[0].Configs[9]=[[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],GameLogic.Patterns[0].Configs[10]=[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]],GameLogic.Patterns[0].Configs[11]=[[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0]],GameLogic.Patterns[1]={},GameLogic.Patterns[1].Name=GameLogic.PatternNames.Corners,GameLogic.Patterns[1].BaseWin=200,GameLogic.Patterns[1].Configs=new Array(1),GameLogic.Patterns[1].Configs[0]=[[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1]],GameLogic.Patterns[2]={},GameLogic.Patterns[2].Name=GameLogic.PatternNames.DoubleLine,GameLogic.Patterns[2].BaseWin=500,GameLogic.Patterns[2].Configs=new Array(1),GameLogic.Patterns[2].Configs[0]=[[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],GameLogic.Patterns[3]={},GameLogic.Patterns[3].Name=GameLogic.PatternNames.X,GameLogic.Patterns[3].BaseWin=1e3,GameLogic.Patterns[3].Configs=new Array(1),GameLogic.Patterns[3].Configs[0]=[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],GameLogic.Patterns[4]={},GameLogic.Patterns[4].Name=GameLogic.PatternNames.Perimeter,GameLogic.Patterns[4].BaseWin=2500,GameLogic.Patterns[4].Configs=new Array(1),GameLogic.Patterns[4].Configs[0]=[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1]],GameLogic.Patterns[5]={},GameLogic.Patterns[5].Name=GameLogic.PatternNames.Coverall,GameLogic.Patterns[5].BaseWin=2e4,GameLogic.Patterns[5].Configs=new Array(1),GameLogic.Patterns[5].Configs[0]=[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]],GameLogic.BaseConfig={},GameLogic.BaseConfig._TOTAL_BALLS_AMT=30,GameLogic.Scenario={},GameLogic.Scenario.Cost=0,GameLogic.Scenario.Win=0,GameLogic.Scenario.CardBoardAmount=0,GameLogic.Scenario.BonusValue=0,GameLogic.Scenario.Balls=[],GameLogic.Scenario.InstantWinNumber=0,GameLogic.Scenario.InstantWinBaseAmount=0,GameLogic.Scenario.CardBoardOne={},GameLogic.Scenario.CardBoardOne.Cards=[],GameLogic.Scenario.CardBoardOne.Win=0,GameLogic.Scenario.CardBoardOne.PatternName="",GameLogic.Scenario.CardBoardTwo={},GameLogic.Scenario.CardBoardTwo.Cards=[],GameLogic.Scenario.CardBoardTwo.Win=0,GameLogic.Scenario.CardBoardTwo.PatternName="",GameLogic.Scenario._ValidateServerData=function(t){xqu.assert(30==t.Balls.length,"ValidateServerData: Require 30 Balls, but balls got are "+t.Balls.length)},GameLogic.Scenario.ProcessDataFromServerSim=function(t){GameLogic.Scenario._ValidateServerData(t),GameLogic.Scenario.Cost=t.Cost,GameLogic.Scenario.Win=t.Win,GameLogic.Scenario.CardBoardAmount=t.CardBoardAmount,GameLogic.Scenario.BonusValue=t.BonusValue,GameLogic.Scenario.InstantWinNumber=t.InstantWinNumber,GameLogic.Scenario.InstantWinBaseAmount=t.InstantWinBaseAmount,GameLogic.Scenario.Balls=t.Balls,GameLogic.Scenario.CardBoardOne={},GameLogic.Scenario.CardBoardOne.Cards=t.CardBoardOne.Cards,GameLogic.Scenario.CardBoardOne.Win=t.CardBoardOne.Win,GameLogic.Scenario.CardBoardOne.PatternName=t.CardBoardOne.PatternName,GameLogic.Scenario.CardBoardTwo={},GameLogic.Scenario.CardBoardTwo.Cards=t.CardBoardTwo.Cards,GameLogic.Scenario.CardBoardTwo.Win=t.CardBoardTwo.Win,GameLogic.Scenario.CardBoardTwo.PatternName=t.CardBoardTwo.PatternName},GameLogic.Scenario.ProcessDataFromRealServer=function(t){},GameLogic.Scenario.Reset=function(){GameLogic.Scenario.Cost=0,GameLogic.Scenario.Win=0,GameLogic.Scenario.CardBoardAmount=0,GameLogic.Scenario.Balls=[],GameLogic.Scenario.CardBoardOne.Cards=[],GameLogic.Scenario.CardBoardOne.Win=0,GameLogic.Scenario.CardBoardOne.PatternName="",GameLogic.Scenario.CardBoardTwo.Cards=[],GameLogic.Scenario.CardBoardTwo.Win=0,GameLogic.Scenario.CardBoardTwo.PatternName=""},GameLogic.Scenario.GenerateStandloneGameScenario=function(){var t=GameLogic.Wager.GetCurrentWagerAmount();GameLogic.Scenario.Cost=t,GameLogic.Scenario.Win=0,GameLogic.Scenario.CardBoardAmount=100==t||500==t?1:2,GameLogic.Scenario.BonusValue=0,GameLogic.Scenario.Balls=[],GameLogic.Scenario.CardBoardOne.Cards=[],GameLogic.Scenario.CardBoardOne.Win=0,GameLogic.Scenario.CardBoardOne.PatternName="",GameLogic.Scenario.CardBoardTwo.Cards=[],GameLogic.Scenario.CardBoardTwo.Win=0,GameLogic.Scenario.CardBoardTwo.PatternName=""},GameLogic.Scenario.GenerateTestGameScenario=function(){var t=GameLogic.Wager.GetCurrentWagerAmount();GameLogic.Scenario.Cost=t,GameLogic.Scenario.Win=0,GameLogic.Scenario.CardBoardAmount=100==t||500==t?1:2,GameLogic.Scenario.Balls=[];for(var e=0;e<30;e++){for(var i=parseInt(74*Math.random()+1);-1!=GameLogic.Scenario.Balls.indexOf(i);)i=parseInt(74*Math.random()+1);GameLogic.Scenario.Balls.push(i)}GameLogic.Scenario.CardBoardOne.Cards=[];for(var r=0;r<5;r++)for(var n=0;n<5;n++)if(0==n){for(i=parseInt(14*Math.random()+1);-1!=GameLogic.Scenario.CardBoardOne.Cards.indexOf(i);)i=parseInt(14*Math.random()+1);GameLogic.Scenario.CardBoardOne.Cards.push(i)}else if(1==n){for(i=parseInt(14*Math.random()+16);-1!=GameLogic.Scenario.CardBoardOne.Cards.indexOf(i);)i=parseInt(14*Math.random()+16);GameLogic.Scenario.CardBoardOne.Cards.push(i)}else if(2==n){for(i=parseInt(14*Math.random()+31);-1!=GameLogic.Scenario.CardBoardOne.Cards.indexOf(i);)i=parseInt(14*Math.random()+31);GameLogic.Scenario.CardBoardOne.Cards.push(i)}else if(3==n){for(i=parseInt(14*Math.random()+46);-1!=GameLogic.Scenario.CardBoardOne.Cards.indexOf(i);)i=parseInt(14*Math.random()+46);GameLogic.Scenario.CardBoardOne.Cards.push(i)}else if(4==n){for(i=parseInt(14*Math.random()+61);-1!=GameLogic.Scenario.CardBoardOne.Cards.indexOf(i);)i=parseInt(14*Math.random()+61);GameLogic.Scenario.CardBoardOne.Cards.push(i)}GameLogic.Scenario.CardBoardOne.win=0,GameLogic.Scenario.CardBoardOne.PatternName="",GameLogic.Scenario.CardBoardTwo.Cards=[];for(r=0;r<5;r++)for(n=0;n<5;n++)if(0==n){for(i=parseInt(14*Math.random()+1);-1!=GameLogic.Scenario.CardBoardTwo.Cards.indexOf(i);)i=parseInt(14*Math.random()+1);GameLogic.Scenario.CardBoardTwo.Cards.push(i)}else if(1==n){for(i=parseInt(14*Math.random()+16);-1!=GameLogic.Scenario.CardBoardTwo.Cards.indexOf(i);)i=parseInt(14*Math.random()+16);GameLogic.Scenario.CardBoardTwo.Cards.push(i)}else if(2==n){for(i=parseInt(14*Math.random()+31);-1!=GameLogic.Scenario.CardBoardTwo.Cards.indexOf(i);)i=parseInt(14*Math.random()+31);GameLogic.Scenario.CardBoardTwo.Cards.push(i)}else if(3==n){for(i=parseInt(14*Math.random()+46);-1!=GameLogic.Scenario.CardBoardTwo.Cards.indexOf(i);)i=parseInt(14*Math.random()+46);GameLogic.Scenario.CardBoardTwo.Cards.push(i)}else if(4==n){for(i=parseInt(14*Math.random()+61);-1!=GameLogic.Scenario.CardBoardTwo.Cards.indexOf(i);)i=parseInt(14*Math.random()+61);GameLogic.Scenario.CardBoardTwo.Cards.push(i)}GameLogic.Scenario.CardBoardTwo.Win=0,GameLogic.Scenario.CardBoardTwo.PatternName=""},GameLogic.Wager={},GameLogic.Wager.Wagers=[100,200,500,1e3],GameLogic.Wager._CurrentIndex=0,GameLogic.Wager.GetCurrentIndex=function(){return GameLogic.Wager._CurrentIndex},GameLogic.Wager._CurrentWagerAmount=GameLogic.Wager.Wagers[GameLogic.Wager._CurrentIndex],GameLogic.Wager.GetCurrentWagerAmount=function(){return GameLogic.Wager._CurrentWagerAmount},GameLogic.Wager.GetNextWagerAmount=function(){return GameLogic.Wager._CurrentIndex+1>=GameLogic.Wager.Wagers.length?GameLogic.Wager._CurrentIndex=GameLogic.Wager.Wagers.length-1:GameLogic.Wager._CurrentIndex=GameLogic.Wager._CurrentIndex+1,GameLogic.Wager._CurrentWagerAmount=GameLogic.Wager.Wagers[GameLogic.Wager._CurrentIndex],GameLogic.Wager._CurrentWagerAmount},GameLogic.Wager.GetPreWagerAmount=function(){return 0<=GameLogic.Wager._CurrentIndex-1?GameLogic.Wager._CurrentIndex=GameLogic.Wager._CurrentIndex-1:GameLogic.Wager._CurrentIndex=0,GameLogic.Wager._CurrentWagerAmount=GameLogic.Wager.Wagers[GameLogic.Wager._CurrentIndex],GameLogic.Wager._CurrentWagerAmount},GameLogic.Wager.GetMinWagerAmount=function(){return GameLogic.Wager.Wagers[0]},GameLogic.Wager.GetMaxWagerAmount=function(){return GameLogic.Wager.Wagers[GameLogic.Wager.Wagers.length-1]},GameLogic.BasePayout={};for(var wagerIndex=0;wagerIndex<GameLogic.Wager.Wagers.length;wagerIndex++){var wagerStr=GameLogic.Wager.Wagers[wagerIndex].toString(),multi=GameLogic.Wager.Wagers[wagerIndex]/GameLogic.Wager.Wagers[0];GameLogic.BasePayout[wagerStr]={},GameLogic.BasePayout[wagerStr][GameLogic.PatternNames.SingleLine]=100*multi,GameLogic.BasePayout[wagerStr][GameLogic.PatternNames.Corners]=200*multi,GameLogic.BasePayout[wagerStr][GameLogic.PatternNames.DoubleLine]=500*multi,GameLogic.BasePayout[wagerStr][GameLogic.PatternNames.X]=1e3*multi,GameLogic.BasePayout[wagerStr][GameLogic.PatternNames.Perimeter]=2500*multi,GameLogic.BasePayout[wagerStr][GameLogic.PatternNames.Coverall]=2e4*multi}GameLogic.PayTables={},GameLogic.PayTables[GameLogic.Wager.Wagers[0].toString()]=[[0,2e5,[[GameLogic.PatternNames.Coverall,10]]],[1,1e5,[[GameLogic.PatternNames.Coverall,5]]],[2,8e4,[[GameLogic.PatternNames.Coverall,4]]],[3,4e4,[[GameLogic.PatternNames.Coverall,2]]],[4,25e3,[[GameLogic.PatternNames.Perimeter,10]]],[5,2e4,[[GameLogic.PatternNames.Coverall,0]]],[6,12500,[[GameLogic.PatternNames.Perimeter,5]]],[7,1e4,[[GameLogic.PatternNames.Perimeter,4],[GameLogic.PatternNames.X,10]]],[8,5e3,[[GameLogic.PatternNames.X,5],[GameLogic.PatternNames.DoubleLine,10],[GameLogic.PatternNames.Perimeter,2]]],[9,4e3,[[GameLogic.PatternNames.X,4]]],[10,2500,[[GameLogic.PatternNames.Perimeter,0],[GameLogic.PatternNames.DoubleLine,5]]],[11,2e3,[[GameLogic.PatternNames.X,2],[GameLogic.PatternNames.Corners,10],[GameLogic.PatternNames.DoubleLine,4]]],[12,1e3,[[GameLogic.PatternNames.X,0],[GameLogic.PatternNames.SingleLine,10],[GameLogic.PatternNames.Corners,5],[GameLogic.PatternNames.DoubleLine,5]]],[13,800,[[GameLogic.PatternNames.Corners,4]]],[14,500,[[GameLogic.PatternNames.DoubleLine,0],[GameLogic.PatternNames.SingleLine,5]]],[15,400,[[GameLogic.PatternNames.Corners,2],[GameLogic.PatternNames.SingleLine,4]]],[16,200,[[GameLogic.PatternNames.Corners,0],[GameLogic.PatternNames.SingleLine,2]]],[17,100,[[GameLogic.PatternNames.SingleLine,0]]]],GameLogic.PayTables[GameLogic.Wager.Wagers[2].toString()]=[[0,1e6,[[GameLogic.PatternNames.Coverall,10]]],[1,5e5,[[GameLogic.PatternNames.Coverall,5]]],[2,4e5,[[GameLogic.PatternNames.Coverall,4]]],[3,2e5,[[GameLogic.PatternNames.Coverall,2]]],[4,125e3,[[GameLogic.PatternNames.Perimeter,10]]],[5,1e5,[[GameLogic.PatternNames.Coverall,0]]],[6,62500,[[GameLogic.PatternNames.Perimeter,5]]],[7,5e4,[[GameLogic.PatternNames.Perimeter,4],[GameLogic.PatternNames.X,10]]],[8,25e3,[[GameLogic.PatternNames.X,5],[GameLogic.PatternNames.DoubleLine,10],[GameLogic.PatternNames.Perimeter,2]]],[9,2e4,[[GameLogic.PatternNames.X,4]]],[10,12500,[[GameLogic.PatternNames.Perimeter,0],[GameLogic.PatternNames.DoubleLine,5]]],[11,1e4,[[GameLogic.PatternNames.X,2],[GameLogic.PatternNames.Corners,10],[GameLogic.PatternNames.DoubleLine,4]]],[12,5e3,[[GameLogic.PatternNames.X,0],[GameLogic.PatternNames.SingleLine,10],[GameLogic.PatternNames.Corners,5],[GameLogic.PatternNames.DoubleLine,5]]],[13,4e3,[[GameLogic.PatternNames.Corners,4]]],[14,2500,[[GameLogic.PatternNames.DoubleLine,0],[GameLogic.PatternNames.SingleLine,5]]],[15,2e3,[[GameLogic.PatternNames.Corners,2],[GameLogic.PatternNames.SingleLine,4]]],[16,1e3,[[GameLogic.PatternNames.Corners,0],[GameLogic.PatternNames.SingleLine,2]]],[17,500,[[GameLogic.PatternNames.SingleLine,0]]]],GameLogic.PayTables[GameLogic.Wager.Wagers[1].toString()]=[[0,4e5,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.Coverall,5]]],[1,2e5,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,5]]],[2,16e4,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.Coverall,2]]],[3,8e4,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.Coverall,0]]],[4,5e4,[[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,5]]],[5,4e4,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,4]]],[6,25e3,[[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,5]]],[7,2e4,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,10],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,5],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,2]]],[8,1e4,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,5],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,0]]],[9,8e3,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,2],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,10],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,4]]],[10,5e3,[[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,5]]],[11,4e3,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,0],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,10],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,5]]],[12,2e3,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,5],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,5]]],[13,1600,[[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,4]]],[14,1e3,[[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,5]]],[15,800,[[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,2]]],[16,400,[[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,0]]],[17,200,[[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,0]]]],GameLogic.PayTables[GameLogic.Wager.Wagers[3].toString()]=[[0,2e6,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.Coverall,5]]],[1,1e6,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,5]]],[2,8e5,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.Coverall,2]]],[3,4e5,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.Coverall,0]]],[4,25e4,[[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,5]]],[5,2e5,[[GameLogic.PatternNames.Coverall,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,4]]],[6,125e3,[[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,5]]],[7,1e5,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,10],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,5],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,2]]],[8,5e4,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,5],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.Perimeter,0]]],[9,4e4,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,2],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,10],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,4]]],[10,25e3,[[GameLogic.PatternNames.Perimeter,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,5]]],[11,2e4,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.X,GameLogic.PatternNames.X,0],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,10],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,5]]],[12,1e4,[[GameLogic.PatternNames.X,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,10],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,5],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.DoubleLine,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,5]]],[13,8e3,[[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,4]]],[14,5e3,[[GameLogic.PatternNames.DoubleLine,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,5]]],[15,4e3,[[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,4],[GameLogic.PatternNames.Corners,GameLogic.PatternNames.Corners,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,2]]],[16,2e3,[[GameLogic.PatternNames.Corners,GameLogic.PatternNames.NoPattern,0],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,2],[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.SingleLine,0]]],[17,1e3,[[GameLogic.PatternNames.SingleLine,GameLogic.PatternNames.NoPattern,0]]]],GameLogic._FindPatternByName=function(t,e,i){for(var r=GameLogic.FindPatternIndex(t),n=GameLogic.Patterns[r].Configs,s=null,o=0;o<n.length;o++){var a=n[o];(s={}).patternIndex=r,s.name=t,s.configIndex=o;for(var h=-1,u=!(s.cardIndice=[]),l=0;l<a.length;l++)for(var c=a[l],p=0;p<c.length;p++){var d=e[++h];1==c[p]&&(-1!=i.indexOf(d)||12==h?s.cardIndice.push(h):u=!0)}if(!u)return s;s=null}return s},GameLogic.FindPattern=function(t,e){if(25!=t.length)return xqu.log(t),xqu.assert(!1,"GameLogic.FindPattern : Cards needs 25 numbers in total, cards is above "),null;if(e.length<1)return xqu.log(e),xqu.assert(!1,"GameLogic.FindPattern : Ball needs at least 1 ball"),null;var i={},r=GameLogic.PatternNames.Coverall;return null!=(i=GameLogic._FindPatternByName(r,t,e))?i:(r=GameLogic.PatternNames.Perimeter,null!=(i=GameLogic._FindPatternByName(r,t,e))?i:(r=GameLogic.PatternNames.X,null!=(i=GameLogic._FindPatternByName(r,t,e))?i:(r=GameLogic.PatternNames.DoubleLine,null!=(i=GameLogic._FindPatternByName(r,t,e))?i:(r=GameLogic.PatternNames.Corners,null!=(i=GameLogic._FindPatternByName(r,t,e))?i:(r=GameLogic.PatternNames.SingleLine,null!=(i=GameLogic._FindPatternByName(r,t,e))?i:null)))))},GameLogic.FindAllPatterns=function(t,e){if(25!=t.length)return xqu.log(t),xqu.assert(!1,"GameLogic.FindPattern : Cards needs 25 numbers in total, cards is above "),null;if(e.length<1)return xqu.log(e),xqu.assert(!1,"GameLogic.FindPattern : Ball needs at least 1 ball"),null;var i=new Array,r={};return r.cardIndice=GameLogic._FindCoverAll(t,e),null!=r.cardIndice&&(r.name=GameLogic.PatternNames.Coverall,i.push(r)),(r={}).cardIndice=GameLogic._FindPerimeter(t,e),null!=r.cardIndice&&(r.name=GameLogic.PatternNames.Perimeter,i.push(r)),(r={}).cardIndice=GameLogic._FindX(t,e),null!=r.cardIndice&&(r.name=GameLogic.PatternNames.X,i.push(r)),(r={}).cardIndice=GameLogic._FindDoubleLine(t,e),null!=r.cardIndice&&(r.name=GameLogic.PatternNames.DoubleLine,i.push(r)),(r={}).cardIndice=GameLogic._FindCorners(t,e),null!=r.cardIndice&&(r.name=GameLogic.PatternNames.Corners,i.push(r)),(r={}).cardIndice=GameLogic._FindSingleLines(t,e),null!=r.cardIndice&&(r.name=GameLogic.PatternNames.SingleLine,i.push(r)),i},GameLogic.FindPatternIndex=function(t){var e=-1;switch(t){case GameLogic.PatternNames.SingleLine:e=0;break;case GameLogic.PatternNames.Corners:e=1;break;case GameLogic.PatternNames.DoubleLine:e=2;break;case GameLogic.PatternNames.X:e=3;break;case GameLogic.PatternNames.Perimeter:e=4;break;case GameLogic.PatternNames.Coverall:e=5;break;default:xqu.assert(!1,"GameServerSim._GenerateBallsAndCards_OneBoard: Cannot find pattern name - "+t)}return e},GameLogic.FindMatchCardAmountInPattern=function(t,e){for(var i=GameLogic.Patterns[t].Configs[e],r=0,n=0;n<i.length;n++)for(var s=i[n],o=0;o<s.length;o++)1==s[o]&&(2==n&&2==o||r++);return r};var GameServerSim=GameServerSim||{};function MainGame(){this._container=new PIXI.Container,this._splashScene=null,this._inGameScene=null,ApiConnector.updateWindowName("Your Game Name"),this._ctor()}function SplashScene(t){this._mainGame=t,this._container=null,this._bg=null,xqu.config.IsMobile()?(this._baseX=540,this._baseY=200):(this._baseX=1024,this._baseY=150),ApiConnector.updateWindowName("Keno Stars"),ApiConnector.UpdateBalance(1e5),ApiConnector.UpdateWager(25),this._ctor()}function InGameScene(t){this.JCTool=new JC_PIXI_Tools,this.JCJTool=new JC_JavaScript_Tools,this._mainGame=t,this._container=null,this._numberBoard=null,this._jackpotPannel=null,this._payoutPannel=null,this._autoPlayLayer=null,this._ifOverRed=!1,this._ifOverWhite=!1,this._unselectBGtest=null,this._unselectBG=[],xqu.config.IsMobile()?this._unselectBGX=75:this._unselectBGX=655,this._unselectBGY=275,this._selectBG=[],this._unselectBall=[],this._selectBall=[],this._fireBall=[],this._fireBallX=this._unselectBGX+50,this._fireBallY=this._unselectBGY-47,this._fireBallDis=900,this._fireBallTween=[],this._starOverBall=[],this._starOverBallPos=[],this._startest,this._staremitter,this._helpBtn=null,this._xmX=175,this._xmXM=50,this._xmbaixing=[],this._xmduobeilvWin=[],this._selectCount=0,this._wagerIncBtn=null,this._wagerDecBtn=null,this._clearAll=null,this._autoPick=null,this._playBtn=null,this._playBtnEmitter=[],this._againBtnEmitter=null,this._playBtnEnabled=!0,this._autoPlayBtn=null,this._autoStopBtn=null,this._autoTicker=null,this._ifAutoPlay=!1,this._revealBtn=null,this._playAgainBtn=null,this._firstRun=0,this._playAgainBtn=null,this._playAgainBtnEnabled=!0,this._playButtonGroup=new Array,this._zuobox=[],this._youbox=[],this._winPriceTier=[],this._totalWin=0,this._ifJack=!1,this._jackpotListOri=[],this._jackpotList=[],this._jackpotReset=-1,this._totalWinText=null,this._curWager=.25,this._curBalance=1e3,this._resList=[],this._selectNum=[],this._selectNumTrigger=!1,this._showNumTime=[],this._wagerxs=[],this._unselectFont=[],this._selectFont=[],this._jackpotWinSlot=[],this._jackpotWinPrice=[],this._jackpotWinNum=[],this._payoutInit=[],this._payoutWin=[],this._payoutWinPrice=[],this._autoLeftText=null;for(var e=this._autoLeftCount=0;e<6;e++)this._payoutWin[e]=new Array,this._payoutWinPrice[e]=new Array;this._payoutWhiteWinSlot=[],this._msg=[],this._msgX=1020,xqu.config.IsMobile()&&(this._msgX=420),this._chooseTween=null,this._playTween=null,this._ctor()}function PlayButtonEmitter(){this._spriteContainer=new PIXI.Container,this._emitterContainer=new PIXI.ParticleContainer,this._container=new PIXI.Container,this._container.addChild(this._spriteContainer),this._spriteContainer.addChild(this._emitterContainer),this._pivot=null,this._emitter=null,this._setX=null,this._setY=null,this._ctor()}function AgainButtonEmitter(){this._container=new Sprite,this._emitter=null,this._ctor()}function NumberBoard(t){this._container=new PIXI.Container,this._ingame=t,this._ROW=8,this._COL=10,this._nums=new Array,this._ctor()}function NumberBoardNumber(t,e){this._container=new PIXI.Container,this._board=t,this._number=e,this._bg=null,this._ctor(),xqu.log("Board Number(%i) is created",this._number)}function JackpotPannel(t){this._container=new PIXI.Container,this._ingame=t,this._bg=null,this._title=null,this._ctor()}function PayoutPannel(t){this._container=new PIXI.Container,this._ingame=t,this._bg=null,this._ctor()}function MultiStarPannel(t){this._container=new PIXI.Container,this._ingame=t,this._bg=null,this._ctor()}function TotalWin(){this._container=new Sprite,this._container.anchor.set(.5),this._bg=null,this._winText=null,this._emitter=null,this._currentTotalWinAmount=0,this._targetTotalWinAmount=0,this._ctor()}function TotalWinEmitter(){this._container=new PIXI.Container,this._emitter=null,this._ctor()}function AutoPlayLayer(){this._container=new PIXI.Container,this._panel=null,this._bg=null,this._playLeftBtn_Array=new Array,this._balanceLimitBtn_Array=new Array,this._winLimitBtn_Array=new Array,this._exitBtn=null,this._confirmBtn=null,this._playLeftAmt=-1,this._playLeftAmtIndicator=null,this._balanceLimitIndicator=null,this._winLimitIndicator=null,this._initialBalance=-1,this._configData={playLeft:-1,balanceLimit:-1,winLimit:-1},this._Config_Play_Left=[5,10,25,50],this._Config_Balance_Limit=[500,1e3,2500,Number.MAX_SAFE_INTEGER],this._Config_Win_Limit=[500,1e3,2500,Number.MAX_SAFE_INTEGER],this._cbStartPlay=null,this._cbFinishAllPlays=null,this._ctor()}GameServerSim.WIN_CHANCE=80,GameServerSim.JACKPOT_WIN_CHANCE=60,GameServerSim.Scenario={},GameServerSim.Scenario.Cost=0,GameServerSim.Scenario.Win=0,GameServerSim.Scenario.NumbersSelected=[],GameServerSim.Scenario.NumbersReturned=[],GameServerSim.Scenario.NumbersWithStars=[],GameServerSim._Reset=function(){GameServerSim.Scenario={},GameServerSim.Scenario.Cost=0,GameServerSim.Scenario.Win=0,GameServerSim.Scenario.NumbersSelected=[],GameServerSim.Scenario.NumbersReturned=[],GameServerSim.Scenario.NumbersWithStar=[]},GameServerSim.GenerateGameScenario=function(t,e){return GameServerSim._Reset(),GameServerSim.Scenario.Cost=GameServerSim._ValidateCost(t),xqu.utils.RandomNum(0,100)<GameServerSim.WIN_CHANCE?GameServerSim._GenerateWin(e):GameServerSim._GenerateLose(e),xqu.log("********************************************GameServerSim.GenerateGameScenario: Finished Generating,  Scenario is below : "),xqu.log(GameServerSim.Scenario),GameServerSim.Scenario},GameServerSim._GenerateLose=function(t){},GameServerSim._GenerateWin=function(t){},GameServerSim._ValidateCost=function(t){return xqu.assert(!1,"GameServerSim._ValidateCost: not a valid cost({0})".format(t)),t},GameServerSim._ValidateNumberSelected=function(t){new Array(81).join(0).fill("");return xqu.assert(10!=t.length,"GameServerSim._ValidateNumberSelected: selected numbers amount is not 10, nums selected are {0}".format(t)),cost},MainGame.prototype._createTestSpot=function(){var t,e;xqu.config.DEBUG_MODE&&((e=new PIXI.Sprite(PIXI.Texture.WHITE)).width=20,e.height=20,this._container.addChild(e),(t=new PIXI.Sprite(PIXI.Texture.WHITE)).width=20,t.height=20,t.position.x=xqu.config.GAME_DESIGN_SIZE_WIDTH-t.width,this._container.addChild(t),(e=new PIXI.Sprite(PIXI.Texture.WHITE)).width=20,e.height=20,e.position.y=xqu.config.GAME_DESIGN_SIZE_HEIGHT-e.height,this._container.addChild(e),(e=new PIXI.Sprite(PIXI.Texture.WHITE)).width=20,e.height=20,e.position.x=xqu.config.GAME_DESIGN_SIZE_WIDTH-t.width,e.position.y=xqu.config.GAME_DESIGN_SIZE_HEIGHT-t.height,this._container.addChild(e))},MainGame.prototype.name="MainGame",MainGame.prototype._ctor=function(){},MainGame.prototype.init=function(){xqu.sys.setAutoFullScreen(!0),this._setupCustmizations(),this._splashScene=new SplashScene(this),this._container.addChild(this._splashScene.getTransform()),this._splashScene.show(),this._inGameScene=new InGameScene(this),this._container.addChild(this._inGameScene.getTransform()),this._inGameScene.hide(),this._createTestSpot()},MainGame.prototype.getTransform=function(){return this._container},MainGame.prototype.callbackGoToInGameScene=function(){this._splashScene.hide(),this._inGameScene.show()},MainGame.prototype.requestPlayGame=function(){},MainGame.prototype.requestFinishGame=function(){},MainGame.prototype.prepareNewGame=function(){},MainGame.prototype.updateBankStandalone=function(t,e){},MainGame.prototype._setupCustmizations=function(){this._setupPublicationsForT1GMApi()},MainGame.prototype._setupPublicationsForT1GMApi=function(){t1GMApi.subscribeToEvent(t1GMApi.publications.GAME_IS_READY_TO_PLAY,function(){xqu.audio.mute=!t1GMApi.getGameOptions().audio,xqu.audio.mute||(xqu.audio.playMusic("Snd_Bg"),xqu.log("xqu.audio: play bg music"))}),t1GMApi.subscribeToEvent(t1GMApi.publications.AUDIO_ENABLED,function(){xqu.audio.mute=!1,xqu.audio.turnOnSound(),xqu.audio.playMusic("Snd_Bg")}),t1GMApi.subscribeToEvent(t1GMApi.publications.AUDIO_DISABLED,function(){xqu.audio.mute=!0,xqu.audio.turnOffSound()})},SplashScene.prototype._MakeAnEmptyTexture=function(){var t=new PIXI.Sprite(PIXI.Texture.EMPTY);t.width=xqu.config.GAME_DESIGN_SIZE_WIDTH,t.height=xqu.config.GAME_DESIGN_SIZE_HEIGHT,t.position.x=t.position.y=0,t.alpha=.001,this._container.addChild(t)},SplashScene.prototype._ctor=function(){this._container=new PIXI.Container,this._MakeAnEmptyTexture(),this._createBg(),ApiConnector.UpdateBalance(GameBank.GetBalance())},SplashScene.prototype._createBg=function(){var t,e;xqu.config.IsMobile()?this._bg=new Sprite(TextureCache["starField.png"]):this._bg=new Sprite(TextureCache["night_sky.png"]),this._bg.anchor.set(.5),this._bg.position.x=xqu.config.SCREEN_CENTER_X,this._bg.position.y=xqu.config.SCREEN_CENTER_Y,this._bg.interactive=!0,this._bg.buttonMode=!0,this._bg.on("click",this._onClick.bind(this)),this._bg.on("tap",this._onClick.bind(this)),this._bg.on("pointerdown",this._onClick.bind(this)),this._container.addChild(this._bg),(t=new Sprite(TextureCache["logo_kenoStars.png"])).anchor.set(.5),t.position.x=this._baseX,xqu.config.IsMobile()?t.position.y=this._baseY+50:t.position.y=this._baseY,this._container.addChild(t),(e=new Sprite(TextureCache["splashText_Reveal.png"])).anchor.set(.5),e.position.x=this._baseX,xqu.config.IsMobile()?e.position.y=this._baseY+280:e.position.y=this._baseY+150,this._container.addChild(e),(t=new Sprite(TextureCache["selectNumbers.png"])).anchor.set(.5),t.position.x=this._baseX+40,xqu.config.IsMobile()?t.position.y=this._baseY+450:t.position.y=this._baseY+270,this._container.addChild(t),(e=new Sprite(TextureCache["splashText_Stars.png"])).anchor.set(.5),e.position.x=this._baseX,xqu.config.IsMobile()?e.position.y=this._baseY+670:e.position.y=this._baseY+420,this._container.addChild(e),(t=new Sprite(TextureCache["revealStars.png"])).anchor.set(.5),t.position.x=this._baseX+50,xqu.config.IsMobile()?t.position.y=this._baseY+900:t.position.y=this._baseY+570,this._container.addChild(t),(e=new Sprite(TextureCache["splashText_Jackpot.png"])).anchor.set(.5),e.position.x=this._baseX+0,xqu.config.IsMobile()?e.position.y=this._baseY+1170:e.position.y=this._baseY+770,this._container.addChild(t),this._container.addChild(e),(e=new Sprite(TextureCache["constellation.png"])).anchor.set(.5),e.position.x=this._baseX+0,xqu.config.IsMobile()?e.position.y=this._baseY+1450:e.position.y=this._baseY+1020,this._container.addChild(e),xqu.config.IsMobile()||(this._bg.scale.x=this._bg.scale.y=1.5)},SplashScene.prototype.getTransform=function(){return this._container},SplashScene.prototype._onClick=function(t){this._mainGame.callbackGoToInGameScene()},SplashScene.prototype.show=function(){this._container.visible=!0},SplashScene.prototype.hide=function(){this._container.visible=!1},InGameScene.prototype._onClick=function(t){this._mainGame.callbackGoToInGameScene()},InGameScene.prototype.getTransform=function(){return this._container},InGameScene.prototype.show=function(){this._container.visible=!0},InGameScene.prototype.hide=function(){this._container.visible=!1},InGameScene.prototype._MakeAnEmptyTexture=function(){var t=new PIXI.Sprite(PIXI.Texture.EMPTY);t.width=xqu.config.GAME_DESIGN_SIZE_WIDTH,t.height=xqu.config.GAME_DESIGN_SIZE_HEIGHT,t.position.x=t.position.y=0,t.alpha=.001,this._container.addChild(t)},InGameScene.prototype._ctor=function(){this._container=new PIXI.Container,this._MakeAnEmptyTexture(),this._createBg(),this._createLogo(),this._createMainBoard(),this._createJackpotPannel(),this._createPayoutPannel(),this._createOperatePannel(),this._createButtonGroup(),this._createFontPannel(),this._createAutoPlayLayer(),ApiConnector.UpdateBalance(GameBank.GetBalance())},InGameScene.prototype._createBg=function(){this._bg=null,xqu.config.IsMobile()?this._bg=new Sprite(TextureCache["starField.png"]):(this._bg=new Sprite(TextureCache["night_sky.png"]),this._bg.scale.x=this._bg.scale.y=1.5),this._bg.anchor.set(.5),this._bg.position.x=xqu.config.SCREEN_CENTER_X,this._bg.position.y=xqu.config.SCREEN_CENTER_Y,this._container.addChild(this._bg)},InGameScene.prototype._createLogo=function(){this._logo=null;xqu.config.IsMobile()?(this._logo=new Sprite(TextureCache["logo.png"]),this._logo.anchor.set(.5,0),this._logo.x=xqu.config.SCREEN_CENTER_X-350,this._logo.y=10):(this._logo=new Sprite(TextureCache["logo.png"]),this._logo.anchor.set(.5,0),this._logo.x=xqu.config.SCREEN_CENTER_X,this._logo.y=30),this._logo.scale.set(1),this._container.addChild(this._logo)},InGameScene.prototype._createMainBoard=function(){},InGameScene.prototype._createOperatePannel=function(){for(var t=0;t<28;t++)this._winPriceTier[t]=new Array;this._winPriceTier[0]=[5,0,1],this._winPriceTier[1]=[0,0,2],this._winPriceTier[2]=[6,0,2],this._winPriceTier[3]=[5,2,3],this._winPriceTier[4]=[7,0,4],this._winPriceTier[5]=[5,4,5],this._winPriceTier[6]=[0,2,6],this._winPriceTier[7]=[6,2,6],this._winPriceTier[8]=[0,3,8],this._winPriceTier[9]=[6,3,8],this._winPriceTier[10]=[7,1,8],this._winPriceTier[11]=[8,0,10],this._winPriceTier[12]=[7,2,12],this._winPriceTier[13]=[7,3,16],this._winPriceTier[14]=[7,4,20],this._winPriceTier[15]=[8,1,20],this._winPriceTier[16]=[8,2,30],this._winPriceTier[17]=[9,0,40],this._winPriceTier[18]=[8,3,40],this._winPriceTier[19]=[10,0,80],this._winPriceTier[20]=[9,2,120],this._winPriceTier[21]=[9,3,160],this._winPriceTier[22]=[10,1,160],this._winPriceTier[23]=[9,4,200],this._winPriceTier[24]=[10,2,240],this._winPriceTier[25]=[10,3,320],this._winPriceTier[26]=[10,4,400],this._winPriceTier[27]=[10,5,1e3],this._jackpotListOri=[125,250,500,900,1500,2200],this._jackpotList=[125,250,500,900,1500,2200];for(t=0;t<20;t++)this._resList[t]=new Array,this._fireBallTween[t]=null;for(t=0;t<5;t++)this._starOverBallPos[t]=new Array;xqu.config.IsMobile()?(this._starOverBallPos[0][0]=620,this._starOverBallPos[0][1]=78,this._starOverBallPos[1][0]=750,this._starOverBallPos[1][1]=177,this._starOverBallPos[2][0]=850,this._starOverBallPos[2][1]=110,this._starOverBallPos[3][0]=945,this._starOverBallPos[3][1]=170,this._starOverBallPos[4][0]=1030,this._starOverBallPos[4][1]=74):(this._starOverBallPos[0][0]=590-this._xmX,this._starOverBallPos[0][1]=1100,this._starOverBallPos[1][0]=730-this._xmX,this._starOverBallPos[1][1]=1200,this._starOverBallPos[2][0]=830-this._xmX,this._starOverBallPos[2][1]=1130,this._starOverBallPos[3][0]=930-this._xmX,this._starOverBallPos[3][1]=1200,this._starOverBallPos[4][0]=1020-this._xmX,this._starOverBallPos[4][1]=1090);for(var e=new Sprite(TextureCache["constellation.png"]),i=new Sprite(TextureCache["window_messagenew.png"]),r=new Sprite(TextureCache["title_setWager.png"]),n=new Sprite(TextureCache["title_totalWon.png"]),s=new Sprite(TextureCache["window_setWager.png"]),o=new Sprite(TextureCache["window_setWager.png"]),t=0;t<5;t++)this._xmbaixing[t]=new Sprite(TextureCache["star_constellation_selected_small.png"]),this._xmbaixing[t].anchor.set(.5),this._xmbaixing[t].visible=!1;this._xmbaixing[0].rotation=35,xqu.config.IsMobile()?(this._xmbaixing[0].x=610,this._xmbaixing[0].y=85):(this._xmbaixing[0].x=590-this._xmX,this._xmbaixing[0].y=1120),this._xmbaixing[1].rotation=-5,xqu.config.IsMobile()?(this._xmbaixing[1].x=757,this._xmbaixing[1].y=177):(this._xmbaixing[1].x=736-this._xmX,this._xmbaixing[1].y=1211),this._xmbaixing[2].rotation=100,this._xmbaixing[2].scale.set(.9),xqu.config.IsMobile()?(this._xmbaixing[2].x=848,this._xmbaixing[2].y=100):(this._xmbaixing[2].x=825-this._xmX,this._xmbaixing[2].y=1130),this._xmbaixing[3].rotation=-10,this._xmbaixing[3].scale.set(.9),xqu.config.IsMobile()?(this._xmbaixing[3].x=953,this._xmbaixing[3].y=184):(this._xmbaixing[3].x=934-this._xmX,this._xmbaixing[3].y=1220),this._xmbaixing[4].rotation=35,this._xmbaixing[4].scale.set(1.05),xqu.config.IsMobile()?(this._xmbaixing[4].x=1028,this._xmbaixing[4].y=78):(this._xmbaixing[4].x=1008-this._xmX,this._xmbaixing[4].y=1110);for(t=0;t<5;t++){var a=Math.floor(300*Math.random())+200;0==t?this._starRunning(this._xmbaixing[t],1,t*a):1==t?this._starRunning(this._xmbaixing[t],1,(t+.5)*a):2==t||3==t?this._starRunning(this._xmbaixing[t],.9,t*a):this._starRunning(this._xmbaixing[t],1.05,t*a)}var h=[];h[0]=new Sprite(TextureCache["text_numStars_green_2x.png"]),h[1]=new Sprite(TextureCache["text_numStars_green_3x.png"]),h[2]=new Sprite(TextureCache["text_numStars_green_4x.png"]),h[3]=new Sprite(TextureCache["text_numStars_green_5x.png"]),h[4]=new Sprite(TextureCache["text_numStars_green_jackpot.png"]),this._xmduobeilvWin[0]=new Sprite(TextureCache["text_numStars_white _2x.png"]),this._xmduobeilvWin[1]=new Sprite(TextureCache["text_numStars_white _3x.png"]),this._xmduobeilvWin[2]=new Sprite(TextureCache["text_numStars_white _4x.png"]),this._xmduobeilvWin[3]=new Sprite(TextureCache["text_numStars_white _5x.png"]),this._xmduobeilvWin[4]=new Sprite(TextureCache["text_numStars_white_jackpot.png"]);var u=new Sprite(TextureCache["btn_play_star_small.png"]);if(xqu.config.IsMobile()){e.x=570,e.y=15;h[0].x=650,h[0].y=65,h[1].x=777,h[1].y=183,h[2].x=875,h[2].y=82,h[3].x=975,h[3].y=182,h[4].x=830,h[4].y=20;for(t=0;t<5;t++)this._container.addChild(h[t]);this._xmduobeilvWin[0].x=650,this._xmduobeilvWin[0].y=65,this._xmduobeilvWin[1].x=777,this._xmduobeilvWin[1].y=183,this._xmduobeilvWin[2].x=875,this._xmduobeilvWin[2].y=82,this._xmduobeilvWin[3].x=975,this._xmduobeilvWin[3].y=182,this._xmduobeilvWin[4].x=830,this._xmduobeilvWin[4].y=20,i.anchor.set(.5),i.x=420,i.y=1120;r.x=790,r.y=1185,s.x=720,s.y=1230,n.x=740,n.y=1320,o.x=720,o.y=1360,u.x=710+this._xmXM,u.y=1510}else{e.x=550-this._xmX,e.y=1050,h[0].x=630-this._xmX,h[0].y=1100,h[1].x=757-this._xmX,h[1].y=1218,h[2].x=855-this._xmX,h[2].y=1117,h[3].x=955-this._xmX,h[3].y=1217,h[4].x=930-this._xmX,h[4].y=1015;for(t=0;t<5;t++)this._container.addChild(h[t]);this._xmduobeilvWin[0].x=630-this._xmX,this._xmduobeilvWin[0].y=1100,this._xmduobeilvWin[1].x=757-this._xmX,this._xmduobeilvWin[1].y=1218,this._xmduobeilvWin[2].x=855-this._xmX,this._xmduobeilvWin[2].y=1117,this._xmduobeilvWin[3].x=955-this._xmX,this._xmduobeilvWin[3].y=1217,this._xmduobeilvWin[4].x=930-this._xmX,this._xmduobeilvWin[4].y=1015,i.anchor.set(.5),i.x=1020,i.y=950,r.x=1200-this._xmX,r.y=1015,s.x=1130-this._xmX,s.y=1060,n.x=1150-this._xmX,n.y=1150,o.x=1130-this._xmX,o.y=1190,u.x=1420,u.y=960}for(t=0;t<6;t++)this._zuobox[t]=new Sprite(TextureCache["payout_hilite.png"]),this._zuobox[t].anchor.set(.5),this._zuobox[t].visible=!1,xqu.config.IsMobile()?this._zuobox[t].x=497:this._zuobox[t].x=490;xqu.config.IsMobile()?(this._zuobox[0].y=1668,this._zuobox[1].y=683-this._zuobox[0].getBounds().height+8+985,this._zuobox[2].y=683-2*this._zuobox[0].getBounds().height+14+985,this._zuobox[3].y=683-3*this._zuobox[0].getBounds().height+20+985,this._zuobox[4].y=683-4*this._zuobox[0].getBounds().height+26+985,this._zuobox[5].y=683-5*this._zuobox[0].getBounds().height+32+985):(this._zuobox[0].y=683,this._zuobox[1].y=683-this._zuobox[0].getBounds().height+8,this._zuobox[2].y=683-2*this._zuobox[0].getBounds().height+14,this._zuobox[3].y=683-3*this._zuobox[0].getBounds().height+20,this._zuobox[4].y=683-4*this._zuobox[0].getBounds().height+26,this._zuobox[5].y=683-5*this._zuobox[0].getBounds().height+32);for(t=0;t<7;t++)this._youbox[t]=new Sprite(TextureCache["payout_hilite.png"]),this._youbox[t].anchor.set(.5),this._youbox[t].visible=!1,xqu.config.IsMobile()?this._youbox[t].x=167:this._youbox[t].x=1550;xqu.config.IsMobile()?(this._youbox[0].y=1671,this._youbox[1].y=690-this._youbox[0].getBounds().height+15+985,this._youbox[2].y=690-2*this._youbox[0].getBounds().height+32+985,this._youbox[3].y=690-3*this._youbox[0].getBounds().height+48+985,this._youbox[4].y=690-4*this._youbox[0].getBounds().height+62+985,this._youbox[5].y=690-5*this._youbox[0].getBounds().height+80+985,this._youbox[6].y=690-6*this._youbox[0].getBounds().height+100+985):(this._youbox[0].y=686,this._youbox[1].y=690-this._youbox[0].getBounds().height+15,this._youbox[2].y=690-2*this._youbox[0].getBounds().height+32,this._youbox[3].y=690-3*this._youbox[0].getBounds().height+48,this._youbox[4].y=690-4*this._youbox[0].getBounds().height+62,this._youbox[5].y=690-5*this._youbox[0].getBounds().height+80,this._youbox[6].y=690-6*this._youbox[0].getBounds().height+100),this._container.addChild(e),this._container.addChild(i),this._container.addChild(r),this._container.addChild(n),this._container.addChild(s),this._container.addChild(o),this._container.addChild(u)},InGameScene.prototype._createButtonGroup=function(){for(var t=this,e=0,i=0,i=xqu.config.IsMobile()?(e=870,1700):(e=1570,1150),r=0;r<80;r++)this._unselectBG[r]=new xqu.pixi.SimpleButton("num_button",TextureCache["num_bg_purple.png"],TextureCache["num_bg_purple.png"],TextureCache["num_bg_purple.png"]),xqu.config.IsMobile()?this._unselectBG[r].setPosition(this._unselectBGX+r%10*105,this._unselectBGY+105*Math.floor(r/10)):this._unselectBG[r].setPosition(this._unselectBGX+r%10*81,this._unselectBGY+81*Math.floor(r/10)),this._unselectBG[r].index=r,this._unselectBG[r].getTransform(),xqu.config.IsMobile()&&this._unselectBG[r].setScale(1.3,1.3),this._container.addChild(this._unselectBG[r].getTransform()),this._unselectBG[r].addEventListener("click",new xqu.Callback(t._onClickNumBtn,t));for(r=0;r<80;r++)this._selectBG[r]=new xqu.pixi.SimpleButton("num_button",TextureCache["num_bg_red.png"],TextureCache["num_bg_red.png"],TextureCache["num_bg_red.png"]),xqu.config.IsMobile()?this._selectBG[r].setPosition(this._unselectBGX+r%10*105,this._unselectBGY+105*Math.floor(r/10)):this._selectBG[r].setPosition(this._unselectBGX+r%10*81,this._unselectBGY+81*Math.floor(r/10)),this._selectBG[r].index=r,this._selectBG[r].getTransform(),xqu.config.IsMobile()&&this._selectBG[r].setScale(1.3,1.3),this._selectBG[r].setVisible(!1),this._container.addChild(this._selectBG[r].getTransform()),this._selectBG[r].addEventListener("click",new xqu.Callback(t._onClickNumDownBtn,t));for(r=0;r<80;r++)this._unselectBall[r]=new Sprite(TextureCache["ball_purple.png"]),this._unselectBall[r].anchor.set(.5),xqu.config.IsMobile()?(this._unselectBall[r].scale.x=1.3,this._unselectBall[r].scale.y=1.3,this._unselectBall[r].x=this._unselectBGX+3.5+r%10*105,this._unselectBall[r].y=this._unselectBGY+6+105*Math.floor(r/10)):(this._unselectBall[r].x=this._unselectBGX+3.5+r%10*81,this._unselectBall[r].y=this._unselectBGY+6+81*Math.floor(r/10)),this._unselectBall[r].visible=!1,this._container.addChild(this._unselectBall[r]);for(r=0;r<80;r++)this._selectBall[r]=new Sprite(TextureCache["newBalls_green.png"]),this._selectBall[r].anchor.set(.5),xqu.config.IsMobile()?(this._selectBall[r].scale.x=1.3,this._selectBall[r].scale.y=1.3,this._selectBall[r].x=this._unselectBGX+3.5+r%10*105,this._selectBall[r].y=this._unselectBGY+6+105*Math.floor(r/10)):(this._selectBall[r].x=this._unselectBGX+3.5+r%10*81,this._selectBall[r].y=this._unselectBGY+6+81*Math.floor(r/10)),this._selectBall[r].visible=!1,this._container.addChild(this._selectBall[r]);for(r=0;r<5;r++)this._starOverBall[r]=new Sprite(TextureCache["star_forSlot.png"]),this._starOverBall[r].anchor.set(.5),this._starOverBall[r].scale.set(.1),this._starOverBall[r].visible=!1,this._starOverBall[r].x=1e3,this._starOverBall[r].y=500;this._wagerIncBtn=new xqu.pixi.SimpleButton("wagerInc_button",TextureCache["btn_wagerUp.png"],TextureCache["btn_wagerUp.png"],TextureCache["btn_wagerUp.png"]),xqu.config.IsMobile()?this._wagerIncBtn.setPosition(995,1270):this._wagerIncBtn.setPosition(1405-this._xmX,1095),this._container.addChild(this._wagerIncBtn.getTransform()),this._wagerIncBtn.addEventListener("click",new xqu.Callback(t._onClickWagerIncBtn,t)),this._wagerDecBtn=new xqu.pixi.SimpleButton("wagerDec_button",TextureCache["btn_wagerDown.png"],TextureCache["btn_wagerDown.png"],TextureCache["btn_wagerDown.png"]),this._wagerDecBtn.setScale(2,2),xqu.config.IsMobile()?this._wagerDecBtn.setPosition(725,1270):this._wagerDecBtn.setPosition(1145-this._xmX,1095),this._container.addChild(this._wagerDecBtn.getTransform()),this._wagerDecBtn.addEventListener("click",new xqu.Callback(t._onClickWagerDecBtn,t)),this._wagerDecBtn.setEnable(!1),this._clearAll=new xqu.pixi.SimpleButton("clearall_button",TextureCache["clearAll_unroll.png"],TextureCache["clearAll_press.png"],TextureCache["clearAll_roll.png"]),this._clearAll.setPosition(e,i-200),this._clearAll.setEnable(!1),this._container.addChild(this._clearAll.getTransform()),this._clearAll.addEventListener("click",new xqu.Callback(t._onClickclearAllBtn,t)),this._autoPick=new xqu.pixi.SimpleButton("autopick_button",TextureCache["autoPick_unroll.png"],TextureCache["autoPick_press.png"],TextureCache["autoPick_Roll.png"]),xqu.config.IsMobile()?this._autoPick.setPosition(e+this._xmXM,i):this._autoPick.setPosition(e,i),this._container.addChild(this._autoPick.getTransform()),this._autoPick.addEventListener("click",new xqu.Callback(t._onClickautoPickBtn,t)),this._playBtn=new xqu.pixi.SimpleButton("play_button",TextureCache["btn_play_unroll.png"],TextureCache["btn_play_press.png"],TextureCache["btn_play_roll.png"]),xqu.config.IsMobile()?this._playBtn.setPosition(e+this._xmXM,i):this._playBtn.setPosition(e,i),this._playBtn.setVisible(!1),this._container.addChild(this._playBtn.getTransform()),this._playBtn.addEventListener("click",new xqu.Callback(t._onClickPlayBtn,t));var n=new Sprite(TextureCache["autoplay_BackDrop_purple.png"]);n.anchor.set(.5),xqu.config.IsMobile()?(n.x=e-165,n.y=i-20):(n.x=e-215,n.y=i+5),this._container.addChild(n);n=new Sprite(TextureCache["autoPlay_backdrop_black.png"]);n.anchor.set(.5),xqu.config.IsMobile()?(n.x=e-165,n.y=i+50-10):(n.x=e-215,n.y=i+50+15),this._container.addChild(n),this._autoStopBtn=new xqu.pixi.SimpleButton("autostop_button",TextureCache["autoPlayStop_unroll.png"],TextureCache["autoPlayStop_Press.png"],TextureCache["autoPlayStop_roll.png"]),xqu.config.IsMobile()?this._autoStopBtn.setPosition(e-215+this._xmXM,i-55):this._autoStopBtn.setPosition(e-215,i-50+20),this._autoStopBtn.getTransform().visible=!1,this._autoStopBtn.setEnable(!1),this._container.addChild(this._autoStopBtn.getTransform()),this._autoStopBtn.addEventListener("click",new xqu.Callback(t._onClickAutoStopBtn,t)),this._autoPlayBtn=new xqu.pixi.SimpleButton("autoPlay_button",TextureCache["btn_autoPlay_unroll.png"],TextureCache["btn_autoplay_press.png"],TextureCache["btn_autoPlay_roll.png"]),xqu.config.IsMobile()?this._autoPlayBtn.setPosition(e-215+this._xmXM,i-55):this._autoPlayBtn.setPosition(e-215,i-50+20),this._autoPlayBtn.setVisible(!0),this._autoPlayBtn.setEnable(!1),this._container.addChild(this._autoPlayBtn.getTransform()),this._autoPlayBtn.addEventListener("click",new xqu.Callback(t._onClickAutoPlayBtn,t)),this._againBtnEmitter=new AgainButtonEmitter,this._container.addChildAt(t._againBtnEmitter.getTransform(),this._container.getChildIndex(t._playBtn.getTransform())),xqu.config.IsMobile()?this._againBtnEmitter.getTransform().position.x=e+10+this._xmXM:this._againBtnEmitter.getTransform().position.x=e+10,this._againBtnEmitter.getTransform().position.y=i,this._againBtnEmitter.disable(),this._helpBtn=new xqu.pixi.SimpleButton("help_button",TextureCache["btn_info_unroll.png"],TextureCache["btn_info_unroll.png"],TextureCache["btn_info_unroll.png"]),xqu.config.IsMobile()?this._helpBtn.setPosition(955,1123):this._helpBtn.setPosition(400,950),this._helpBtn.addEventListener("click",new xqu.Callback(t._onClickHelpBtn,t)),this._container.addChild(this._helpBtn.getTransform()),this._revealBtn=new xqu.pixi.SimpleButton("reveal_button",TextureCache["revealAll.png"],TextureCache["revealAllPress.png"],TextureCache["revealAllRoll.png"]),xqu.config.IsMobile()?this._revealBtn.setPosition(e+this._xmXM,i):this._revealBtn.setPosition(e,i),this._revealBtn.setVisible(!1),this._container.addChild(this._revealBtn.getTransform()),this._revealBtn.addEventListener("click",new xqu.Callback(t._onClickRevealBtn,t)),this._playAgainBtn=new xqu.pixi.SimpleButton("playagain_button",TextureCache["btn_playAgain_unroll.png"],TextureCache["btn_playAgain_press.png"],TextureCache["btn_playAgain_roll.png"]),xqu.config.IsMobile()?this._playAgainBtn.setPosition(e+this._xmXM,i):this._playAgainBtn.setPosition(e,i),this._playAgainBtn.setVisible(!1),this._container.addChild(this._playAgainBtn.getTransform()),this._playAgainBtn.addEventListener("click",new xqu.Callback(t._onClickplayAgainBtn,t)),this._autoTicker=new PIXI.Ticker,this._autoTicker.stop()},InGameScene.prototype._createNumberBoard=function(){this._numberBoard=new NumberBoard(this),this._numberBoard.getTransform().x=xqu.config.SCREEN_CENTER_X-this._numberBoard.getTransform().width/2,this._numberBoard.getTransform().y=this._logo.height+30,this._container.addChild(this._numberBoard.getTransform())},InGameScene.prototype._createJackpotPannel=function(){this._jackpotPannel=new JackpotPannel(this),this._container.addChild(this._jackpotPannel.getTransform()),xqu.config.IsMobile()?(this._jackpotPannel.getTransform().x=370,this._jackpotPannel.getTransform().y=this._logo.height+1e3):(this._jackpotPannel.getTransform().x=360,this._jackpotPannel.getTransform().y=this._logo.height+30)},InGameScene.prototype._createPayoutPannel=function(){this._payoutPannel=new PayoutPannel(this),this._container.addChild(this._payoutPannel.getTransform()),xqu.config.IsMobile()?(this._payoutPannel.getTransform().x=40,this._payoutPannel.getTransform().y=this._logo.height+1e3):(this._payoutPannel.getTransform().x=1425,this._payoutPannel.getTransform().y=this._logo.height+30)},InGameScene.prototype._createFontPannel=function(){this._autoLeftText=new PIXI.BitmapText("0",{fontName:"unselectPink",fontSize:33,align:"center"}),this._autoLeftText.anchor.set(.5),xqu.config.IsMobile()?(this._autoLeftText.x=705,this._autoLeftText.y=1720):(this._autoLeftText.x=1355,this._autoLeftText.y=1196),this._container.addChild(this._autoLeftText);for(var t=0;t<80;t++){this._unselectFont[t]=new PIXI.BitmapText(""+(t+1).toString(),{fontName:"unselectPink",fontSize:33,align:"center"}),this._unselectFont[t].anchor.set(.5);var e=653,i=255;xqu.config.IsMobile()?(e=72,i=252,this._unselectFont[t].scale.x=1.3,this._unselectFont[t].scale.y=1.3,this._unselectFont[t].x=e+t%10*105,this._unselectFont[t].y=i+105*Math.floor(t/10)):(this._unselectFont[t].x=e+t%10*81,this._unselectFont[t].y=i+81*Math.floor(t/10)),this._container.addChild(this._unselectFont[t]),e=653,i=255,this._selectFont[t]=new PIXI.BitmapText(""+(t+1).toString(),{fontName:"payoutWhiteWinSlot",fontSize:33,align:"center"}),this._selectFont[t].anchor.set(.5),xqu.config.IsMobile()?(e=72,i=252,this._selectFont[t].scale.x=1.3,this._selectFont[t].scale.y=1.3,this._selectFont[t].x=e+t%10*105,this._selectFont[t].y=i+105*Math.floor(t/10)+10):(this._selectFont[t].x=e+t%10*81,this._selectFont[t].y=i+81*Math.floor(t/10)+10),this._selectFont[t].visible=!1,this._container.addChild(this._selectFont[t])}for(t=0;t<80;t++)this._fireBall[t]=new Sprite(TextureCache["ball_falling.png"]),this._fireBall[t].anchor.set(.5),this._fireBall[t].x=this._fireBallX+t%10*81+this._fireBallDis,this._fireBall[t].y=this._fireBallY+81*Math.floor(t/10)-this._fireBallDis,this._fireBall[t].visible=!1,this._container.addChild(this._fireBall[t]);var r=[];r[0]=new PIXI.BitmapText("$0.25",{fontName:"payoutPurple",fontSize:23,align:"center"}),r[1]=new PIXI.BitmapText("$0.50",{fontName:"payoutPurple",fontSize:23,align:"center"}),r[2]=new PIXI.BitmapText("$1",{fontName:"payoutPurple",fontSize:23,align:"center"}),r[3]=new PIXI.BitmapText("$2",{fontName:"payoutPurple",fontSize:23,align:"center"}),r[4]=new PIXI.BitmapText("$3",{fontName:"payoutPurple",fontSize:23,align:"center"}),r[5]=new PIXI.BitmapText("$5",{fontName:"payoutPurple",fontSize:23,align:"center"});for(t=0;t<6;t++)r[t].anchor.set(0),xqu.config.IsMobile()?(r[t].x=390,r[t].y=648-65*t+985):(r[t].x=375,r[t].y=648-65*t),this._container.addChild(r[t]);this._jackpotWinNum=[],this._jackpotWinNum[0]=new PIXI.BitmapText("$125.00",{fontName:"payoutWin",fontSize:23,align:"center"}),this._jackpotWinNum[1]=new PIXI.BitmapText("$250.00",{fontName:"payoutWin",fontSize:23,align:"center"}),this._jackpotWinNum[2]=new PIXI.BitmapText("$500.00",{fontName:"payoutWin",fontSize:23,align:"center"}),this._jackpotWinNum[3]=new PIXI.BitmapText("$900.00",{fontName:"payoutWin",fontSize:23,align:"center"}),this._jackpotWinNum[4]=new PIXI.BitmapText("$1,500.00",{fontName:"payoutWin",fontSize:23,align:"center"}),this._jackpotWinNum[5]=new PIXI.BitmapText("$2,200.00",{fontName:"payoutWin",fontSize:23,align:"center"});for(t=0;t<6;t++)this._jackpotWinNum[t].anchor.set(1),xqu.config.IsMobile()?(this._jackpotWinNum[t].x=617,this._jackpotWinNum[t].y=693-65*t+985):(this._jackpotWinNum[t].x=602,this._jackpotWinNum[t].y=693-65*t),this._container.addChild(this._jackpotWinNum[t]);var n=[];n[0]=new PIXI.BitmapText("0",{fontName:"payoutPurple",fontSize:30,align:"center"}),n[1]=new PIXI.BitmapText("5",{fontName:"payoutPurple",fontSize:30,align:"center"}),n[2]=new PIXI.BitmapText("6",{fontName:"payoutPurple",fontSize:30,align:"center"}),n[3]=new PIXI.BitmapText("7",{fontName:"payoutPurple",fontSize:30,align:"center"}),n[4]=new PIXI.BitmapText("8",{fontName:"payoutPurple",fontSize:30,align:"center"}),n[5]=new PIXI.BitmapText("9",{fontName:"payoutPurple",fontSize:30,align:"center"}),n[6]=new PIXI.BitmapText("10",{fontName:"payoutPurple",fontSize:30,align:"center"});for(t=0;t<7;t++)n[t].anchor.set(0),xqu.config.IsMobile()?(n[t].x=70,n[t].y=1630-55*t):(n[t].x=1453,n[t].y=645-55*t),this._container.addChild(n[t]);for(t=0;t<7;t++)this._payoutInit[t]=new PIXI.BitmapText("$0.00",{fontName:"payoutWin",fontSize:30,align:"center"}),this._payoutInit[t].anchor.set(1),xqu.config.IsMobile()?(this._payoutInit[t].x=273,this._payoutInit[t].y=1685-55*t):(this._payoutInit[t].x=1650,this._payoutInit[t].y=702-55*t),this._payoutInit[t].visible=!1,this._container.addChild(this._payoutInit[t]);this._payoutWin[0][0]=new PIXI.BitmapText("$0.5",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[0][1]=new PIXI.BitmapText("$0.25",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[0][2]=new PIXI.BitmapText("$0.50",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[0][3]=new PIXI.BitmapText("$1.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[0][4]=new PIXI.BitmapText("$2.50",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[0][5]=new PIXI.BitmapText("$10.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[0][6]=new PIXI.BitmapText("$20.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][0]=new PIXI.BitmapText("$1.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][1]=new PIXI.BitmapText("$0.50",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][2]=new PIXI.BitmapText("$1.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][3]=new PIXI.BitmapText("$2.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][4]=new PIXI.BitmapText("$5.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][5]=new PIXI.BitmapText("$20.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[1][6]=new PIXI.BitmapText("$40.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][0]=new PIXI.BitmapText("$2.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][1]=new PIXI.BitmapText("$1.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][2]=new PIXI.BitmapText("$2.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][3]=new PIXI.BitmapText("$4.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][4]=new PIXI.BitmapText("$10.50",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][5]=new PIXI.BitmapText("$40.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[2][6]=new PIXI.BitmapText("$80.00",{fontName:"payoutWin",fontSize:27,align:"center"});this._payoutWin[3][0]=new PIXI.BitmapText("$4.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[3][1]=new PIXI.BitmapText("$2.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[3][2]=new PIXI.BitmapText("$4.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[3][3]=new PIXI.BitmapText("$8.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[3][4]=new PIXI.BitmapText("$20.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[3][5]=new PIXI.BitmapText("$80.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[3][6]=new PIXI.BitmapText("$160.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][0]=new PIXI.BitmapText("$6.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][1]=new PIXI.BitmapText("$3.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][2]=new PIXI.BitmapText("$6.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][3]=new PIXI.BitmapText("$12.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][4]=new PIXI.BitmapText("$30.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][5]=new PIXI.BitmapText("$120.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[4][6]=new PIXI.BitmapText("$240.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][0]=new PIXI.BitmapText("$10.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][1]=new PIXI.BitmapText("$5.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][2]=new PIXI.BitmapText("$10.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][3]=new PIXI.BitmapText("$20.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][4]=new PIXI.BitmapText("$50.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][5]=new PIXI.BitmapText("$200.00",{fontName:"payoutWin",fontSize:27,align:"center"}),this._payoutWin[5][6]=new PIXI.BitmapText("$400.00",{fontName:"payoutWin",fontSize:27,align:"center"});for(t=0;t<6;t++)for(var s=0;s<7;s++)this._payoutWin[t][s].anchor.set(1),xqu.config.IsMobile()?(this._payoutWin[t][s].x=273,this._payoutWin[t][s].y=1685-55*s):(this._payoutWin[t][s].x=1650,this._payoutWin[t][s].y=700-55*s),0<t&&(this._payoutWin[t][s].visible=!1),this._container.addChild(this._payoutWin[t][s]);for(t=0;t<6;t++)this._container.addChild(this._zuobox[t]);for(t=0;t<7;t++)this._container.addChild(this._youbox[t]);this._jackpotWinSlot=[],this._jackpotWinSlot[0]=new PIXI.BitmapText("$0.25",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinSlot[1]=new PIXI.BitmapText("$0.50",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinSlot[2]=new PIXI.BitmapText("$1",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinSlot[3]=new PIXI.BitmapText("$2",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinSlot[4]=new PIXI.BitmapText("$3",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinSlot[5]=new PIXI.BitmapText("$5",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"});for(t=0;t<6;t++)this._jackpotWinSlot[t].anchor.set(0),xqu.config.IsMobile()?(this._jackpotWinSlot[t].x=385,this._jackpotWinSlot[t].y=652-65*t+985):(this._jackpotWinSlot[t].x=370,this._jackpotWinSlot[t].y=652-65*t),this._jackpotWinSlot[t].visible=!1,this._container.addChild(this._jackpotWinSlot[t]);this._jackpotWinPrice=[],this._jackpotWinPrice[0]=new PIXI.BitmapText("$125.00",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinPrice[1]=new PIXI.BitmapText("$250.00",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinPrice[2]=new PIXI.BitmapText("$500.00",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinPrice[3]=new PIXI.BitmapText("$900.00",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinPrice[4]=new PIXI.BitmapText("$1,500.00",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"}),this._jackpotWinPrice[5]=new PIXI.BitmapText("$2,200.00",{fontName:"payoutWhiteWinPrice",fontSize:23,align:"center"});for(t=0;t<6;t++)this._jackpotWinPrice[t].anchor.set(1),xqu.config.IsMobile()?(this._jackpotWinPrice[t].x=615,this._jackpotWinPrice[t].y=696-65*t+985):(this._jackpotWinPrice[t].x=599,this._jackpotWinPrice[t].y=696-65*t),this._jackpotWinPrice[t].visible=!1,this._container.addChild(this._jackpotWinPrice[t]);this._payoutWhiteWinSlot[0]=new PIXI.BitmapText("0",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"}),this._payoutWhiteWinSlot[1]=new PIXI.BitmapText("5",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"}),this._payoutWhiteWinSlot[2]=new PIXI.BitmapText("6",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"}),this._payoutWhiteWinSlot[3]=new PIXI.BitmapText("7",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"}),this._payoutWhiteWinSlot[4]=new PIXI.BitmapText("8",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"}),this._payoutWhiteWinSlot[5]=new PIXI.BitmapText("9",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"}),this._payoutWhiteWinSlot[6]=new PIXI.BitmapText("10",{fontName:"payoutWhiteWinSlot",fontSize:30,align:"center"});for(t=0;t<7;t++)this._payoutWhiteWinSlot[t].anchor.set(0),xqu.config.IsMobile()?(this._payoutWhiteWinSlot[t].x=64,this._payoutWhiteWinSlot[t].y=1635-55*t):(this._payoutWhiteWinSlot[t].x=1454,this._payoutWhiteWinSlot[t].y=650-55*t),this._payoutWhiteWinSlot[t].visible=!1,this._container.addChild(this._payoutWhiteWinSlot[t]);this._payoutWinPrice[0][0]=new PIXI.BitmapText("$0.5",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[0][1]=new PIXI.BitmapText("$0.25",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[0][2]=new PIXI.BitmapText("$0.50",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[0][3]=new PIXI.BitmapText("$1.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[0][4]=new PIXI.BitmapText("$2.50",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[0][5]=new PIXI.BitmapText("$10.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[0][6]=new PIXI.BitmapText("$20.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][0]=new PIXI.BitmapText("$1.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][1]=new PIXI.BitmapText("$0.50",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][2]=new PIXI.BitmapText("$1.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][3]=new PIXI.BitmapText("$2.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][4]=new PIXI.BitmapText("$5.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][5]=new PIXI.BitmapText("$20.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[1][6]=new PIXI.BitmapText("$40.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][0]=new PIXI.BitmapText("$2.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][1]=new PIXI.BitmapText("$1.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][2]=new PIXI.BitmapText("$2.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][3]=new PIXI.BitmapText("$4.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][4]=new PIXI.BitmapText("$10.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][5]=new PIXI.BitmapText("$40.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[2][6]=new PIXI.BitmapText("$80.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][0]=new PIXI.BitmapText("$4.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][1]=new PIXI.BitmapText("$2.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][2]=new PIXI.BitmapText("$4.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][3]=new PIXI.BitmapText("$8.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][4]=new PIXI.BitmapText("$20.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][5]=new PIXI.BitmapText("$80.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[3][6]=new PIXI.BitmapText("$160.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][0]=new PIXI.BitmapText("$6.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][1]=new PIXI.BitmapText("$3.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][2]=new PIXI.BitmapText("$6.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][3]=new PIXI.BitmapText("$12.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][4]=new PIXI.BitmapText("$30.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][5]=new PIXI.BitmapText("$120.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[4][6]=new PIXI.BitmapText("$240.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][0]=new PIXI.BitmapText("$10.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][1]=new PIXI.BitmapText("$5.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][2]=new PIXI.BitmapText("$10.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][3]=new PIXI.BitmapText("$20.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][4]=new PIXI.BitmapText("$50.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][5]=new PIXI.BitmapText("$200.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"}),this._payoutWinPrice[5][6]=new PIXI.BitmapText("$400.00",{fontName:"payoutWhiteWinPrice",fontSize:27,align:"center"});for(t=0;t<6;t++)for(s=0;s<7;s++)this._payoutWinPrice[t][s].anchor.set(1),xqu.config.IsMobile()?(this._payoutWinPrice[t][s].x=273,this._payoutWinPrice[t][s].y=1689-55*s):(this._payoutWinPrice[t][s].x=1648,this._payoutWinPrice[t][s].y=702-55*s),this._payoutWinPrice[t][s].visible=!1,this._container.addChild(this._payoutWinPrice[t][s]);this._wagerxs[0]=new PIXI.BitmapText("$0.25",{fontName:"setWagerFont",fontSize:27,align:"center"}),this._wagerxs[1]=new PIXI.BitmapText("$0.50",{fontName:"setWagerFont",fontSize:27,align:"center"}),this._wagerxs[2]=new PIXI.BitmapText("$1.00",{fontName:"setWagerFont",fontSize:27,align:"center"}),this._wagerxs[3]=new PIXI.BitmapText("$2.00",{fontName:"setWagerFont",fontSize:27,align:"center"}),this._wagerxs[4]=new PIXI.BitmapText("$3.00",{fontName:"setWagerFont",fontSize:27,align:"center"}),this._wagerxs[5]=new PIXI.BitmapText("$5.00",{fontName:"setWagerFont",fontSize:27,align:"center"});for(t=0;t<6;t++)this._wagerxs[t].anchor.set(.5),xqu.config.IsMobile()?(this._wagerxs[t].x=860,this._wagerxs[t].y=1270):(this._wagerxs[t].x=1274-this._xmX,this._wagerxs[t].y=1098),0<t&&(this._wagerxs[t].visible=!1),this._container.addChild(this._wagerxs[t]);this._totalWinText=new PIXI.BitmapText("",{fontName:"setWagerFont",fontSize:27,align:"center"}),this._totalWinText.anchor.set(.5),xqu.config.IsMobile()?(this._totalWinText.x=860,this._totalWinText.y=1400):(this._totalWinText.x=1274-this._xmX,this._totalWinText.y=1230),this._container.addChild(this._totalWinText);for(t=0;t<5;t++)this._container.addChild(this._xmbaixing[t]),this._xmduobeilvWin[t].visible=!1,this._container.addChild(this._xmduobeilvWin[t]);var o=892;xqu.config.IsMobile()&&(o=1062),this._msg[0]=new PIXI.BitmapText("Choose 10 Numbers",{fontName:"font_messageWindow",fontSize:80,align:"center"}),this._msg[0].anchor.set(.5),this._msg[0].x=this._msgX,this._msg[0].y=o,this._msg[0].visible=!0,this._msg[1]=new PIXI.BitmapText("Tap PLAY to Start",{fontName:"font_messageWindow",fontSize:80,align:"center"}),this._msg[1].anchor.set(.5),this._msg[1].x=this._msgX-700,this._msg[1].y=o,this._msg[1].visible=!0,this._msg[2]=new PIXI.BitmapText("Good Luck",{fontName:"font_messageWindow",fontSize:80,align:"center"}),this._msg[2].anchor.set(.5),this._msg[2].x=this._msgX-700,this._msg[2].y=o,this._msg[2].visible=!0,this._msg[3]=new PIXI.BitmapText("You Win!",{fontName:"font_messageWindow",fontSize:80,align:"center"}),this._msg[3].anchor.set(.5),this._msg[3].x=this._msgX-700,this._msg[3].y=o,this._msg[3].visible=!0,this._msg[4]=new PIXI.BitmapText("Try Again",{fontName:"font_messageWindow",fontSize:80,align:"center"}),this._msg[4].anchor.set(.5),this._msg[4].x=this._msgX-700,this._msg[4].y=o,this._msg[4].visible=!0;o=new PIXI.Graphics;this._container.addChild(o),o.beginFill(16740363),xqu.config.IsMobile()?o.drawRect(40,1070,775,470):o.drawRect(631,900,779,300),o.endFill(),this._msg[0].mask=o,this._msg[1].mask=o,this._msg[2].mask=o,this._msg[3].mask=o,this._msg[4].mask=o,this._container.addChild(this._msg[0]),this._container.addChild(this._msg[1]),this._container.addChild(this._msg[2]),this._container.addChild(this._msg[3]),this._container.addChild(this._msg[4]);for(t=0;t<5;t++)this._container.addChild(this._starOverBall[t]),this._playBtnEmitter[t]=new PlayButtonEmitter,this._container.addChild(this._playBtnEmitter[t].getTransform()),this._playBtnEmitter[t].visible=!1},InGameScene.prototype._onClickNumBtn=function(t){if(xqu.audio.playEffect("Snd_NumberUp"),this._clearAll.setEnable(!0),this._selectCount<10){this._selectCount++;for(var e=0;e<80;e++)t.target.index==e&&(t.target.setVisible(!1),t.target.setEnable(!1),this._unselectFont[e].visible=!1,this._selectBG[e].setEnable(!0),this._selectBG[e].setVisible(!0),this._selectFont[e].visible=!0)}10==this._selectCount?(this._autoPlayBtn.setEnable(!0),this._autoPick.setVisible(!1),this._autoPick.setEnable(!1),0<this._firstRun?(this._playAgainBtn.setVisible(!0),this._playAgainBtn.setEnable(!0)):(this._playBtn.setVisible(!0),this._playBtn.setEnable(!0)),this._againBtnEmitter.enable(),xqu.config.IsMobile()?this._againBtnEmitter.getTransform().position.y=1700:this._againBtnEmitter.getTransform().position.y=1150,this._ifOverRed||(10==this._selectCount&&(null!=this._playTween&&this._playTween.kill(),this._msg[1].x==this._msgX||(this._msg[1].x=this._msgX+700,this._chooseTween=TweenLite.to(this._msg[0],.3,{x:this._msgX-700}),this._playTween=TweenLite.to(this._msg[1],.3,{x:this._msgX}))),this._ifOverRed=!0,this._ifOverWhite=!1)):this._msg[0].text="Choose "+(10-this._selectCount).toString()+" Numbers";for(e=2;e<this._msg.length;e++)TweenLite.to(this._msg[e],.3,{x:this._msgX-700});this._selectNum=[];for(var i=0,e=0;e<this._selectFont.length;e++)1==this._selectFont[e].visible&&(this._selectNum[i++]=e)},InGameScene.prototype._onClickNumDownBtn=function(t){if(xqu.audio.playEffect("Snd_NumberDown"),this._autoPlayBtn.setEnable(!1),this._autoPick.setVisible(!0),this._autoPick.setEnable(!0),this._playBtn.setVisible(!1),this._playBtn.setEnable(!1),this._playAgainBtn.setVisible(!1),this._playAgainBtn.setEnable(!1),this._againBtnEmitter.getTransform().position.y=-700,this._againBtnEmitter.disable(),!this._ifOverWhite){null!=this._chooseTween&&this._chooseTween.kill(),this._msg[0].x=this._msgX+700,this._playTween=TweenLite.to(this._msg[1],.3,{x:this._msgX-700}),this._chooseTween=TweenLite.to(this._msg[0],.3,{x:this._msgX});for(var e=2;e<this._msg.length;e++)this._msg[e].x>=this._msgX&&(this._msg[e].x=this._msgX,TweenLite.to(this._msg[e],.2,{x:this._msgX-700}));this._ifOverRed=!1,this._ifOverWhite=!0}if(0<this._selectCount){this._selectCount--;for(e=0;e<80;e++)t.target.index==e&&(t.target.setVisible(!1),t.target.setEnable(!1),this._selectFont[e].visible=!1,this._unselectBG[e].setVisible(!0),this._unselectBG[e].setEnable(!0),this._unselectFont[e].visible=!0);0==this._selectCount&&this._clearAll.setEnable(!1)}this._msg[0].text="Choose "+(10-this._selectCount).toString()+" Numbers",this._selectNum=[];for(var i=0,e=0;e<this._selectFont.length;e++)1==this._selectFont[e].visible&&(this._selectNum[i++]=e)},InGameScene.prototype._onClickWagerIncBtn=function(t){xqu.audio.playEffect("Snd_WagerUp_Btn"),this._wagerUpdate("up")},InGameScene.prototype._onClickWagerDecBtn=function(t){xqu.audio.playEffect("Snd_WagerDown_Btn"),this._wagerUpdate("down")},InGameScene.prototype._wagerUpdate=function(t){if(ApiConnector.UpdateWin(0),this._totalWin=0,this._totalWinText.text="",this._autoTicker.stop(),this._autoStopBtn.setEnable(!1),this._autoStopBtn.setVisible(!1),0<this._firstRun){if(this._selectNumTrigger){for(var e=0;e<80;e++)this._unselectBG[e].setEnable(!0),this._unselectBG[e].setVisible(!0),this._unselectFont[e].visible=!0,this._selectBG[e].setEnable(!0),this._selectBG[e].setVisible(!1),this._selectFont[e].visible=!1,this._unselectBall[e].visible=!1,this._selectBall[e].visible=!1;for(e=0;e<this._selectNum.length;e++)this._unselectBG[this._selectNum[e]].setVisible(!1),this._unselectFont[this._selectNum[e]].visible=!1,this._selectBG[this._selectNum[e]].setVisible(!0),this._selectFont[this._selectNum[e]].visible=!0;this._selectNumTrigger=!1}this._selectNum=[];for(var i=0,e=0;e<this._selectFont.length;e++)1==this._selectFont[e].visible&&(this._selectNum[i++]=e)}for(e=0;e<this._jackpotWinSlot.length;e++)this._jackpotWinSlot[e].visible=!1,this._jackpotWinPrice[e].visible=!1,this._zuobox[e].visible=!1;-1<this._jackpotReset&&(this._jackpotWinNum[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotWinPrice[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotList[this._jackpotReset]=this._jackpotListOri[this._jackpotReset]),this._jackpotReset=-1;for(e=0;e<this._xmbaixing.length;e++)this._xmbaixing[e].visible=!1,this._xmduobeilvWin[e].visible=!1;if("up"==t){for(e=0;e<this._youbox.length;e++)this._youbox[e].visible=!1,this._payoutWhiteWinSlot[e].visible=!1;this._wagerDecBtn.setEnable(!0);for(e=0;e<6;e++){for(var r=0;r<this._payoutWinPrice[e].length;r++)this._payoutWinPrice[e][r].visible=!1;if(1==this._wagerxs[e].visible&&5!=e){this._wagerxs[e].visible=!1,this._wagerxs[e+1].visible=!0,e+1==5&&this._wagerIncBtn.setEnable(!1);break}}}else if("down"==t){this._wagerIncBtn.setEnable(!0);for(e=0;e<6;e++)if(1==this._wagerxs[e].visible&&0!=e){this._wagerxs[e].visible=!1,this._wagerxs[e-1].visible=!0,e-1==0&&this._wagerDecBtn.setEnable(!1);break}}for(e=0;e<6;e++)if(1==this._wagerxs[e].visible){for(r=0;r<6;r++)for(var n=0;n<7;n++)this._payoutWin[r][n].visible=!1;for(r=0;r<7;r++)this._payoutWin[e][r].visible=!0}for(e=0;e<6;e++)1==this._wagerxs[e].visible&&(0==e?(ApiConnector.UpdateWager(25),this._curWager=.25):1==e?(ApiConnector.UpdateWager(50),this._curWager=.5):2==e?(ApiConnector.UpdateWager(100),this._curWager=1):3==e?(ApiConnector.UpdateWager(200),this._curWager=2):4==e?(ApiConnector.UpdateWager(300),this._curWager=3):5==e&&(ApiConnector.UpdateWager(500),this._curWager=5))},InGameScene.prototype._onClickclearAllBtn=function(t){xqu.audio.playEffect("Snd_ClearAll_Btn"),ApiConnector.UpdateWin(0),-1<this._jackpotReset&&(this._jackpotWinNum[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotWinPrice[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotList[this._jackpotReset]=this._jackpotListOri[this._jackpotReset]),this._autoTicker.stop(),this._autoPlayBtn.setEnable(!1),this._autoStopBtn.setEnable(!1),this._autoStopBtn.setVisible(!1),this._jackpotReset=-1,this._ifJack=!1,this._totalWin=0,this._totalWinText.text="",this._selectNum=[],this._selectCount=0,this._autoPick.setEnable(!0),this._autoPick.setVisible(!0),this._playBtn.setEnable(!1),this._playBtn.setVisible(!1),this._clearAll.setEnable(!1),this._againBtnEmitter.disable(),this._againBtnEmitter.getTransform().position.y=-700,this._ifOverRed=!1,this._ifOverWhite=!1;for(var e=0;e<this._jackpotWinSlot.length;e++)this._jackpotWinSlot[e].visible=!1,this._jackpotWinPrice[e].visible=!1,this._zuobox[e].visible=!1;for(e=0;e<80;e++)this._unselectBG[e].setEnable(!0),this._unselectBG[e].setVisible(!0),this._unselectFont[e].visible=!0,this._selectBG[e].setEnable(!1),this._selectBG[e].setVisible(!1),this._selectFont[e].visible=!1,this._unselectBall[e].visible=!1,this._selectBall[e].visible=!1;if(this._msg[0].text="Choose 10 numbers",this._msg[1].x==this._msgX&&(this._msg[0].x=this._msgX+700,TweenLite.to(this._msg[0],.3,{x:this._msgX}),this._msg[1].x=this._msgX,TweenLite.to(this._msg[1],.3,{x:this._msgX-700})),this._msg[3].x>=this._msgX&&(this._msg[0].x=this._msgX+700,TweenLite.to(this._msg[0],.3,{x:this._msgX}),TweenLite.to(this._msg[3],.3,{x:this._msgX-700})),this._msg[4].x>=this._msgX&&(this._msg[0].x=this._msgX+700,TweenLite.to(this._msg[0],.3,{x:this._msgX}),TweenLite.to(this._msg[4],.3,{x:this._msgX-700})),null!=this._chooseTween&&this._msg[0].x!=this._msgX&&(this._chooseTween=null,this._msg[0].x=this._msgX+700,TweenLite.to(this._msg[0],.3,{x:this._msgX}),this._msg[1].x=this._msgX,TweenLite.to(this._msg[1],.3,{x:this._msgX-700})),0<this._firstRun){this._firstRun=0,this._resList=null,this._resList=[];for(e=0;e<20;e++)this._resList[e]=new Array;for(e=0;e<this._xmbaixing.length;e++)this._xmbaixing[e].visible=!1,this._xmduobeilvWin[e].visible=!1,this._starOverBall[e].scale.set(.1);for(e=0;e<this._payoutWhiteWinSlot.length;e++)this._payoutWhiteWinSlot[e].visible=!1,this._youbox[e].visible=!1;for(e=0;e<this._payoutWinPrice.length;e++)for(var i=0;i<this._payoutWinPrice[e].length;i++)this._payoutWinPrice[e][i].visible=!1;for(e=0;e<80;e++)this._fireBall[e].anchor.set(.5),this._fireBall[e].x=this._fireBallX+e%10*81+this._fireBallDis,this._fireBall[e].y=this._fireBallY+81*Math.floor(e/10)-this._fireBallDis,this._fireBall[e].visible=!1;this._playAgainBtn.setEnable(!1),this._playAgainBtn.setVisible(!1),this._autoPick.setEnable(!0),this._autoPick.setVisible(!0)}},InGameScene.prototype._onClickautoPickBtn=function(t){xqu.audio.playEffect("Snd_AutoPick_Btn"),ApiConnector.UpdateWin(0),this._autoPick.setEnable(!1),this._clearAll.setEnable(!1);for(var e=0;e<this._unselectBG.length;e++)this._unselectBG[e].setEnable(!1),this._unselectBG[e].setAlpha(1),this._selectBG[e].setEnable(!1),this._selectBG[e].setAlpha(1);for(var i=0,r=10-this._selectCount,n=[],e=0;e<80;e++)1==this._unselectFont[e].visible&&(n[i++]=e);for(var s=[],e=0;e<r;++e){var o=Math.floor(Math.random()*n.length);s.push(n[o]),n.splice(o,1)}for(e=0;e<s.length;e++)this._startAuto(s[e],this._unselectBG,this._unselectFont,this._selectBG,this._selectFont,e);this._selectCount=10,TweenMax.delayedCall(.55,function(){this._autoPlayBtn.setEnable(!0),this._againBtnEmitter.enable(),xqu.config.IsMobile()?this._againBtnEmitter.getTransform().position.y=1700:this._againBtnEmitter.getTransform().position.y=1150,this._autoPick.setVisible(!1),this._playBtn.setVisible(!0),this._playBtn.setEnable(!0),this._clearAll.setEnable(!0),this._ifOverRed=!1,this._ifOverWhite=!1;for(var t=0;t<this._unselectBG.length;t++)this._unselectBG[t].setEnable(!0),this._selectBG[t].setEnable(!0);this._msg[0].x=this._msgX,TweenLite.to(this._msg[0],.3,{x:this._msgX-700}),this._msg[1].x=this._msgX+700,TweenLite.to(this._msg[1],.3,{x:this._msgX})},null,this)},InGameScene.prototype._startAuto=function(t,e,i,r,n,s){TweenMax.delayedCall(.05*s,function(){e[t].setVisible(!1),e[t].setEnable(!1),i[t].visible=!1,r[t].setVisible(!0),r[t].setEnable(!0),n[t].visible=!0},null,self)},InGameScene.prototype._onClickRevealBtn=function(t){for(var e=0;e<this._playBtnEmitter.length;e++)this._playBtnEmitter[e]._setPos(1e3,500),this._playBtnEmitter[e].disable(),this._playBtnEmitter[e].cleanUp();for(e=0;e<this._showNumTime.length;e++)clearTimeout(this._showNumTime[e]);this._revealBtn.setEnable(!1),this._showResAfterClearTimeout(this._selectBall,this._unselectBall,this._fireBall,this._starOverBall,this._resList,this._unselectBG,this._selectBG,this._youbox,this._payoutWhiteWinSlot,this._payoutWinPrice,this._wagerxs,this._xmbaixing,this._xmduobeilvWin,this._wagerIncBtn,this._wagerDecBtn,this._playAgainBtn,this._clearAll,this._revealBtn,this._curBalance,this._totalWin,this._totalWinText,this._msg,this._msgX,this._jackpotList,this._jackpotListOri,this._ifJack,this._jackpotListUpdate,this._jackpotWinNum,this._jackpotWinPrice,this._jackpotPriceShow,this._sanweiUpdate,this._zuobox,this._jackpotWinSlot,this._againBtnEmitter,this._playBtnEmitter,this._jackpotReset,this._autoPlayBtn,this._autoStopBtn)},InGameScene.prototype._showResAfterClearTimeout=function(l,c,p,d,f,_,m,g,y,v,x,b,T,P,w,E,S,I,A,C,O,L,M,D,R,N,B,k,F,G,U,X,j,W,z,H,q,Y){setTimeout(function(){ApiConnector.UpdateBalance(100*A),B(R,D,N,x,U,k,F,G,X,j,H),TweenLite.to(L[2],.3,{x:M-700}),0<C?(xqu.audio.playEffect("Snd_YouWin"),L[3].x=M+700,TweenLite.to(L[3],.3,{x:M})):(xqu.audio.playEffect("Snd_TryAgain"),L[4].x=M+700,TweenLite.to(L[4],.3,{x:M}));var t=0;if(0<C){if(N)t=C;else for(var e=0;e<6;e++)1==x[e].visible&&(0==e?t=C/4:1==e?t=C/2:2==e?t=C:3==e?t=2*C:4==e?t=3*C:5==e&&(t=5*C));O.fontsize=t<1e3?27:22,ApiConnector.UpdateWin(t*=100),console.log("total win "+t);var i,r,n=t%100,s=Math.floor(t/100);999<s?(i=Math.floor(s/1e3),O.text=(r=s%1e3)<100&&10<=r?0==n?"$"+i.toString()+",0"+r.toString()+".00":0<n&&n<9?"$"+i.toString()+",0"+r.toString()+".0"+n.toString():"$"+i.toString()+",0"+r.toString()+"."+n.toString():r<10&&0<r?0==n?"$"+i.toString()+",00"+r.toString()+".00":0<n&&n<9?"$"+i.toString()+",00"+r.toString()+".0"+n.toString():"$"+i.toString()+",00"+r.toString()+"."+n.toString():r<1e3&&100<=r?0==n?"$"+i.toString()+","+r.toString()+".00":0<n&&n<9?"$"+i.toString()+","+r.toString()+".0"+n.toString():"$"+i.toString()+","+r.toString()+"."+n.toString():0==n?"$"+i.toString()+",000.00":0<n&&n<9?"$"+i.toString()+",000.0"+n.toString():"$"+i.toString()+",000."+n.toString()):O.text=0==n?"$"+s.toString()+".00":0<n&&n<9?"$"+s.toString()+".0"+n.toString():"$"+s.toString()+"."+n.toString()}for(e=0;e<p.length;e++)p[e].visible=!1;for(e=0;e<d.length;e++)d[e].visible=!1;for(e=0;e<z.length;e++)z[e].disable();for(e=0;e<f.length;e++)0==f[e][1]||1==f[e][1]?(_[f[e][0]].setVisible(!1),c[f[e][0]].visible=!0):2!=f[e][1]&&3!=f[e][1]||(m[f[e][0]].setVisible(!1),l[f[e][0]].visible=!0);for(var o=-1,e=0;e<f.length;e++)-1<f[e][2]&&f[e][2]>o&&(o=f[e][2]);for(e=0;e<g.length;e++)g[e].visible=!1;for(e=0;e<y.length;e++)y[e].visible=!1;for(e=0;e<v.length;e++)for(var a=0;a<v[e].length;a++)v[e][a].visible=!1;if(0==o){g[0].visible=!0,y[0].visible=!0;for(var h=0;h<x.length;h++)1==x[h].visible&&(v[h][0].visible=!0)}else if(4<o){g[o-4].visible=!0,y[o-4].visible=!0;for(h=0;h<x.length;h++)1==x[h].visible&&(v[h][o-4].visible=!0)}for(var u=0,e=0;e<f.length;e++)1!=f[e][1]&&3!=f[e][1]||u++;for(e=0;e<u;e++)b[e].visible=!0,T[e].visible=!0;I.setEnable(!1),I.setVisible(!1),E.setEnable(!0),E.setVisible(!0),Y.setEnable(!1),Y.getTransform().visible=!1,q.setEnable(!0),q.getTransform().visible=!0,W.enable(),xqu.config.IsMobile()?W.getTransform().position.y=1700:W.getTransform().position.y=1150,S.setEnable(!0),1!=x[0].visible&&w.setEnable(!0),1!=x[5].visible&&P.setEnable(!0)},1e3)},InGameScene.prototype._onClickplayAgainBtn=function(t){var e=this;xqu.audio.playEffect("Snd_Play_Btn"),ApiConnector.UpdateWin(0),-1<this._jackpotReset&&(this._jackpotWinNum[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotWinPrice[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotList[this._jackpotReset]=this._jackpotListOri[this._jackpotReset]),this._autoTicker.stop(),this._autoPlayBtn.setEnable(!1),this._jackpotReset=-1,this._ifJack=!1,this._msg[0].text="Choose 10 Numbers",this._againBtnEmitter.disable(),this._againBtnEmitter.getTransform().position.y=-700,this._firstRun++;for(var i=0;i<5;i++)this._starOverBall[i].scale.set(.1),this._starOverBall[i].visible=!1,this._starOverBall[i].x=1e3,this._starOverBall[i].y=500;for(i=0;i<this._playBtnEmitter.length;i++)this._playBtnEmitter[i]._setPos(1e3,500),this._playBtnEmitter[i].disable(),this._playBtnEmitter[i].cleanUp();for(i=0;i<this._jackpotWinSlot.length;i++)this._jackpotWinSlot[i].visible=!1,this._jackpotWinPrice[i].visible=!1,this._zuobox[i].visible=!1;if(this._msg[0].x>=this._msgX&&TweenLite.to(this._msg[0],.3,{x:this._msgX-700}),this._msg[1].x>=this._msgX&&TweenLite.to(this._msg[1],.3,{x:this._msgX-700}),this._msg[3].x>=this._msgX&&TweenLite.to(this._msg[3],.3,{x:this._msgX-700}),this._msg[4].x>=this._msgX&&TweenLite.to(this._msg[4],.3,{x:this._msgX-700}),this._msg[2].x=this._msgX+700,TweenLite.to(this._msg[2],.3,{x:this._msgX}),0<this._firstRun){this._totalWin=0,this._totalWinText.text="";for(i=0;i<6;i++)1==this._wagerxs[i].visible&&(0==i?this._curWager=.25:1==i?this._curWager=.5:2==i?this._curWager=1:3==i?this._curWager=2:4==i?this._curWager=3:5==i&&(this._curWager=5));this._curBalance-=this._curWager,ApiConnector.UpdateBalance(100*this._curBalance);for(i=0;i<80;i++)this._unselectBG[i].setEnable(!0),this._unselectBG[i].setVisible(!0),this._unselectFont[i].visible=!0,this._selectBG[i].setEnable(!1),this._selectBG[i].setVisible(!1),this._selectFont[i].visible=!1,this._unselectBall[i].visible=!1,this._selectBall[i].visible=!1;for(i=0;i<this._selectNum.length;i++)this._unselectBG[this._selectNum[i]].setVisible(!1),this._unselectFont[this._selectNum[i]].visible=!1,this._selectBG[this._selectNum[i]].setVisible(!0),this._selectBG[this._selectNum[i]].setAlpha(1),this._selectFont[this._selectNum[i]].visible=!0;this._resList=null,this._resList=[];for(i=0;i<20;i++)this._resList[i]=new Array;for(i=0;i<this._xmbaixing.length;i++)this._xmbaixing[i].visible=!1,this._xmduobeilvWin[i].visible=!1,this._starOverBall[i].scale.set(.1);for(i=0;i<this._payoutWhiteWinSlot.length;i++)this._payoutWhiteWinSlot[i].visible=!1,this._youbox[i].visible=!1;for(i=0;i<this._payoutWinPrice.length;i++)for(var r=0;r<this._payoutWinPrice[i].length;r++)this._payoutWinPrice[i][r].visible=!1;for(i=0;i<80;i++)this._fireBall[i].anchor.set(.5),this._fireBall[i].x=this._fireBallX+i%10*81+this._fireBallDis,this._fireBall[i].y=this._fireBallY+81*Math.floor(i/10)-this._fireBallDis,this._fireBall[i].visible=!1;this._playAgainBtn.setEnable(!1),this._revealBtn.setEnable(!1),this._revealBtn.setVisible(!1)}for(i=0;i<this._unselectBG.length;i++)this._unselectBG[i].setEnable(!1),this._unselectBG[i].setAlpha(1),this._selectBG[i].setEnable(!1),this._selectBG[i].setAlpha(1);TweenMax.delayedCall(2.5,function(){this._playBtn.setVisible(!1),this._playAgainBtn.setVisible(!1),this._revealBtn.setEnable(!0),this._revealBtn.setVisible(!0),e._startMainGame()},null,e),this._wagerIncBtn.setEnable(!1),this._wagerDecBtn.setEnable(!1),this._clearAll.setEnable(!1),this._playBtn.setEnable(!1)},InGameScene.prototype._onClickHelpBtn=function(t){xqu.audio.playEffect("Snd_Utility_Btn"),ApiConnector.ShowHelpScreen()},InGameScene.prototype._createAutoPlayLayer=function(){this._autoPlayLayer=new AutoPlayLayer,this._container.addChild(this._autoPlayLayer.getTransform()),this._autoPlayLayer.addCallback_startPlay(this._autoPlay_cb_startMainGame,this),this._autoPlayLayer.addCallback_finishAllPlays(this._autoPlay_cb_finishAllPlays,this)},InGameScene.prototype._setstoptimer=function(t,e,i){t.add(function(t){1==e.getTransform().alpha&&1==e.getTransform().visible&&(i.setEnable(!0),i.getTransform().visible=!0)}),t.start()},InGameScene.prototype._autoPlay_cb_startMainGame=function(t){if(this._autoLeftText.text=(t+1).toString(),this._ifAutoPlay=!0,this._autoLeftCount=t,this._autoPlayBtn.setEnable(!1),this._autoPlayBtn.setVisible(!1),this._autoStopBtn.setEnable(!0),this._autoStopBtn.setVisible(!0),0<this._firstRun){-1<this._jackpotReset&&(this._jackpotWinNum[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotWinPrice[this._jackpotReset].text=this._sanweiUpdate(this._jackpotListOri[this._jackpotReset]),this._jackpotList[this._jackpotReset]=this._jackpotListOri[this._jackpotReset]),this._jackpotReset=-1,this._ifJack=!1,this._msg[0].text="Choose 10 Numbers",this._againBtnEmitter.disable(),this._againBtnEmitter.getTransform().position.y=-700;for(var e=0;e<this._jackpotWinSlot.length;e++)this._jackpotWinSlot[e].visible=!1,this._jackpotWinPrice[e].visible=!1,this._zuobox[e].visible=!1;if(this._msg[0].x>=this._msgX&&TweenLite.to(this._msg[0],.3,{x:this._msgX-700}),this._msg[1].x>=this._msgX&&TweenLite.to(this._msg[1],.3,{x:this._msgX-700}),this._msg[3].x>=this._msgX&&TweenLite.to(this._msg[3],.3,{x:this._msgX-700}),this._msg[4].x>=this._msgX&&TweenLite.to(this._msg[4],.3,{x:this._msgX-700}),this._msg[2].x=this._msgX+700,TweenLite.to(this._msg[2],.3,{x:this._msgX}),0<this._firstRun){this._totalWin=0,this._totalWinText.text="";for(e=0;e<6;e++)1==this._wagerxs[e].visible&&(0==e?this._curWager=.25:1==e?this._curWager=.5:2==e?this._curWager=1:3==e?this._curWager=2:4==e?this._curWager=3:5==e&&(this._curWager=5));this._curBalance-=this._curWager,ApiConnector.UpdateBalance(100*this._curBalance);for(e=0;e<80;e++)this._unselectBG[e].setEnable(!0),this._unselectBG[e].setVisible(!0),this._unselectFont[e].visible=!0,this._selectBG[e].setEnable(!1),this._selectBG[e].setVisible(!1),this._selectFont[e].visible=!1,this._unselectBall[e].visible=!1,this._selectBall[e].visible=!1;for(e=0;e<this._selectNum.length;e++)this._unselectBG[this._selectNum[e]].setVisible(!1),this._unselectFont[this._selectNum[e]].visible=!1,this._selectBG[this._selectNum[e]].setVisible(!0),this._selectFont[this._selectNum[e]].visible=!0;this._resList=null,this._resList=[];for(e=0;e<20;e++)this._resList[e]=new Array;for(e=0;e<this._xmbaixing.length;e++)this._xmbaixing[e].visible=!1,this._xmduobeilvWin[e].visible=!1,this._starOverBall[e].scale.set(.1);for(e=0;e<this._payoutWhiteWinSlot.length;e++)this._payoutWhiteWinSlot[e].visible=!1,this._youbox[e].visible=!1;for(e=0;e<this._payoutWinPrice.length;e++)for(var i=0;i<this._payoutWinPrice[e].length;i++)this._payoutWinPrice[e][i].visible=!1;for(e=0;e<80;e++)this._fireBall[e].anchor.set(.5),this._fireBall[e].x=this._fireBallX+e%10*81+this._fireBallDis,this._fireBall[e].y=this._fireBallY+81*Math.floor(e/10)-this._fireBallDis,this._fireBall[e].visible=!1;this._playAgainBtn.setEnable(!1),this._playAgainBtn.setVisible(!1),this._revealBtn.setEnable(!0),this._revealBtn.setVisible(!0)}this._startMainGame(),this._wagerIncBtn.setEnable(!1),this._wagerDecBtn.setEnable(!1),this._clearAll.setEnable(!1),this._playBtn.setEnable(!1),this._playBtn.setVisible(!1),this._revealBtn.setEnable(!1),this._revealBtn.setVisible(!0)}else{this._againBtnEmitter.disable(),this._againBtnEmitter.getTransform().position.y=-700,this._msg[0].text="Choose 10 Numbers",this._ifJack=!1,TweenLite.to(this._msg[1],.3,{x:this._msgX-700}),this._msg[2].x=this._msgX+700,TweenLite.to(this._msg[2],.3,{x:this._msgX});for(e=0;e<6;e++)1==this._wagerxs[e].visible&&(0==e?this._curWager=.25:1==e?this._curWager=.5:2==e?this._curWager=1:3==e?this._curWager=2:4==e?this._curWager=3:5==e&&(this._curWager=5));this._curBalance-=this._curWager,ApiConnector.UpdateBalance(100*this._curBalance);for(var r=0,e=0;e<80;e++)1==this._selectFont[e].visible&&(this._selectNum[r++]=e);console.log("select number is "+this._selectNum),this._firstRun++,this._startMainGame(),this._wagerIncBtn.setEnable(!1),this._wagerDecBtn.setEnable(!1),this._clearAll.setEnable(!1),this._playBtn.setEnable(!1),this._playBtn.setVisible(!1),this._revealBtn.setEnable(!1),this._revealBtn.setVisible(!0)}},InGameScene.prototype._autoPlay_cb_finishAllPlays=function(){this._ifAutoPlay=!1,this._playAgainBtn.setEnable(!0),this._clearAll.setEnable(!0),this._autoPlayLayer._confirmBtn.setEnable(!0),this._autoStopBtn.setEnable(!1),this._autoStopBtn.getTransform().visible=!1,this._autoPlayBtn.setEnable(!0),this._autoPlayBtn.getTransform().visible=!0,this._autoLeftText.text="0",1!=this._wagerxs[0].visible&&this._wagerDecBtn.setEnable(!0),1!=this._wagerxs[5].visible&&this._wagerIncBtn.setEnable(!0)},InGameScene.prototype._onClickAutoPlayBtn=function(t){xqu.audio.playEffect("Snd_Utility_Btn"),this._autoTicker.stop(),this._autoPlayLayer.getTransform().visible=!0},InGameScene.prototype._onClickAutoStopBtn=function(t){xqu.audio.playEffect("Snd_AutoStop_Btn"),this._autoPlayLayer.forceStop(),this._ifAutoPlay=!1,this._autoStopBtn.setEnable(!1),this._autoLeftText.text="1",this._setstoptimer(this._autoTicker,this._playAgainBtn,this._autoPlayBtn)},InGameScene.prototype._onClickPlayBtn=function(t){xqu.audio.playEffect("Snd_Play_Btn"),ApiConnector.UpdateWin(0);var e=this;if(this._playBtnEnabled){this._autoPlayBtn.setEnable(!1),this._againBtnEmitter.disable(),this._againBtnEmitter.getTransform().position.y=-700,this._msg[0].text="Choose 10 Numbers",this._ifJack=!1,TweenLite.to(this._msg[1],.3,{x:this._msgX-700}),this._msg[2].x=this._msgX+700,TweenLite.to(this._msg[2],.3,{x:this._msgX});for(var i=0;i<5;i++)this._starOverBall[i].scale.set(.1),this._starOverBall[i].visible=!1,this._starOverBall[i].x=1e3,this._starOverBall[i].y=500;for(i=0;i<this._playBtnEmitter.length;i++)this._playBtnEmitter[i]._setPos(1e3,500),this._playBtnEmitter[i].disable(),this._playBtnEmitter[i].cleanUp();for(i=0;i<6;i++)1==this._wagerxs[i].visible&&(0==i?this._curWager=.25:1==i?this._curWager=.5:2==i?this._curWager=1:3==i?this._curWager=2:4==i?this._curWager=3:5==i&&(this._curWager=5));this._curBalance-=this._curWager,ApiConnector.UpdateBalance(100*this._curBalance);for(var r=0,i=0;i<80;i++)1==this._selectFont[i].visible&&(this._selectNum[r++]=i);console.log("select number is "+this._selectNum),this._firstRun++;for(i=0;i<this._unselectBG.length;i++)this._unselectBG[i].setEnable(!1),this._unselectBG[i].setAlpha(1),this._selectBG[i].setEnable(!1),this._selectBG[i].setAlpha(1);TweenMax.delayedCall(2.5,function(){this._playBtn.setVisible(!1),this._revealBtn.setEnable(!0),this._revealBtn.setVisible(!0),e._startMainGame()},null,e),this._wagerIncBtn.setEnable(!1),this._wagerDecBtn.setEnable(!1),this._clearAll.setEnable(!1),this._playBtn.setEnable(!1)}},InGameScene.prototype._firestartmove=function(t,e){setTimeout(function(){e.enable()},100)},InGameScene.prototype._startMainGame=function(t){xqu.log("InGameScene: game start"),this._selectNumTrigger=!0;for(var e=0;e<this._wagerxs.length;e++)1==this._wagerxs[e].visible&&(this._payoutWinPrice[e][0].visible=!0,this._payoutWhiteWinSlot[0].visible=!0,this._youbox[0].visible=!0);for(e=0;e<this._unselectFont.length;e++)this._unselectBG[e].setEnable(!1),this._unselectBG[e].setAlpha(1),this._selectBG[e].setEnable(!1),this._selectBG[e].setAlpha(1);this._generateRes(),this._startTimer(this._revealBtn,this._playAgainBtn,this._clearAll,this._wagerxs,this._wagerIncBtn,this._wagerDecBtn,this._jackpotListUpdate,this._jackpotListOri,this._jackpotList,this._ifJack,this._sanweiUpdate,this._jackpotWinNum,this._jackpotWinPrice,this._jackpotPriceShow,this._zuobox,this._jackpotWinSlot,this._playBtnEmitter,this._firestartmove,this._staremitter,this._againBtnEmitter,this._jackpotReset)},InGameScene.prototype._generateRes=function(){var t,e,i;if((t=Math.floor(10*Math.random()))<5?(t=Math.floor(28*Math.random()),e=this._winPriceTier[t][0],i=this._winPriceTier[t][1],this._totalWin=this._winPriceTier[t][2]):(e=Math.floor(4*Math.random())+1,i=Math.floor(5*Math.random()),this._totalWin=0),1e3==this._totalWin){this._ifJack=!0;for(var r=0;r<this._wagerxs.length;r++)if(1==this._wagerxs[r].visible){this._totalWin=this._jackpotList[r],this._jackpotReset=r;break}this._curBalance+=this._totalWin}else for(r=0;r<6;r++)1==this._wagerxs[r].visible&&(0==r?this._curBalance+=this._totalWin/4:1==r?this._curBalance+=this._totalWin/2:2==r?this._curBalance+=this._totalWin:3==r?this._curBalance+=2*this._totalWin:4==r?this._curBalance+=3*this._totalWin:5==r&&(this._curBalance+=5*this._totalWin));console.log("match count is "+e),console.log("match star is "+i),console.log("total win is "+this._totalWin);for(var n=[],r=0;r<10;r++)n[r]=this._selectNum[r];for(var s=[],r=0;r<n.length;r++)s[r]=n[r];n.sort(()=>Math.random()-.5);for(var o=0,a=!1;o<10;){for(var h=Math.floor(80*Math.random()),r=0;r<n.length;r++)h==n[r]&&(a=!0);a||(n.push(h),o++),a=!1}for(var o=e,u=[];o<10;){for(h=Math.floor(80*Math.random()),r=0;r<n.length;r++)if(h==n[r]){a=!0;break}if(!a){for(var l=0;l<u.length;l++)if(h==u[l]){a=!0;break}a||(u.push(h),o++)}a=!1}n.splice(0,10-e);for(r=0;r<u.length;r++)n.push(u[r]);n.sort(()=>Math.random()-.5);for(var c=[],p=0,d=!1;p<i;){for(var f=Math.floor(20*Math.random()),l=0;l<c.length;l++)if(c[l]==f){d=!0;break}d||(c.push(f),p++),d=!1}for(var _=!1,m=!1,r=0;r<n.length;r++){for(l=0;l<s.length;l++)if(n[r]==s[l]){_=!0;break}if(this._resList[r][0]=n[r],_){for(var g=0;g<c.length;g++)if(r==c[g]){m=!0;break}this._resList[r][1]=m?3:2}else{for(g=0;g<c.length;g++)if(r==c[g]){m=!0;break}this._resList[r][1]=m?1:0}_=m=!1}for(r=0;r<this._resList.length;r++)this._resList[r][2]=-1;var y=0;this._resList[0][2]=y;for(r=0;r<this._resList.length;r++)for(l=0;l<s.length;l++)this._resList[r][0]==s[l]&&(this._resList[r][2]=++y);for(var v=0,r=0;r<20;r++)1!=this._resList[r][1]&&3!=this._resList[r][1]||(this._starOverBall[v].x=this._unselectFont[this._resList[r][0]].x+25,this._starOverBall[v].y=this._unselectFont[this._resList[r][0]].y-10,v++)},InGameScene.prototype._startTimer=function(t,e,i,r,n,s,o,a,h,u,l,c,p,d,f,_,m,g,y,v,x){for(var b=0;b<20;b++)this._startAnim(b,300,this._resList,this._fireBall,this._showNumTime,this._fireBallTween,this._unselectFont,this._unselectBG,this._selectBG,this._unselectBall,this._selectBall,this._starOverBall,this._starOverBallPos,this._xmbaixing,this._xmduobeilvWin,this._youbox,this._payoutWhiteWinSlot,this._payoutWinPrice,this._wagerxs,this._revealBtn,this._playAgainBtn,this._clearAll,this._wagerIncBtn,this._wagerDecBtn,this._curBalance,this._totalWin,this._totalWinText,this._msg,this._msgX,o,a,h,u,l,c,p,d,f,_,m,g,y,v,x,this._ifAutoPlay,this._autoPlayLayer,this._autoPlayBtn,this._autoStopBtn,this._autoLeftCount)},InGameScene.prototype._startAnim=function(s,t,o,a,e,i,h,u,l,c,p,d,f,_,m,g,y,v,x,b,T,P,w,E,S,I,A,C,O,L,M,D,R,N,B,k,F,G,U,X,r,n,j,W,z,H,q,Y,V){e[s]=setTimeout(function(){a[o[s][0]].visible=!0,i[s]=TweenLite.to(a[o[s][0]],.5,{x:h[o[s][0]].x+48,y:h[o[s][0]].y-28}),xqu.audio.playEffect("Snd_Meteor"),setTimeout(function(){if(a[o[s][0]].visible=!1,0==o[s][1]||1==o[s][1]?(u[o[s][0]].setVisible(!1),c[o[s][0]].visible=!0):2!=o[s][1]&&3!=o[s][1]||(l[o[s][0]].setVisible(!1),p[o[s][0]].visible=!0,xqu.audio.playEffect("Snd_SelectBall")),-1<o[s][2]){for(var t=0;t<g.length;t++){g[t].visible=!1,y[t].visible=!1;for(var e=0;e<6;e++)v[e][t].visible=!1}if(0==o[s][2]){g[0].visible=!0,y[0].visible=!0;for(var i=0;i<x.length;i++)1==x[i].visible&&(v[i][0].visible=!0)}else if(4<o[s][2]){g[o[s][2]-4].visible=!0,y[o[s][2]-4].visible=!0;for(i=0;i<x.length;i++)1==x[i].visible&&(v[i][o[s][2]-4].visible=!0)}}if(1==o[s][1]||3==o[s][1])for(var r=-1,n=0;n<5;n++)if(d[n].x==h[o[s][0]].x+25&&d[n].y==h[o[s][0]].y-10){xqu.audio.playEffect("Snd_YellowStar_Show"),d[n].visible=!0,X[n]._setPos(d[n].x,d[n].y),r=n,TweenLite.to(d[n].scale,.5,{x:1.1,y:1.1});break}-1<r?(X[r].animHide(0,0,X[r]._pivotX,X[r]._pivotY,.1),setTimeout(function(){xqu.audio.playEffect("Snd_YellowStar_Move"),TweenLite.to(d[r],.5,{x:f[r][0],y:f[r][1]}),X[r].anim(X[r]._pivotX,X[r]._pivotY,f[r][0],f[r][1],.5),setTimeout(function(){d[r].visible=!1,X[r].disable(),_[r].visible=!0,m[r].visible=!0,r<4?xqu.audio.playEffect("Snd_Bonus1234"):xqu.audio.playEffect("Snd_Bonus5"),19==s&&(b.setEnable(!1),setTimeout(function(){0<I?(xqu.audio.playEffect("Snd_YouWin"),C[3].x=O+700,TweenLite.to(C[3],.3,{x:O})):(xqu.audio.playEffect("Snd_TryAgain"),C[4].x=O+700,TweenLite.to(C[4],.3,{x:O})),TweenLite.to(C[2],.3,{x:O-700}),ApiConnector.UpdateBalance(100*S),L(M,D,R,x,N,B,k,F,G,U,W),j.enable(),xqu.config.IsMobile()?j.getTransform().position.y=1700:j.getTransform().position.y=1150,z?(T.setEnable(!1),T.setVisible(!0),P.setEnable(!1),E.setEnable(!1),w.setEnable(!1)):(T.setEnable(!0),T.setVisible(!0),P.setEnable(!0),Y.setEnable(!1),Y.getTransform().visible=!1,q.setEnable(!0),q.getTransform().visible=!0,1!=x[0].visible&&E.setEnable(!0),1!=x[5].visible&&w.setEnable(!0)),b.setEnable(!1),b.setVisible(!1);var t=0;if(0<I){if(R)t=I;else for(var e=0;e<6;e++)1==x[e].visible&&(0==e?t=I/4:1==e?t=I/2:2==e?t=I:3==e?t=2*I:4==e?t=3*I:5==e&&(t=5*I));console.log("this is jackpot "+R+"  and totalmultiwager = "+t),z&&setTimeout(function(){H.finishPlay(S,t)},1e3),A.fontsize=t<1e3?27:22,t*=100,console.log("total win "+t),ApiConnector.UpdateWin(t);var i,r,n=t%100,s=Math.floor(t/100);999<s?(i=Math.floor(s/1e3),A.text=(r=s%1e3)<100&&10<=r?0==n?"$"+i.toString()+",0"+r.toString()+".00":0<n&&n<9?"$"+i.toString()+",0"+r.toString()+".0"+n.toString():"$"+i.toString()+",0"+r.toString()+"."+n.toString():r<10&&0<r?0==n?"$"+i.toString()+",00"+r.toString()+".00":0<n&&n<9?"$"+i.toString()+",00"+r.toString()+".0"+n.toString():"$"+i.toString()+",00"+r.toString()+"."+n.toString():r<1e3&&100<=r?0==n?"$"+i.toString()+","+r.toString()+".00":0<n&&n<9?"$"+i.toString()+","+r.toString()+".0"+n.toString():"$"+i.toString()+","+r.toString()+"."+n.toString():0==n?"$"+i.toString()+",000.00":0<n&&n<9?"$"+i.toString()+",000.0"+n.toString():"$"+i.toString()+",000."+n.toString()):A.text=0==n?"$"+s.toString()+".00":0<n&&n<9?"$"+s.toString()+".0"+n.toString():"$"+s.toString()+"."+n.toString()}else z&&setTimeout(function(){H.finishPlay(S,0)},1e3)},1e3))},500)},500)):19==s&&(b.setEnable(!1),setTimeout(function(){TweenLite.to(C[2],.3,{x:O-700}),0<I?(xqu.audio.playEffect("Snd_YouWin"),C[3].x=O+700,TweenLite.to(C[3],.3,{x:O})):(xqu.audio.playEffect("Snd_TryAgain"),C[4].x=O+700,TweenLite.to(C[4],.3,{x:O})),console.log("curbalance "+S),ApiConnector.UpdateBalance(100*S),L(M,D,R,x,N,B,k,F,G,U,W),b.setEnable(!1),b.setVisible(!1),z?(T.setEnable(!1),T.setVisible(!0),P.setEnable(!1),E.setEnable(!1),w.setEnable(!1)):(T.setEnable(!0),T.setVisible(!0),P.setEnable(!0),Y.setEnable(!1),Y.getTransform().visible=!1,q.setEnable(!0),q.getTransform().visible=!0,1!=x[0].visible&&E.setEnable(!0),1!=x[5].visible&&w.setEnable(!0)),j.enable(),xqu.config.IsMobile()?j.getTransform().position.y=1700:j.getTransform().position.y=1150;var t=0;if(0<I){if(R)t=I;else for(var e=0;e<6;e++)1==x[e].visible&&(0==e?t=I/4:1==e?t=I/2:2==e?t=I:3==e?t=2*I:4==e?t=3*I:5==e&&(t=5*I));setTimeout(function(){H.finishPlay(S,t)},1e3),A.fontsize=t<1e3?27:22,t*=100,ApiConnector.UpdateWin(t);var i,r,n=t%100,s=Math.floor(t/100);999<s?(i=Math.floor(s/1e3),A.text=(r=s%1e3)<100&&10<=r?0==n?"$"+i.toString()+",0"+r.toString()+".00":0<n&&n<9?"$"+i.toString()+",0"+r.toString()+".0"+n.toString():"$"+i.toString()+",0"+r.toString()+"."+n.toString():r<10&&0<r?0==n?"$"+i.toString()+",00"+r.toString()+".00":0<n&&n<9?"$"+i.toString()+",00"+r.toString()+".0"+n.toString():"$"+i.toString()+",00"+r.toString()+"."+n.toString():r<1e3&&100<=r?0==n?"$"+i.toString()+","+r.toString()+".00":0<n&&n<9?"$"+i.toString()+","+r.toString()+".0"+n.toString():"$"+i.toString()+","+r.toString()+"."+n.toString():0==n?"$"+i.toString()+",000.00":0<n&&n<9?"$"+i.toString()+",000.0"+n.toString():"$"+i.toString()+",000."+n.toString()):A.text=0==n?"$"+s.toString()+".00":0<n&&n<9?"$"+s.toString()+".0"+n.toString():"$"+s.toString()+"."+n.toString()}else z&&setTimeout(function(){H.finishPlay(S,0)},1e3)},1e3))},500)},s*t)},InGameScene.prototype._jackpotListUpdate=function(t,e,i,r,n,s,o,a,h,u,l){if(i){for(var c=-1,p=0;p<r.length;p++)if(1==r[p].visible){c=p;break}console.log("jackpot match "+c);for(p=0;p<e.length;p++)0==p&&p!=c?(d=Math.floor(10*Math.random()),e[0]+=d<5?Math.floor(10*Math.random())+10.25:Math.floor(10*Math.random())+10.5):1==p&&p!=c?(d=Math.floor(10*Math.random()),e[1]+=d<5?Math.floor(20*Math.random())+20.5:Math.floor(20*Math.random())+20):2==p&&p!=c?e[2]+=Math.floor(50*Math.random())+50:3==p&&p!=c?e[3]+=Math.floor(100*Math.random())+100:4==p&&p!=c?e[4]+=Math.floor(100*Math.random())+200:5==p&&p!=c&&(e[5]+=Math.floor(200*Math.random())+300)}else{var d=Math.floor(10*Math.random());e[0]+=d<5?Math.floor(10*Math.random())+10.25:Math.floor(10*Math.random())+10.5,d=Math.floor(10*Math.random()),e[1]+=d<5?Math.floor(20*Math.random())+20.5:Math.floor(20*Math.random())+20,e[2]+=Math.floor(50*Math.random())+50,e[3]+=Math.floor(100*Math.random())+100,e[4]+=Math.floor(100*Math.random())+200,e[5]+=Math.floor(200*Math.random())+300}a(e,s,o,n,i,r,h,u)},InGameScene.prototype._jackpotPriceShow=function(t,e,i,r,n,s,o,a){for(var h=0;h<e.length;h++)e[h].text=r(t[h]),i[h].text=r(t[h]);if(n)for(h=0;h<s.length;h++)1==s[h].visible&&(i[h].visible=!0,o[h].visible=!0,a[h].visible=!0)},InGameScene.prototype._sanweiUpdate=function(t){var e=t,i=(e*=100)%100,r=Math.floor(e/100);return 999<r?(t=Math.floor(r/1e3),(e=r%1e3)<100&&10<=e?0==i?"$"+t.toString()+",0"+e.toString()+".00":0<i&&i<9?"$"+t.toString()+",0"+e.toString()+".0"+i.toString():"$"+t.toString()+",0"+e.toString()+"."+i.toString():e<10&&0<e?0==i?"$"+t.toString()+",00"+e.toString()+".00":0<i&&i<9?"$"+t.toString()+",00"+e.toString()+".0"+i.toString():"$"+t.toString()+",00"+e.toString()+"."+i.toString():e<1e3&&100<=e?0==i?"$"+t.toString()+","+e.toString()+".00":0<i&&i<9?"$"+t.toString()+","+e.toString()+".0"+i.toString():"$"+t.toString()+","+e.toString()+"."+i.toString():0==i?"$"+t.toString()+",000.00":0<i&&i<9?"$"+t.toString()+",000.0"+i.toString():"$"+t.toString()+",000."+i.toString()):0==i?"$"+r.toString()+".00":0<i&&i<9?"$"+r.toString()+".0"+i.toString():"$"+r.toString()+"."+i.toString()},InGameScene.prototype._starRunning=function(e,t,i){var r=t+.2,n=t;setTimeout(function(){setInterval(function t(){return TweenLite.to(e.scale,.5,{x:r,y:r,onComplete(){TweenLite.to(e.scale,.5,{x:n,y:n})}}),t}(),1010)},i)},PlayButtonEmitter.prototype._ctor=function(){this._pivot=new Sprite(TextureCache["star_forSlot.png"]),this._pivot.anchor.set(.5),this._pivot.scale.set(2),this._pivot.visible=!1,this._spriteContainer.addChild(this._pivot),this.createEmitter(),PIXI.Ticker.shared.add(this._update,this)},PlayButtonEmitter.prototype._setPos=function(t,e){this._pivotX=t,this._pivotY=e},PlayButtonEmitter.prototype._getPos=function(t,e){},PlayButtonEmitter.prototype._showStar=function(){this._pivot.visible=!0},PlayButtonEmitter.prototype._hideStar=function(){this._pivot.visible=!1},PlayButtonEmitter.prototype.animHide=function(t,e,i,r,n){var s=this;this._pivot.x=t,this._pivot.y=e,this._pivot.visible=!1,TweenMax.to(this._pivot,n,{x:i,y:r,onUpdate:function(){s.updatePos(s._pivot.position.x,s._pivot.position.y)},onComplete:function(){s._emitter.emit=!1}})},PlayButtonEmitter.prototype.anim=function(t,e,i,r,n){var s=this;this._pivot.x=t,this._pivot.y=e,this.cleanUp(),this._emitter.emit=!0,TweenMax.to(this._pivot,n,{x:i,y:r,onUpdate:function(){s.updatePos(s._pivot.position.x,s._pivot.position.y)},onComplete:function(){s._emitter.emit=!1}})},PlayButtonEmitter.prototype.createEmitter=function(){this._emitter=new PIXI.particles.Emitter(this._emitterContainer,[PIXI.Texture.from("ingame_play_button_emitter.png")],PlayButtonEmitter.emitterConfig),this._emitter.emit=!1},PlayButtonEmitter.prototype.cleanUp=function(){this._emitter.emit=!1,this._emitter.cleanup()},PlayButtonEmitter.prototype.enable=function(){this._emitter.emit=!0},PlayButtonEmitter.prototype.disable=function(){this._emitter.emit=!1},PlayButtonEmitter.prototype.getTransform=function(){return this._container},PlayButtonEmitter.prototype.updatePos=function(t,e){this._emitter.updateSpawnPos(t,e)},PlayButtonEmitter.prototype._update=function(t){this._updateEmitter(t/60*1e3)},PlayButtonEmitter.prototype._updateEmitter=function(t){this._emitter.update(.001*t)},PlayButtonEmitter.emitterConfig={autoUpdate:!0,alpha:{start:.8,end:.15},scale:{start:1,end:.2,minimumScaleMultiplier:1},color:{start:"#f5ff3d",end:"#f5ff3d"},speed:{start:0,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:0},noRotation:!0,rotationSpeed:{min:0,max:0},lifetime:{min:.1,max:.2},blendMode:"normal",frequency:8e-4,emitterLifetime:-1,maxParticles:500,pos:{x:0,y:0},addAtBack:!1,spawnType:"point"},AgainButtonEmitter.prototype._ctor=function(){this.createEmitter(),PIXI.Ticker.shared.add(this._update,this)},AgainButtonEmitter.prototype.createEmitter=function(){this._emitter=new PIXI.particles.Emitter(this._container,[PIXI.Texture.from("ingame_play_button_emitter.png")],AgainButtonEmitter.emitterConfig),this._emitter.emit=!0},AgainButtonEmitter.prototype.cleanUp=function(){this._emitter.emit=!1,this._emitter.cleanup()},AgainButtonEmitter.prototype.enable=function(){this._emitter.emit=!0},AgainButtonEmitter.prototype.disable=function(){this._emitter.emit=!1},AgainButtonEmitter.prototype.getTransform=function(){return this._container},AgainButtonEmitter.prototype.updatePos=function(t,e){this._emitter.updateSpawnPos(t,e)},AgainButtonEmitter.prototype._update=function(t){this._updateEmitter(t/60*1e3)},AgainButtonEmitter.prototype._updateEmitter=function(t){this._emitter.update(.001*t)},AgainButtonEmitter.emitterConfig={alpha:{start:1,end:0},scale:{start:5,end:5,minimumScaleMultiplier:1},color:{start:"#f8e3ff",end:"#ff8b3d"},speed:{start:200,end:50,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.2,max:.8},blendMode:"normal",frequency:.001,emitterLifetime:-1,maxParticles:100,pos:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:0}},NumberBoard.prototype.getWidth=function(){},NumberBoard.prototype.getTransform=function(){return this._container},NumberBoard.prototype.show=function(){this._container.visible=!0},NumberBoard.prototype.hide=function(){this._container.visible=!1},NumberBoard.prototype._ctor=function(){this._createNums()},NumberBoard.prototype._createNums=function(){for(var t=0;t<this._ROW;t++)for(var e=0;e<this._COL;e++){var i=new NumberBoardNumber(this,t*this._COL+e+1);i.getTransform().x=40.5+81*e,i.getTransform().y=40.5+81*t,this._nums.push(i),this._container.addChild(i.getTransform()),xqu.log("Number(%i) is created at Position(%s, %s)",i.getNumber(),i.getTransform().x,i.getTransform().y)}},NumberBoardNumber.SELECTED="NumberBoardNumber.SELECTED",NumberBoardNumber.UN_SELECT="NumberBoardNumber.UN_SELECT",NumberBoardNumber.MATCHED="NumberBoardNumber.MATCHED",NumberBoardNumber.UN_MATCH="NumberBoardNumber.UN_MATCH",NumberBoardNumber.MATCHED_WITH_STAR="NumberBoardNumber.MATCHED_WITH_STAR",NumberBoardNumber.UN_MATCH_WITH_STAR="NumberBoardNumber.UN_MATCH_WITH_STAR",NumberBoardNumber.prototype.getNumber=function(){return this._number},NumberBoardNumber.prototype.getTransform=function(){return this._container},NumberBoardNumber.prototype.show=function(){this._container.visible=!0},NumberBoardNumber.prototype.hide=function(){this._container.visible=!1},NumberBoardNumber.prototype._ctor=function(){this._createBg()},NumberBoardNumber.prototype._createBg=function(){this._bg=new Sprite(TextureCache["num_bg_purple.png"]),this._bg.anchor.set(.5),this._container.addChild(this._bg)},JackpotPannel.prototype.getTransform=function(){return this._container},JackpotPannel.prototype.show=function(){this._container.visible=!0},JackpotPannel.prototype.hide=function(){this._container.visible=!1},JackpotPannel.prototype._ctor=function(){this._createBg(),this._createTitle()},JackpotPannel.prototype._createBg=function(){this._bg=new Sprite(TextureCache["pannel_bg.png"]),xqu.config.IsMobile(),this._container.addChild(this._bg)},JackpotPannel.prototype._createTitle=function(){this._title=new Sprite(TextureCache["jackpot_title.png"]),this._title.x=(this._bg.width-this._title.width)/2,xqu.config.IsMobile(),this._container.addChild(this._title)},PayoutPannel.prototype.getTransform=function(){return this._container},PayoutPannel.prototype.show=function(){this._container.visible=!0},PayoutPannel.prototype.hide=function(){this._container.visible=!1},PayoutPannel.prototype._ctor=function(){this._createBg(),this._createTitle()},PayoutPannel.prototype._createBg=function(){this._bg=new Sprite(TextureCache["pannel_bg.png"]),this._container.addChild(this._bg)},PayoutPannel.prototype._createTitle=function(){this._title=new Sprite(TextureCache["payout_title.png"]),this._title.x=(this._bg.width-this._title.width)/2,this._container.addChild(this._title)},MultiStarPannel.prototype.getTransform=function(){return this._container},MultiStarPannel.prototype.show=function(){this._container.visible=!0},MultiStarPannel.prototype.hide=function(){this._container.visible=!1},MultiStarPannel.prototype._ctor=function(){this._createBg()},MultiStarPannel.prototype._createBg=function(){this._bg=new Sprite(TextureCache["picture.png"]),this._bg.anchor.set(.5),this._container.addChild(this._bg)},TotalWin.prototype.updateTotalWinAmount=function(t,e){var i,r=e.func,n=e.scope;0!=t?((i=this)._targetTotalWinAmount=t/100,t=(t=this._targetTotalWinAmount-this._currentTotalWinAmount)/(t<10?10:t<100?100:t<1e3?200:500),this._emitter.enable(),xqu.audio.playEffect("Snd_Total_Win_Tick",!0),TweenMax.to(i,t,{_currentTotalWinAmount:i._targetTotalWinAmount,roundProps:"_currentTotalWinAmount",onUpdate:function(){var t=26;i._currentTotalWinAmount<1e5?t=26:i._currentTotalWinAmount<1e6?t=23:i._currentTotalWinAmount<1e6&&(t=18),xqu.log(i._currentTotalWinAmount);var e=xqu.utils.sformatNumber(i._currentTotalWinAmount,0,".",",");i._winText.fontSize=t,i._winText.text=GameBank.GetCurrencyPrefixStr()+e},onComplete:function(){i._emitter.disable(),r.call(n,{}),xqu.audio.stopEffect("Snd_Total_Win_Tick"),xqu.audio.playEffect("Snd_Total_Win_Finish")}})):r.call(n,{})},TotalWin.prototype.reset=function(){this._currentTotalWinAmount=0,this._targetTotalWinAmount=0,this._winText.text=""},TotalWin.prototype.getTransform=function(){return this._container},TotalWin.prototype._ctor=function(){this._createBg(),this._createEmitter(),this._createWinText()},TotalWin.prototype._createBg=function(){this._bg=new Sprite(TextureCache["ingame_total_win_frame.png"]),this._bg.anchor.set(.5),this._container.addChild(this._bg)},TotalWin.prototype._createEmitter=function(){this._emitter=new TotalWinEmitter,this._emitter.getTransform().position.x=80,this._emitter.getTransform().position.y=-8,this._emitter.disable(),this._container.addChild(this._emitter.getTransform())},TotalWin.prototype._createWinText=function(){this._winText=new PIXI.BitmapText("",{fontName:"BMFont_Ingame_Total_Win",fontSize:18,align:"center"}),this._container.addChild(this._winText),this._winText.anchor.set(.5),this._winText.position.x=85,this._winText.position.y=-8},TotalWinEmitter.prototype._ctor=function(){this.createEmitter(),PIXI.Ticker.shared.add(this._update,this)},TotalWinEmitter.prototype.createEmitter=function(){this._emitter=new PIXI.particles.Emitter(this._container,[PIXI.Texture.from("ingame_total_win_emitter_1.png"),PIXI.Texture.from("ingame_total_win_emitter_2.png"),PIXI.Texture.from("ingame_total_win_emitter_3.png"),PIXI.Texture.from("ingame_total_win_emitter_4.png"),PIXI.Texture.from("ingame_total_win_emitter_5.png"),PIXI.Texture.from("ingame_total_win_emitter_6.png"),PIXI.Texture.from("ingame_total_win_emitter_7.png"),PIXI.Texture.from("ingame_total_win_emitter_8.png")],TotalWinEmitter.emitterConfig),this._emitter.emit=!0},TotalWinEmitter.prototype.cleanUp=function(){this._emitter.emit=!1,this._emitter.cleanup()},TotalWinEmitter.prototype.enable=function(){this._emitter.emit=!0},TotalWinEmitter.prototype.disable=function(){this._emitter.emit=!1},TotalWinEmitter.prototype.getTransform=function(){return this._container},TotalWinEmitter.prototype._update=function(t){this._updateEmitter(t/60*1e3)},TotalWinEmitter.prototype._updateEmitter=function(t){this._emitter.update(.001*t)},TotalWinEmitter.emitterConfig={alpha:{start:1,end:0},scale:{start:.4,end:.1,minimumScaleMultiplier:1},color:{start:"#e4f9ff",end:"#3fcbff"},speed:{start:300,end:0,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:0,max:360},noRotation:!1,rotationSpeed:{min:0,max:0},lifetime:{min:.2,max:1.8},blendMode:"normal",frequency:.056,emitterLifetime:-1,maxParticles:50,pos:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:0}},AutoPlayLayer.prototype.addCallback_startPlay=function(t,e){this._cbStartPlay={},this._cbStartPlay.fn=t,this._cbStartPlay.scope=e},AutoPlayLayer.prototype.addCallback_finishAllPlays=function(t,e){this._cbFinishAllPlays={},this._cbFinishAllPlays.fn=t,this._cbFinishAllPlays.scope=e},AutoPlayLayer.prototype.finishPlay=function(t,e){!(t-this._initialBalance>=this._configData.balanceLimit)&&!(e>=this._configData.winLimit)&&1<=this._playLeftAmt?this._callMainGameToPlayGame():this._cbFinishAllPlays.fn.call(this._cbFinishAllPlays.scope)},AutoPlayLayer.prototype.forceStop=function(){this._playLeftAmt=0},AutoPlayLayer.prototype.reset=function(){this._configData={playLeft:-1,balanceLimit:-1,winLimit:-1};for(var t=0;t<this._playLeftBtn_Array.length;t++)this._playLeftBtn_Array[t].setSelectState(!1);for(t=0;t<this._balanceLimitBtn_Array.length;t++)this._balanceLimitBtn_Array[t].setSelectState(!1);for(t=0;t<this._winLimitBtn_Array.length;t++)this._winLimitBtn_Array[t].setSelectState(!1);this._confirmBtn.setEnable(!1),this._playLeftAmtIndicator.text="",this._balanceLimitIndicator.text="",this._winLimitIndicator.text=""},AutoPlayLayer.prototype._onClickConfirmButton=function(){xqu.audio.playEffect("Snd_Utility_Btn"),this._confirmBtn.setEnable(!1),this._playLeftAmt=this._configData.playLeft,this._callMainGameToPlayGame(),this.hide()},AutoPlayLayer.prototype._callMainGameToPlayGame=function(){this._playLeftAmt--,this._cbStartPlay.fn.call(this._cbStartPlay.scope,this._playLeftAmt)},AutoPlayLayer.prototype._tryToEnableConfirmButton=function(){-1==this._configData.playLeft||-1==this._configData.balanceLimit||-1==this._configData.winLimit||this._confirmBtn.setEnable(!0)},AutoPlayLayer.prototype._selectPlayLeftBtn=function(t){xqu.audio.playEffect("Snd_Utility_Btn"),this._configData.playLeft=t;for(var e=0;e<this._playLeftBtn_Array.length;e++){var i=this._playLeftBtn_Array[e];i.getValue()!=t?i.setSelectState(!1):this._playLeftAmtIndicator.text=i.getText()}this._tryToEnableConfirmButton()},AutoPlayLayer.prototype._selectBalanceLimitBtn=function(t){xqu.audio.playEffect("Snd_Utility_Btn"),this._configData.balanceLimit=t;for(var e=0;e<this._balanceLimitBtn_Array.length;e++){var i=this._balanceLimitBtn_Array[e];i.getValue()!=t?i.setSelectState(!1):this._balanceLimitIndicator.text=i.getText()}this._tryToEnableConfirmButton()},AutoPlayLayer.prototype._selectWinLimitBtn=function(t){xqu.audio.playEffect("Snd_Utility_Btn"),this._configData.winLimit=t;for(var e=0;e<this._winLimitBtn_Array.length;e++){var i=this._winLimitBtn_Array[e];i.getValue()!=t?i.setSelectState(!1):this._winLimitIndicator.text=i.getText()}this._tryToEnableConfirmButton()},AutoPlayLayer.prototype.getTransform=function(){return this._container},AutoPlayLayer.prototype.show=function(){xqu.assert(!1,"AutoPlayLayer.show is not in use anymore, please use showWithBalance(balance) instead")},AutoPlayLayer.prototype.showWithBalance=function(t){this._container.visible=!0,this._initialBalance=t,this._tryToEnableConfirmButton()},AutoPlayLayer.prototype.hide=function(){xqu.audio.playEffect("Snd_Utility_Btn"),this._container.visible=!1},AutoPlayLayer.prototype._ctor=function(){this._createBg(),this._createConfigButtons(),this._createConfirmButton(),this._createExitButton(),this._createTextIndicators(),this.hide()},AutoPlayLayer.prototype._createBg=function(){this._graph=new PIXI.Graphics,this._graph.beginFill(0),this._graph.drawRect(-500,-100,xqu.config.GAME_DESIGN_SIZE_WIDTH+1e3,xqu.config.GAME_DESIGN_SIZE_HEIGHT+200),this._graph.alpha=.7,this._graph.pivot.x=.5,this._graph.pivot.y=.5,this._container.addChild(this._graph),this._graph.interactive=!0,this._panel=new Sprite,this._panel.anchor.set(.5),this._panel.x=xqu.config.SCREEN_CENTER_X,this._panel.y=xqu.config.SCREEN_CENTER_Y,this._container.addChild(this._panel),this._bg=new Sprite(TextureCache["autoplay_bg.png"]),this._bg.anchor.set(.5),this._panel.addChild(this._bg),this._bgTopBar=new Sprite(TextureCache["autoplay_bg_top_bar.png"]),this._bgTopBar.anchor.set(.5),this._bgTopBar.x=this._bg.x,this._bgTopBar.y=this._bg.y-this._bg.height/2,this._panel.addChild(this._bgTopBar),this._bgTitle=new Sprite(TextureCache["autoplay_title.png"]),this._bgTitle.anchor.set(.5),this._bgTitle.x=this._bgTopBar.x,this._bgTitle.y=this._bgTopBar.y,this._panel.addChild(this._bgTitle),this._playLeftTitle=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_description",fontSize:32,align:"center"}),this._playLeftTitle.text="Number of plays:",this._playLeftTitle.x=this._bg.x-this._bg.width/2,this._playLeftTitle.y=this._bg.y-this._bg.height/2+50,this._panel.addChild(this._playLeftTitle),this._balanceLimitTitle=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_description",fontSize:32,align:"center"}),this._balanceLimitTitle.text="Stop when cash decreased by:",this._balanceLimitTitle.x=this._bg.x-this._bg.width/2,this._balanceLimitTitle.y=this._bg.y-130,this._balanceLimitTitle.maxWidth=285,this._panel.addChild(this._balanceLimitTitle),this._winLimitTitle=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_description",fontSize:32,align:"center"}),this._winLimitTitle.text="Stop when single win more than:",this._winLimitTitle.x=this._bg.x-this._bg.width/2,this._winLimitTitle.y=this._bg.y+this._bg.height/2-275,this._winLimitTitle.maxWidth=285,this._panel.addChild(this._winLimitTitle)},AutoPlayLayer.prototype._createConfigButtons=function(){for(var t=this._playLeftTitle.x+350,e=this._playLeftTitle.y+25,i=0,r=0;r<this._Config_Play_Left.length;r++){var n=this._Config_Play_Left[r],i=(o=new AutoPlayConfigButton("play_"+n,"autoplay_config_small_btn_up.png","autoplay_config_small_btn_down.png",this._Config_Play_Left[r],n)).getWidth();o.setPosition(t+(i+10)*r,e),o.addClickListener(this._selectPlayLeftBtn,this),this._panel.addChild(o.getTransform()),this._playLeftBtn_Array.push(o)}for(e=this._balanceLimitTitle.y+45,r=0;r<this._Config_Balance_Limit.length;r++){var s=(a=this._Config_Balance_Limit[r])/100,o=null;(o=a<Number.MAX_SAFE_INTEGER?new AutoPlayConfigButton("money_"+s,"autoplay_config_small_btn_up.png","autoplay_config_small_btn_down.png","$"+s,a):new AutoPlayConfigButton("money_no_limit","autoplay_config_large_btn_up.png","autoplay_config_large_btn_down.png","NO LIMIT",a)).setPosition(t+(i+10)*r,e),o.addClickListener(this._selectBalanceLimitBtn,this),this._panel.addChild(o.getTransform()),this._balanceLimitBtn_Array.push(o)}e=this._winLimitTitle.y+45;for(r=0;r<this._Config_Win_Limit.length;r++){var a,s=(a=this._Config_Win_Limit[r])/100,o=null;(o=a<Number.MAX_SAFE_INTEGER?new AutoPlayConfigButton("win_"+s,"autoplay_config_small_btn_up.png","autoplay_config_small_btn_down.png","$"+s,a):new AutoPlayConfigButton("win_no_limit","autoplay_config_large_btn_up.png","autoplay_config_large_btn_down.png","NO LIMIT",a)).setPosition(t+(i+10)*r,e),o.addClickListener(this._selectWinLimitBtn,this),this._panel.addChild(o.getTransform()),this._winLimitBtn_Array.push(o)}},AutoPlayLayer.prototype._createExitButton=function(){this._exitBtn=new xqu.pixi.SimpleButton("exit_button",TextureCache["autoplay_x_btn.png"],TextureCache["autoplay_x_btn.png"],TextureCache["autoplay_x_btn.png"]),this._exitBtn.setPosition(this._bg.x-this._bg.width/2+40,this._bg.y-this._bg.height/2),this._panel.addChild(this._exitBtn.getTransform()),this._exitBtn.addEventListener("click",new xqu.Callback(this.hide,this))},AutoPlayLayer.prototype._createTextIndicators=function(){this._playLeftAmtIndicator=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_Value",fontSize:32,align:"center"}),this._playLeftAmtIndicator.text="",this._playLeftAmtIndicator.anchor.set(.5),this._playLeftAmtIndicator.x=this._playLeftTitle.x+120,this._playLeftAmtIndicator.y=this._playLeftTitle.y+100,this._panel.addChild(this._playLeftAmtIndicator),this._balanceLimitIndicator=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_Value",fontSize:32,align:"center"}),this._balanceLimitIndicator.text="",this._balanceLimitIndicator.anchor.set(.5),this._balanceLimitIndicator.x=this._playLeftAmtIndicator.x,this._balanceLimitIndicator.y=this._playLeftAmtIndicator.y+160,this._panel.addChild(this._balanceLimitIndicator),this._winLimitIndicator=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_Value",fontSize:32,align:"center"}),this._winLimitIndicator.text="",this._winLimitIndicator.anchor.set(.5),this._winLimitIndicator.x=this._playLeftAmtIndicator.x,this._winLimitIndicator.y=this._balanceLimitIndicator.y+160,this._panel.addChild(this._winLimitIndicator)},AutoPlayLayer.prototype._createConfirmButton=function(){this._confirmBtn=new xqu.pixi.SimpleButton("confirm_button",TextureCache["autoplay_confirm_btn.png"],TextureCache["autoplay_confirm_btn.png"],TextureCache["autoplay_confirm_btn.png"]),this._confirmBtn.setPosition(this._bg.x+this._bg.width/2-this._confirmBtn.getTransform().width/2-40,this._bg.y+this._bg.height/2-60),this._panel.addChild(this._confirmBtn.getTransform()),this._confirmBtn.addEventListener("click",new xqu.Callback(this._onClickConfirmButton,this)),this._confirmBtn.setEnable(!1)};var AutoPlayConfigButton=function(t,e,i,r,n){this._name=t,this._textureUp=TextureCache[e],this._textureDown=TextureCache[i],this._txt=r,this._value=n,this._clickFunc=null,this._btn=new Sprite(this._textureUp),this._btn.buttonMode=!0,this._btn.interactive=!0,this._title=new PIXI.BitmapText("",{fontName:"BMFont_JT_Auto_Play_Setting_Value",fontSize:32,align:"center"}),this._title.text=r,this._title.x=this._btn.width/2,this._title.y=this._btn.height/2-15,this._title.anchor.set(.5),this._btn.addChild(this._title),this._btn.on("click",this._onClickButton.bind(this)),this._btn.on("tap",this._onClickButton.bind(this))};AutoPlayConfigButton.prototype.reset=function(){this._btn.texture=this._textureUp},AutoPlayConfigButton.prototype.getName=function(){return this._name},AutoPlayConfigButton.prototype.getValue=function(){return this._value},AutoPlayConfigButton.prototype.getText=function(){return this._txt},AutoPlayConfigButton.prototype.getTransform=function(){return this._btn},AutoPlayConfigButton.prototype.setPosition=function(t,e){this._btn.x=t,this._btn.y=e},AutoPlayConfigButton.prototype.getWidth=function(t,e){return this._btn.width},AutoPlayConfigButton.prototype.setSelectState=function(t){this._btn.texture=t?this._textureDown:this._textureUp},AutoPlayConfigButton.prototype.addClickListener=function(t,e){this._clickFunc={},this._clickFunc.fn=t,this._clickFunc.scope=e},AutoPlayConfigButton.prototype._onClickButton=function(){this._btn.texture=this._textureDown,this._clickFunc&&this._clickFunc.fn.call(this._clickFunc.scope,this._value)};